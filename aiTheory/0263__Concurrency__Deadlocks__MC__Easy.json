{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Deadlocks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-14 17:58:01",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      15
    ],
    "token_usage": {
      "prompt_tokens": 2076,
      "output_tokens": 796,
      "total_tokens": 4228
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Deadlocks"
    ],
    "difficulty_estimation": "Easy",
    "content": {
      "text": "איזה מהתיאורים הבאים מתאר בצורה הטובה ביותר את התנאי 'המתנה מעגלית' (circular wait), שהוא אחד מארבעת התנאים ההכרחיים לקיומו של קיפאון (deadlock)?",
      "code_snippet": "//Thread 1::\nlock(&L1);\nlock(&L2);\n\n//Thread 2::\nlock(&L2);\nlock(&L1);",
      "options": [
        "א. מצב שבו חוטים שונים תופסים משאבים (מנעולים) בסדר הפוך, וכל חוט ממתין למשאב שמוחזק על ידי חוט אחר במעגל.",
        "ב. מצב שבו חוט יחיד תופס את כל המשאבים הדרושים לו, אך אינו משחרר אותם לעולם.",
        "ג. מצב שבו המשאבים הדרושים לחוטים אינם זמינים כלל במערכת, ולכן אין אפשרות להתקדם.",
        "ד. מצב שבו מנעול בודד אינו מקיים את תכונת ה-deadlock freedom, ובכך גורם לקיפאון בשימוש בו."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א. לפי חומר ההרצאה (שיעור 15, קטע 5), 'המתנה מעגלית' (circular wait) מתוארת כמצב בו 'חוטים שונים תופסים משאבים בסדר הפוך'. הדוגמה בקוד המצורף ממחישה זאת היטב: חוט 1 תופס את L1 ואז רוצה את L2, בעוד חוט 2 תופס את L2 ואז רוצה את L1. מצב זה יוצר מעגל המתנה שבו כל חוט ממתין למשאב שמוחזק על ידי החוט הבא במעגל, מה שמונע מכל החוטים להתקדם.\n\nאפשרויות אחרות אינן נכונות:\nב. תיאור זה מתאר יותר מצב של הרעבה (starvation) או חוסר שחרור משאבים, ולא את התנאי הספציפי של 'המתנה מעגלית' או את תנאי הקיפאון כפי שהוגדרו.\nג. תיאור זה סותר את ההגדרה של קיפאון, לפיה 'כל המשאבים הדרושים זמינים להם' (שיעור 15, קטע 0), אך המערכת עדיין תקועה. בקיפאון, המשאבים קיימים אך אינם ניתנים לשימוש עקב סדר התפיסה שלהם.\nד. תיאור זה מתייחס למקרה של מנעול בודד שאינו מקיים deadlock freedom, כפי שנדון בשיעור 16 (קטע 28), אך אינו מתאר את התנאי 'המתנה מעגלית' שמתייחס בדרך כלל לאינטראקציה בין מספר מנעולים."
    }
  }
}