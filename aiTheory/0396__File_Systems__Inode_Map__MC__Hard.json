{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Inode Map",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:29:36",
    "context_chunks_used": 5,
    "context_lectures": [
      22
    ],
    "token_usage": {
      "prompt_tokens": 1897,
      "output_tokens": 732,
      "total_tokens": 4446
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Inode Map"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתחשב במנגנון ה-Checkpoint Region (CR) ובחלוקת ה-inode map (imap) לחלקים, מהי ההשלכה הסבירה ביותר של קריסת מערכת המתרחשת לאחר שחלק מעודכן של ה-imap נכתב בהצלחה לדיסק, אך לפני שה-CR עצמו עודכן להצביע לגרסה החדשה של אותו חלק?",
      "code_snippet": null,
      "options": [
        "א. המערכת תשחזר גרסה לא עדכנית של חלק ה-imap, מה שעלול להוביל לחוסר עקביות בנתונים או לאובדנם.",
        "ב. המערכת לא תצליח לעלות כלל (boot failure) מכיוון שה-CR יצביע לחלק imap פגום.",
        "ג. המערכת תבנה מחדש באופן אוטומטי את חלק ה-imap הנכון מתוך בלוקי סיכום הסגמנטים (segment summary blocks).",
        "ד. ה-imap נשמר תמיד בעקביות מלאה על הדיסק יחד עם ה-CR, ולכן תרחיש כזה אינו אפשרי."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "ההסבר הנכון הוא א'. על פי חומר ההרצאה, ה-Checkpoint Region (CR) מצביע לגרסאות העדכניות ביותר של חלקי ה-imap. עם זאת, ה-CR עצמו נכתב לדיסק לעיתים רחוקות (למשל, כל 30 דקות) כדי למנוע פגיעה בביצועים. אם חלק מה-imap מתעדכן ונכתב לדיסק, אך המערכת קורסת לפני שה-CR הספיק להתעדכן ולהצביע לגרסה החדשה של אותו חלק, ה-CR יישאר עם המצביע לגרסה הישנה. בעת אתחול מחדש, המערכת תקרא את ה-CR, אשר יוביל אותה לגרסה המיושנת של חלק ה-imap. כתוצאה מכך, ה-imap שייבנה בזיכרון יהיה לא עדכני, וזה עלול לגרום לחוסר עקביות בנתונים או לאובדן נתונים שהיו אמורים להיות משויכים לגרסה החדשה יותר של ה-inode. אפשרויות ב', ג' ו-ד' אינן נכונות מכיוון שה-CR יצביע לגרסה תקינה אך מיושנת (לא פגומה), חומר ההרצאה אינו מתאר מנגנון שחזור אוטומטי של imap מבלוקי סיכום במקרה כזה, והוא מדגיש שה-CR אינו מתעדכן באופן מיידי עם כל עדכון imap."
    }
  }
}