{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Mutexes",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:35:13",
    "context_chunks_used": 5,
    "context_lectures": [
      10,
      11,
      13,
      14,
      16
    ],
    "token_usage": {
      "prompt_tokens": 2001,
      "output_tokens": 774,
      "total_tokens": 8464
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Mutexes"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על התיאור בשיעור לגבי מנעול (mutex) פגום, כאשר חוט 0 וחוט 1 מנסים לנעול אותו (באמצעות פעולת ה-`lock`) במקביל, כפי שתואר, מהי התוצאה הישירה והבעייתית הנובעת מכך, ואיזו תכונה יסודית של מנעולים תקינים הוא מפר?",
      "code_snippet": null,
      "options": [
        "א. שני החוטים ייכנסו לקטע הקריטי בו זמנית, והמנעול מפר את תכונת ה\"מניעה ההדדית\" (Mutual Exclusion).",
        "ב. רק חוט אחד ייכנס לקטע הקריטי, בעוד שהחוט השני יסבול מ\"הרעבה\" (Starvation) ולא יוכל להיכנס לעולם.",
        "ג. המערכת תיכנס למצב של \"קיפאון\" (Deadlock) כיוון ששני החוטים ימתינו זה לזה באופן בלתי הפיך.",
        "ד. המנעול יבצע פעולת `unlock` אוטומטית לפני מעבר למצב המתנה (wait), ולאחר ההתעוררות יבצע `lock` מחדש."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "ההסבר בשיעור 16 (chunk 8) מתאר מפורשות מצב שבו מנעול אינו מקיים מניעה הדדית. נאמר שם: \"מניעה הדדית פירושה: שני חוטים לא יכולים להיות בקטע הקריטי במקביל. אם זה לא מתקיים, זה אומר שייתכן ושני חוטים מחזיקים במנעול בו זמנית, כלומר שני חוטים נמצאים בקטע הקריטי במקביל.\" בהמשך התיאור, מודגם כיצד חוט 0 וחוט 1 קוראים ל-`lock` ו\"שני החוטים בו זמנית בקטע הקריטי ובו זמנית מחזיקים במנעול ולכן אין מניעה הדדית במנעול הזה.\" לכן, התוצאה הישירה היא כניסה בו-זמנית של שני החוטים לקטע הקריטי, מה שמפר את תכונת ה\"מניעה ההדדית\", שהיא תכונה יסודית של מנעולים תקינים (כפי שהוגדר בשיעור 11, chunk 12). אפשרויות ב' ו-ג' מתארות בעיות אחרות (הרעבה וקיפאון) שאינן הכשל המפורש והמיידי של מנעול זה. אפשרות ד' מתארת את מנגנון הפעולה של `wait` עם Mutex ו-Condition Variable (שיעור 13, chunk 38), ואינה רלוונטית לכשל במנעול עצמו כפי שתואר בשיעור 16."
    }
  }
}