{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Context Switching",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 16:57:07",
    "context_chunks_used": 5,
    "context_lectures": [
      2,
      6
    ],
    "token_usage": {
      "prompt_tokens": 1956,
      "output_tokens": 801,
      "total_tokens": 5162
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Context Switching"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "במהלך החלפת הקשר (context switch) בין תהליכים, איזו פעולה קריטית מבצעת מערכת ההפעלה בנוגע לניהול זיכרון, ומדוע פעולה זו דורשת הרשאות מיוחדות?",
      "code_snippet": null,
      "options": [
        "א. מערכת ההפעלה מעדכנת את רגיסטרי ה-Base וה-Bounds במעבד כדי להבטיח את הגנת הזיכרון של התהליך החדש, ופעולה זו מותרת רק ב-kernel mode.",
        "ב. מערכת ההפעלה שומרת את כל תוכן הזיכרון של התהליך היוצא לקובץ גיבוי, וזה דורש הרשאות מיוחדות כדי לגשת לדיסק.",
        "ג. מערכת ההפעלה מקצה מקטעי זיכרון חדשים לחלוטין עבור התהליך הנכנס, וזה דורש הרשאות kernel כדי לשנות את מפת הזיכרון.",
        "ד. מערכת ההפעלה מאפשרת לתהליך המשתמש לעדכן באופן ישיר את רגיסטרי ה-MMU כדי לייעל את ביצועי הגישה לזיכרון."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. במהלך החלפת הקשר (context switch), מערכת ההפעלה מפסיקה את ריצת התהליך הנוכחי, שומרת את מצבו וטוענת תהליך חדש (על פי chunk 16). חלק קריטי מתהליך זה, כפי שמפורט ב-chunk 15, הוא עדכון רגיסטרי ה-Base וה-Bounds במעבד. רגיסטרים אלו חיוניים לניהול הזיכרון ולהבטחת הגנת הזיכרון של התהליך החדש על ידי ה-MMU. עדכון רגיסטרים אלו הוא פעולה מיוחסת (privileged operation) שמותרת רק ב-kernel mode, ולכן רק מערכת ההפעלה יכולה לבצעה. זה מבטיח שאף תהליך משתמש לא יוכל לשנות את גבולות הזיכרון שלו באופן עצמאי ולגשת לזיכרון של תהליכים אחרים או של ה-kernel.\n\nאפשרויות ב' ו-ג' אינן מתארות את הפעולה הקריטית והספציפית ביותר לניהול זיכרון בהקשר של Base&Bounds ו-kernel mode כפי שמתואר בחומר. שמירת כל תוכן הזיכרון לדיסק אינה חלק סטנדרטי מ-context switch רגיל, והקצאת זיכרון חדש לחלוטין אינה תמיד נדרשת (התהליך הנכנס משתמש במקטעי הזיכרון שהוקצו לו כבר). אפשרות ד' שגויה לחלוטין, שכן היא מציעה שתהליך משתמש יכול לעדכן רגיסטרים של ה-MMU, דבר שמנוגד ישירות לדרישת ה-kernel mode עבור פעולות אלו (chunk 15 ו-24)."
    }
  }
}