{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Atomic Operations",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-14 17:48:46",
    "context_chunks_used": 5,
    "context_lectures": [
      11,
      13,
      14
    ],
    "token_usage": {
      "prompt_tokens": 1793,
      "output_tokens": 621,
      "total_tokens": 4403
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Atomic Operations"
    ],
    "difficulty_estimation": "Easy",
    "content": {
      "text": "מהו המאפיין העיקרי של פעולה אטומית ברמת החומרה, כפי שתואר בחומר הקורס?",
      "code_snippet": "int TestAndSet(int* old_ptr, int new) {\n  int old = *old_ptr;\n  *old_ptr = new;\n  return old;\n}",
      "options": [
        "א. זוהי רצף של מספר פקודות מכונה המבוצעות ללא הפרעה על ידי שימוש במנעול תוכנה.",
        "ב. זוהי פקודת חומרה יחידה המבצעת מספר פעולות באופן בלתי ניתן לחלוקה (אטומי).",
        "ג. היא תמיד דורשת שימוש במנגנון נעילה (כמו מנעול או סמפור) להבטחת אטומיות.",
        "ד. היא מיועדת רק לפעולות מתמטיות פשוטות כמו הגדלה או הקטנה של מונה."
      ]
    },
    "solution": {
      "correct_option": "ב",
      "explanation": "חומר הקורס (הרצאה 11, קטעים 38 ו-40) מגדיר פעולות אטומיות כ\"פעולות חומרה שיש במעבד, שבבת אחת עושות כמה פעולות\" וכי הן \"מתבצעות בפקודה אחת (במקום 3)\". דוגמת הפקודה TestAndSet מדגימה כיצד פקודת מכונה אחת מבצעת קריאה וכתיבה באופן אטומי, כלומר, מספר צעדים לוגיים מתבצעים כמקשה אחת. אפשרות א' מתארת קטע קריטי המוגן על ידי מנעול, שהוא מנגנון המשתמש בפעולות אטומיות, אך אינו ההגדרה של פעולה אטומית עצמה. אפשרות ג' אינה נכונה מכיוון שפעולה אטומית היא כזו מטבעה ברמת החומרה, ואינה דורשת מנגנון נעילה חיצוני כדי להיות אטומית. אפשרות ד' מגבילה מדי את השימוש בפעולות אטומיות; בעוד שהן משמשות להגדלה/הקטנה, הן יכולות לבצע גם פעולות מורכבות יותר כמו TestAndSet."
    }
  }
}