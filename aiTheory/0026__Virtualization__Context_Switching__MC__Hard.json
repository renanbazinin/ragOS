{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Context Switching",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 16:58:01",
    "context_chunks_used": 5,
    "context_lectures": [
      2,
      6
    ],
    "token_usage": {
      "prompt_tokens": 1956,
      "output_tokens": 997,
      "total_tokens": 5595
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Context Switching"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על אתגרי מנגנון ה-Context Switch, ובפרט אתגר ה\"שליטה\" של מערכת ההפעלה, איזה מההיגדים הבאים מתאר בצורה המדויקת ביותר את הקושי בשיטת \"Direct Execution\" ואת הפתרון החלקי שקריאות מערכת (System Calls) מציעות בהקשר של ביצוע פעולות פריבילגיות כחלק מהחלפת הקשר?",
      "code_snippet": null,
      "options": [
        "א. בשיטת Direct Execution, מערכת ההפעלה מאבדת שליטה מוחלטת על המעבד בזמן ריצת התהליך, מה שמקשה עליה לבצע עדכוני Base&Bounds ברגיסטרי המעבד במהלך החלפת הקשר, שכן פעולה זו דורשת Kernel Mode. קריאות מערכת מאפשרות לתהליך לעבור מרצון ל-Kernel Mode, ובכך להחזיר זמנית את השליטה למערכת ההפעלה כדי לבצע פעולות אלו.",
        "ב. שיטת Direct Execution מבטיחה ביצועים אופטימליים בכך שהיא מונעת את הצורך ב-Context Switch תכוף, אך היא דורשת מהתהליכים לבצע את כל פעולות הזיכרון בעצמם. קריאות מערכת מאפשרות למערכת ההפעלה לנהל את הזיכרון עבור התהליכים, אך אינן קשורות ישירות לאתגר השליטה בזמן החלפת הקשר.",
        "ג. אתגר השליטה ב-Direct Execution נובע מכך שמערכת ההפעלה אינה יכולה לשמור את כל הרגיסטרים ומיקומי הזיכרון של תהליך מושהה. קריאות מערכת פותרות זאת על ידי שמירת מצב התהליך באופן אוטומטי ב-PCB לפני כל מעבר ל-Kernel Mode.",
        "ד. בשיטת Direct Execution, מערכת ההפעלה חייבת להמתין שהתהליך יסיים את ריצתו לחלוטין לפני שהיא יכולה להחליף תהליך. קריאות מערכת מאפשרות לתהליך להודיע למערכת ההפעלה על רצונו לסיים, ובכך לזרז את החלפת הקשר."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. על פי חומר ההרצאה, בשיטת Direct Execution, כשתהליך רץ, הוא שולט באופן מלא במעבד (chunk 20), מה שיוצר את אתגר ה\"שליטה\" עבור מערכת ההפעלה (chunk 16). קושי זה בא לידי ביטוי בכך שמערכת ההפעלה אינה יכולה לבצע פעולות פריבילגיות, כמו עדכון רגיסטרי ה-Base&Bounds במעבד במהלך Context Switch, פעולה אשר חיונית לניהול הזיכרון ודורשת Kernel Mode (chunk 15). קריאות מערכת (System Calls) מהוות מנגנון שבאמצעותו תהליך יכול לעבור מרצון מ-User Mode ל-Kernel Mode, ובכך להחזיר את השליטה למערכת ההפעלה ולאפשר לה לבצע את הפעולות הפריבילגיות הנדרשות, כולל אלו הקשורות להחלפת הקשר ולניהול זיכרון (chunk 24). התשובות האחרות אינן מדויקות: ב' מטעה לגבי הצורך ב-Context Switch וניהול הזיכרון; ג' אינה מתארת נכונה את אתגר השליטה או את תפקיד קריאות המערכת בשמירת ההקשר; ו-ד' מציגה תפקיד שגוי לקריאות מערכת בהקשר של סיום תהליכים ואינה מתייחסת לעיקר אתגר השליטה בפעולות פריבילגיות."
    }
  }
}