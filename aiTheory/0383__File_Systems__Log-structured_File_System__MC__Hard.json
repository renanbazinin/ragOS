{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Log-structured File System",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:26:14",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21,
      22
    ],
    "token_usage": {
      "prompt_tokens": 2062,
      "output_tokens": 685,
      "total_tokens": 4309
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Log-structured File System"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "במערכת קבצים מסוג LFS (Log-structured File System), מהו האתגר העיקרי העומד בפני תהליך ה-\"Garbage Collection\" (איסוף זבל) כאשר הוא מנסה לפנות שטח דיסק, בהתחשב בעקרון העיצוב הבסיסי של המערכת?",
      "code_snippet": null,
      "options": [
        "א. הצורך לאתר ולסמן בלוקים בודדים שאינם תקפים (זבל) בתוך סגמנט, מבלי להזיז בלוקים תקפים שנותרו באותו סגמנט.",
        "ב. הקושי לפנות סגמנט שלם כאשר הוא מכיל תערובת של בלוקים תקפים ובלוקים שאינם תקפים, מבלי לפגוע בנתונים התקפים.",
        "ג. ביצועי קריאה ירודים הנגרמים מפיזור נתונים ברחבי הדיסק כתוצאה מכתיבה סדרתית לסגמנטים.",
        "ד. הצורך לתחזק רשימה מקושרת של כל ה-inodes התקפים בדיסק כדי לאפשר גישה מהירה לנתונים."
      ]
    },
    "solution": {
      "correct_option": "ב",
      "explanation": "החומר המצוין בשיעור מדגיש כי הרעיון הבסיסי של LFS הוא לכתוב סגמנטים שלמים ולפנות סגמנטים שלמים, ולא בלוקים בודדים. האתגר העיקרי בתהליך ה-Garbage Collection הוא שסגמנטים רבים אינם מכילים רק בלוקים 'זבל' (גרסאות ישנות או נתונים שנמחקו), אלא גם בלוקים תקפים שעדיין בשימוש. לכן, הקושי הוא לפנות סגמנט שלם כאשר הוא מכיל תערובת כזו, מכיוון שאי אפשר פשוט למחוק את כל הסגמנט מבלי לאבד נתונים תקפים. יש צורך להעתיק את הבלוקים התקפים לסגמנט חדש לפני שניתן יהיה לפנות את הסגמנט הישן כולו, מה שמוסיף מורכבות ועלויות לתהליך איסוף הזבל. אפשרות א' שגויה מכיוון שהיא מתמקדת בפינוי בלוקים בודדים, בניגוד לעקרון של LFS. אפשרויות ג' ו-ד' אינן מתארות את האתגר הספציפי של ה-Garbage Collection ב-LFS."
    }
  }
}