{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Log-structured FS and Inode Map",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 19:10:25",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      22
    ],
    "token_usage": {
      "prompt_tokens": 2002,
      "output_tokens": 764,
      "total_tokens": 5234
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Log-structured FS and Inode Map"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהקשר של מערכת קבצים מבוססת יומן (Log-structured File System - LFS), בה inodes נכתבים ליומן כחלק מסגמנטים, מהי הסיבה המרכזית לכך שמפת ה-inodes (imap) מתוחזקת באופן סגמנטלי ונכתבת ליומן יחד עם עדכוני נתונים, ולא כבלוק סטטי יחיד כמו במערכות קבצים מסורתיות?",
      "code_snippet": null,
      "options": [
        "א. כדי לאפשר איתור מהיר של הגרסה העדכנית ביותר של כל inode, שכן מיקומו הפיזי בדיסק משתנה עם כל עדכון ונכתב למיקום חדש ביומן, וה-imap חייב לשקף מיקומים דינמיים אלה.",
        "ב. כדי להפחית את השחיקה בדיסק על ידי ריכוז כל עדכוני ה-metadata לבלוק אחד, ובכך למנוע כתיבות מרובות לאזורים שונים בדיסק.",
        "ג. ה-imap משמש בעיקר לניהול בלוקים פנויים עבור inodes, בדומה ל-inode bitmap, ופירוקו לסגמנטים מאפשר חיפוש יעיל יותר של inodes פנויים.",
        "ד. חלוקת ה-imap לסגמנטים נועדה להתאים אותו לגדלים שונים של בלוקים פיזיים בדיסק, ובכך לייעל את ניצול השטח."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "במערכת קבצים מבוססת יומן (LFS), כל שינוי בנתונים או ב-metadata (כולל inodes) נכתב כגרסה חדשה לסוף היומן. המשמעות היא שמיקומו הפיזי של inode בדיסק אינו קבוע, אלא משתנה עם כל עדכון. מפת ה-inodes (imap) תפקידה לאתר את הגרסה העדכנית ביותר של כל inode ביומן. מכיוון שה-imap עצמה מתעדכנת לעיתים קרובות (כאשר inodes משתנים ומיקומם החדש נרשם), היא נכתבת ליומן יחד עם סגמנטים אחרים. חלוקת ה-imap לחלקים מאפשרת לכתוב רק את החלקים הרלוונטיים שהשתנו, ובכך למנוע כתיבה מחדש של ה-imap כולו בכל פעם, מה שמפחית את עלות הכתיבה ומשפר את הביצועים. זהו מנגנון קריטי לאיתור inodes במערכת LFS הדינמית, המשתקף בתיאור החומר: \"ה-imap מצביע על הגרסה העדכנית של inode k\" וכן \"אנחנו מפרקים אותו לחלקים וכותבים את החלק הרלוונטי המעודכן\"."
    }
  }
}