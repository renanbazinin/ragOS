{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Copy-on-Write",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:24:16",
    "context_chunks_used": 5,
    "context_lectures": [
      8,
      9,
      4,
      7
    ],
    "token_usage": {
      "prompt_tokens": 1949,
      "output_tokens": 760,
      "total_tokens": 5485
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Copy-on-Write"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהינתן מערכת הפעלה המיישמת מנגנון Copy-on-Write (CoW) בעת יצירת תהליך בן באמצעות `fork()`. תהליך אב כולל 10 דפי קוד ו-5 דפי מחסנית. טבלת הדפים של תהליך נכנסת לדף זיכרון פיזי אחד. מהי כמות הזיכרון הפיזי המינימלית, במונחי דפים, שתהליך הבן יצרוך *מיד* לאחר קריאה ל-`fork()` (לפני ביצוע פעולות כתיבה כלשהן)?",
      "code_snippet": null,
      "options": [
        "א. דף אחד, המיועד לטבלת הדפים של תהליך הבן בלבד.",
        "ב. 6 דפים, הכוללים את טבלת הדפים ואת המחסנית.",
        "ג. 15 דפים, הכוללים את דפי הקוד והמחסנית של תהליך האב.",
        "ד. 11 דפים, הכוללים את דפי הקוד של תהליך האב וטבלת הדפים של תהליך הבן."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "מנגנון Copy-on-Write (CoW) נועד לחסוך שכפול מיותר של דפי זיכרון יקרים בעת יצירת תהליך בן באמצעות `fork()`. במקום לשכפל מיד את כל דפי הזיכרון של האב (קוד, נתונים, מחסנית), תהליך הבן מקבל גישה לדפים הפיזיים המשותפים עם האב. השכפול בפועל של הדף מתבצע רק כאשר אחד התהליכים (האב או הבן) מנסה לבצע פעולת כתיבה לדף משותף.\n\nעם זאת, לכל תהליך חייבת להיות טבלת דפים משלו ('לכל תהליך יש טבלת דפים משלו'). טבלת הדפים הזו היא הכרחית למיפוי מרחב הכתובות הווירטואלי הייחודי של כל תהליך לזיכרון הפיזי. לכן, גם עם CoW, תהליך הבן יצרוך מיד דף זיכרון פיזי אחד עבור טבלת הדפים שלו, כפי שצוין גם בחומר הלימוד ('כל תהליך שנוצר גם צריך דף עבור טבלת הדפים שלו').\n\nדפי הקוד והמחסנית (10 ו-5 דפים בהתאמה) אינם משוכפלים מיד; הם משותפים בין האב לבן עד שמתבצעת פעולת כתיבה. לכן, כמות הזיכרון הפיזי המינימלית שתהליך הבן יצרוך מיד היא דף אחד בלבד עבור טבלת הדפים שלו."
    }
  }
}