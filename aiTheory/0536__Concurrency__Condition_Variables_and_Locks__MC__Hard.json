{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Condition Variables and Locks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 19:04:37",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      11,
      15
    ],
    "token_usage": {
      "prompt_tokens": 1698,
      "output_tokens": 753,
      "total_tokens": 5378
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Condition Variables and Locks"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על עקרונות תכנון מנעולים תוכנתיים במערכות הפעלה, ובפרט על מגבלות מימוש מנעולים ללא שימוש בפקודות חומרה אטומיות מיוחדות (כגון test_and_set או compare_and_swap), איזו מהטענות הבאות מתארת נכונה את היכולת לממש מנעול כללי (עבור N חוטים שרירותי) המשתמש במספר קבוע ומוגבל של משתנים (למשל, שניים בלבד)?",
      "code_snippet": null,
      "options": [
        "א. מנעול כזה יכול לקיים בו-זמנית מניעה הדדית (Mutual Exclusion), חופש מקיפאון (Deadlock Freedom) והוגנות (Fairness), אם כי מימושו מורכב.",
        "ב. מנעול כזה יכול לקיים מניעה הדדית והוגנות, אך אינו יכול להבטיח חופש מקיפאון.",
        "ג. מנעול כזה אינו יכול לקיים בו-זמנית מניעה הדדית וחופש מקיפאון; אחד משני התנאים הללו בוודאות לא יתקיים במימוש כזה.",
        "ד. מנעול כזה יכול לקיים חופש מקיפאון והוגנות, אך אינו יכול להבטיח מניעה הדדית."
      ]
    },
    "solution": {
      "correct_option": "ג",
      "explanation": "החומר המצוין בשיעור 16 (קטע 27) קובע במפורש: \"לא ניתן לממש מנעול לכל מספר של חוטים עם רק שני משתנים בלבד. בשביל לממש מנעול ל-100 חוטים, נדרשים 100 משתנים. אלא אם כן משתמשים בפקודות חומרה מיוחדות מה שלא קורה כאן. אז לא יכול להיות שהמנעול הזה תקין. לא ייתכן שהוא גם מקיים מניעה הדדית וגם deadlock freedom, במצב הזה אחד מהם לא יכול להתקיים בוודאות.\" משפט זה מדגיש מגבלה יסודית בתכנון מנעולים תוכנתיים כלליים (עבור N חוטים) ללא תמיכת חומרה אטומית, המשתמשים במספר קבוע ומוגבל של משתנים. במצב כזה, לא ניתן להבטיח בו-זמנית גם מניעה הדדית (שרק חוט אחד ייכנס לקטע הקריטי) וגם חופש מקיפאון (שחוטים המעוניינים להיכנס לקטע הקריטי אכן יצליחו בסופו של דבר). לכן, בהכרח אחד מהתנאים הללו ייפגע, וזה תואם לאפשרות ג'."
    }
  }
}