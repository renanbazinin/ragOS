{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Inodes",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:08:55",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      22
    ],
    "token_usage": {
      "prompt_tokens": 1834,
      "output_tokens": 1001,
      "total_tokens": 10518
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Inodes"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "במערכת קבצים המשתמשת במבנה סגמנטים (segments) וב-imap (inode map) לניהול גרסאות, כיצד קובעת המערכת האם בלוק נתונים (data block) מסוים, שנמצא בתוך סגמנט, אכן מייצג את הגרסה העדכנית והתקפה ביותר של נתוני קובץ המשויכים ל-inode מסוים?",
      "code_snippet": null,
      "options": [
        "א. המערכת פונה ל-imap כדי לאתר את הגרסה העדכנית ביותר של ה-inode הרלוונטי. לאחר מכן, היא בודקת האם בלוק הנתונים שנמצא בסגמנט תואם לאחד מבלוקי הנתונים שמצוינים בגרסת ה-inode העדכנית שאותרה.",
        "ב. כל בלוק נתונים מכיל מספר גרסה פנימי, אשר מושווה מול מספר הגרסה האחרונה של ה-inode השמור ב-Super Block.",
        "ג. בלוק סיכום הסגמנט (segment summary block) מכיל רשימה של כל בלוקי הנתונים התקפים בתוכו, כולל חותמת זמן המעידה על תקיפותם.",
        "ד. ה-inode עצמו מכיל מצביע לבלוק הנתונים העדכני ביותר, והמערכת בודקת אם המצביע הזה תואם למיקום הבלוק בסגמנט."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "החומר המצוין בפרק 22, פיסקה 15, מסביר כיצד מתבצעת בדיקת תקיפות זו: \"אם בסגמנט כלשהו אנחנו יודעים שיש דאטה של inode x, נלך ל-imap ונסתכל על הגרסה הכי עדכנית של inode x ונבדוק אם המיקום שנשמר ב-imap לזה למיקום שבסגמנט שאנחנו עכשיו מסתכלים עליו, אם כן, אז הדאטה הזה תקף\". ה-imap משמש כמנגנון המרכזי למציאת הגרסה העדכנית ביותר של כל inode. ברגע שאותרה גרסת ה-inode העדכנית דרך ה-imap, המערכת יכולה לגשת לפרטי ה-inode (כפי שמצוין בפרק 20, פיסקה 5: \"מכיל את מספרי הבלוקים בהם נמצא התוכן של אותו קובץ\") ולבדוק האם בלוק הנתונים שנמצא בסגמנט אכן תואם לאחד מהבלוקים שמצוינים בגרסת ה-inode העדכנית. אפשרות א' מתארת תהליך זה בצורה המדויקת ביותר.\nאפשרות ב' שגויה מכיוון שהחומר אינו מציין כי בלוקי נתונים מכילים מספרי גרסה פנימיים או ש-Super Block מאחסן גרסאות Inode. ה-Super Block מכיל נתונים כלליים על מערכת הקבצים, כולל מספר ה-inodes, אך לא גרסאות ספציפיות.\nאפשרות ג' שגויה מכיוון שבלוק סיכום הסגמנט מתאר את תוכנו של הסגמנט, אך אינו קובע את תקיפות הנתונים באופן מוחלט. התקיפות נקבעת על ידי השוואה למידע העדכני ב-imap.\nאפשרות ד' שגויה מכיוון שאף על פי שה-inode אכן מכיל מצביעים לבלוקי הנתונים שלו, אפשרות זו מתעלמת מהתפקיד המכריע של ה-imap במציאת ה-inode ה*עדכני* ביותר. ללא ה-imap, המערכת עלולה לבדוק inode מיושן, שאינו מייצג את מצב הקובץ העדכני."
    }
  }
}