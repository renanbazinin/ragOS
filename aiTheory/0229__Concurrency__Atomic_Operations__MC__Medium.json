{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Atomic Operations",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:49:05",
    "context_chunks_used": 5,
    "context_lectures": [
      11,
      13,
      14
    ],
    "token_usage": {
      "prompt_tokens": 1793,
      "output_tokens": 795,
      "total_tokens": 5984
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Atomic Operations"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "מהי התכונה המהותית ביותר של פעולה אטומית (Atomic Operation) בהקשר של מערכת הפעלה מרובת תהליכים?",
      "code_snippet": null,
      "options": [
        "א. היא מבטיחה שכל הפעולות בתוך קטע הקוד האטומי יבוצעו על ידי חוט ביצוע יחיד ללא הפרעה של מעבר הקשר.",
        "ב. היא מבטיחה שפעולה מורכבת תיראה כפעולה בודדת ובלתי ניתנת לחלוקה מנקודת מבטם של חוטי ביצוע אחרים במערכת.",
        "ג. היא תמיד ממומשת ישירות על ידי פקודות חומרה מיוחדות, ואינה יכולה להיות מושגת באמצעות מנעולים תוכנתיים.",
        "ד. היא מבטיחה שהחוט המבצע אותה יקבל גישה בלעדית לכל משאבי המערכת למשך זמן ביצועה."
      ]
    },
    "solution": {
      "correct_option": "ב",
      "explanation": "התשובה הנכונה היא ב'. פעולה אטומית היא פעולה שנראית כבלתי ניתנת לחלוקה מנקודת מבטם של חוטי ביצוע אחרים במערכת. משמעות הדבר היא שגם אם הפעולה מורכבת מכמה שלבים פנימיים, היא מבוצעת \"בבת אחת\" או \"בפקודה אחת\" (כפי שמתואר בהרצאה לגבי פעולות חומרה אטומיות כמו `__sync_fetch_and_add` ו-`TestAndSet`), כך שאין חוט אחר יכול לצפות במצב ביניים שלה. הפרת אטומיות (atomicity violation) מתרחשת כאשר פעולה כזו אינה מוגנת, וחוטים אחרים יכולים לראות מצבים חלקיים או לא עקביים. מנעולים (mutexes) משמשים כפתרון להבטחת אטומיות של קטעי קוד מורכבים.\n\nא' שגויה כי אמנם פעולות אטומיות רבות מבוצעות ללא מעבר הקשר עבור השלבים הפנימיים שלהן (במיוחד פעולות חומרה), אך ההגדרה העיקרית היא חוסר היכולת לצפות במצבי ביניים, ולא בהכרח היעדר מוחלט של מעבר הקשר בקטע קוד שלם המוגן במנעול (שם ייתכן מעבר קשר, אך הוא לא יאפשר לחוט אחר להיכנס לקטע הקריטי). ג' שגויה מכיוון שההרצאה מציינת במפורש שמנעולים (פתרון תוכנתי) הם דרך להבטיח אטומיות, בנוסף לפקודות חומרה. ד' שגויה לחלוטין – פעולה אטומית אינה דורשת גישה בלעדית לכל משאבי המערכת, אלא רק למשאבים הרלוונטיים שהיא משנה באופן אטומי."
    }
  }
}