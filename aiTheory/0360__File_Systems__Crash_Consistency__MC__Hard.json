{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Crash Consistency",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:21:14",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21,
      22
    ],
    "token_usage": {
      "prompt_tokens": 1936,
      "output_tokens": 799,
      "total_tokens": 4522
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Crash Consistency"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בעיית ה-Crash Consistency במערכות קבצים נובעת מהצורך לבצע מספר כתיבות לדיסק (למשל, בעת הוספת נתונים לקובץ קיים) באופן אטומי, למרות שקריסות יכולות להתרחש בכל עת. אחד הפתרונות להתמודדות עם בעיה זו הוא שימוש בכלי ה-`fsck` (File System Checker). בהקשר למגבלותיו של `fsck`, איזה מהמצבים הבאים מהווה דוגמה לבעיה ש-`fsck` *אינו יכול* לזהות או לתקן, כפי שנדון בחומר הלימוד?",
      "code_snippet": null,
      "options": [
        "א. Inode המצביע לבלוק נתונים, כאשר ה-Bitmap מסמן את הבלוק כתפוס, אך תוכן בלוק הנתונים בפועל מכיל \"זבל\" (נתונים לא תקינים) כתוצאה מכתיבה שלא הושלמה.",
        "ב. Inode המצביע לבלוק נתונים שאינו קיים או שמסומן כפנוי ב-Bitmap, מה שמעיד על מצביע \"תלוי\" (dangling pointer).",
        "ג. בלוק נתונים המסומן כתפוס ב-Bitmap, אך אין אף Inode המצביע עליו, מה שמוביל לאובדן שטח דיסק (lost block).",
        "ד. חוסר התאמה בין גודל הקובץ המצוין ב-Inode לבין מספר בלוקי הנתונים בפועל שה-Inode מצביע עליהם."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. חומר הלימוד מציין במפורש כי `fsck` אינו יכול לגלות מצב שבו \"יש לנו inode שמצביע ל-דאטה כלשהו, בלי data block שנכתב לשם, וב-bitmap הדאטה הזה מסומן כתפוס. כלומר מצב מערכת הקבצים נראה תקין, אף לא כתבנו את הדאטה לדאטה בלוק בפועל. יש שם זבל. את המצב הזה הכלי הנ\"ל לא יכול לגלות.\" הסיבה לכך היא שמבחינת מטא-הנתונים של מערכת הקבצים (ה-inode וה-bitmap), הכל נראה תקין ועקבי, למרות שתוכן הנתונים בפועל אינו נכון. `fsck` בודק בעיקר את עקביות המבנה והמטא-נתונים, ולא את \"איכות\" התוכן של בלוקי הנתונים בפועל. שאר האפשרויות (ב, ג, ד) מתארות חוסר עקביות במטא-נתונים או במבנה מערכת הקבצים, ש-`fsck` מתוכנן לזהות ולתקן (למשל, מצביעים תלויים, בלוקים אבודים, או אי-התאמות בגודל קובץ מול בלוקים בפועל)."
    }
  }
}