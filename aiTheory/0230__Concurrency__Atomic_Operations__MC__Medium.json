{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Atomic Operations",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:49:26",
    "context_chunks_used": 5,
    "context_lectures": [
      11,
      13,
      14
    ],
    "token_usage": {
      "prompt_tokens": 1793,
      "output_tokens": 635,
      "total_tokens": 6144
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Atomic Operations"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "איזו מהטענות הבאות מתארת בצורה הטובה ביותר את המושג \"פעולה אטומית\" (Atomic Operation) בהקשר של מערכות הפעלה מקביליות?",
      "code_snippet": null,
      "options": [
        "א. פעולה המבוצעת על ידי רצף של פקודות, אשר מבחינת חוטים אחרים מתרחשת כיחידה אחת בלתי ניתנת להפרעה, ללא התערבות.",
        "ב. פעולה המבוצעת תמיד על ידי פקודת חומרה יחידה במעבד, ללא כל מורכבות לוגית פנימית.",
        "ג. פעולה שבה המהדר (compiler) מבטיח שכל הגישות למשתנים משותפים יבוצעו בסדר קבוע מראש.",
        "ד. פעולה שמטרתה העיקרית היא לשחרר באופן מיידי את כל המשאבים שתפס תהליך עם סיום ריצתו."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "ההרצאה מתארת פעולות אטומיות כפעולות שנועדו למנוע 'atomicity violation' ולהבטיח שרצף של פעולות יתבצע 'בבת אחת'. זה כולל פעולות חומרה כמו `__sync_fetch_and_add` או `TestAndSet`, אשר למרות שעשויות לכלול מספר שלבים לוגיים (קריאה, שינוי, כתיבה), מבוצעות כיחידה אחת בלתי ניתנת להפרעה על ידי המעבד ('שבבת אחת עושות כמה פעולות', 'המימוש של הפקודה מתבצע באופן אטומי'). בנוסף, ההרצאה מציינת במפורש שניתן להפוך קטע קוד ל'אטומי' על ידי שימוש ב'מנעול' (mutex), אשר מבטיח שרצף של פקודות ייחשב כיחידה אחת מוגנת. אפשרות א' מקיפה את שני ההיבטים הללו בכך שהיא מתארת פעולה המבוצעת על ידי 'רצף של פקודות', אשר 'מבחינת חוטים אחרים מתרחשת כיחידה אחת בלתי ניתנת להפרעה, ללא התערבות', וזוהי בדיוק המהות של אטומיות."
    }
  }
}