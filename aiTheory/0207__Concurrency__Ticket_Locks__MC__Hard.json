{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Ticket Locks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:44:01",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      11,
      13
    ],
    "token_usage": {
      "prompt_tokens": 2333,
      "output_tokens": 911,
      "total_tokens": 6384
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Ticket Locks"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על מנגנון מנעול ה-Ticket Lock כפי שתואר בחומר ההרצאה, איזו מההצהרות הבאות מתארת בצורה הטובה ביותר את יתרונו המרכזי של מנגנון זה על פני מנעולי Spin Lock פשוטים יותר (כגון TestAndSet או CompareAndSwap) בהקשר של גישה למשאבים?",
      "code_snippet": null,
      "options": [
        "א. הוא מונע לחלוטין את בעיית \"סערת ה-Invalidate\" על ה-BUS על ידי פיצול משתנה המנעול למספר משתנים נפרדים.",
        "ב. הוא מבטיח מניעה הדדית (mutual exclusion) באופן אמין יותר באמצעות שימוש בפקודות אטומיות חזקות יותר.",
        "ג. הוא מבטיח חופש מרעב (starvation freedom) על ידי אכיפת סדר כניסה לקטע הקריטי המבוסס על סדר קבלת ה\"כרטיסים\" (tickets).",
        "ד. הוא מאפשר כניסה של מספר חוטים בו-זמנית לקטע הקריטי כל עוד הם אינם משנים את אותם נתונים."
      ]
    },
    "solution": {
      "correct_option": "ג",
      "explanation": "החומר המצורף מציין במפורש כי \"מנעול שיש בו הוגנות: TICKET LOCK\" ומתאר את מנגנונו: \"כל חוט שרוצה להחזיק במנעול - לוקח תור, ויש משתנה שאומר מי הבא בתור להיכנס לקטע הקריטי.\" תיאור זה, יחד עם ההגדרה של \"חופש מהרעבה\" כ\"לא יכול להיות שיעקפו אותי מספר אינסופי של פעמים\", מצביע על כך שיתרונו המרכזי והייחודי של מנעול ה-Ticket Lock על פני מנעולי Spin Lock פשוטים יותר (כמו TestAndSet או CompareAndSwap, אשר צוינו כ\"אינם בהכרח הוגנים\") הוא הבטחת הוגנות וחופש מרעב. סדר הכניסה לקטע הקריטי נקבע בצורה דטרמיניסטית על ידי סדר קבלת ה\"כרטיסים\", מה שמונע מחוט מסוים להיתקע בהמתנה אינסופית.\n\nא. הצהרה זו מתארת מנגנון שמטרתו לטפל בבעיות Invalidate על ה-BUS, כפי שמתואר עבור \"מנעולי תור\" באופן כללי, ובפרט עבור מנעול אנדרסון. למרות שמנעול Ticket Lock הוא סוג של \"מנעול תור\", התיאור הספציפי שלו בחומר ההרצאה מתמקד באכיפת סדר והוגנות, ולא בפתרון בעיות מטמון על ידי פיצול משתנה המנעול באופן שכל חוט מקבל תא מטמון ייעודי.\nב. מנעולי TestAndSet ו-CompareAndSwap גם הם מבטיחים מניעה הדדית באמצעות פקודות אטומיות. היתרון של ה-Ticket Lock אינו ב\"אמינות רבה יותר\" של המניעה ההדדית, אלא בהוספת תכונת ההוגנות.\nד. הצהרה זו שגויה מיסודה. מטרתו העיקרית של כל מנעול היא להבטיח מניעה הדדית, כלומר לאפשר רק לחוט אחד להיכנס לקטע הקריטי בכל רגע נתון."
    }
  }
}