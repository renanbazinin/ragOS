{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Directory Structure",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:18:29",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21
    ],
    "token_usage": {
      "prompt_tokens": 2034,
      "output_tokens": 1163,
      "total_tokens": 6040
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Directory Structure"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על מבנה ה-inode המתואר בחומר, הכולל את שדות ה-\"Type (file / directory)\" ו-\"Links count (# paths)\", איזו מהטענות הבאות מתארת בצורה הטובה ביותר כיצד שדות אלו תורמים לניהול עקבי ואמין של מבנה התיקיות במערכת הקבצים?",
      "code_snippet": null,
      "options": [
        "א. שדה \"Links count\" מבטיח ש-inode ובלוקי הנתונים המשויכים אליו יימחקו רק כאשר כל ההפניות אליו ממבנה התיקיות יוסרו, ובכך מונע איבוד נתונים ומאפשר מימוש קישורים קשיחים. שדה \"Type\" מאפשר למערכת הקבצים להבחין בין קבצים רגילים לתיקיות.",
        "ב. שדה \"Links count\" משמש בעיקר למניעת פרגמנטציה חיצונית בתיקיות על ידי מעקב אחר בלוקים רציפים, בעוד שדה \"Type\" קובע את סדר הגישה לבלוקים.",
        "ג. שדה \"Type\" אוכף הרשאות קריאה/כתיבה/הפעלה רק עבור פעולות על תיקיות, ולא עבור קבצים רגילים, בעוד שדה \"Links count\" מציין את מספר הבלוקים של הנתונים בתיקייה.",
        "ד. ה-inode מאחסן את הנתיב המלא לכל קובץ ותיקייה, ובכך מייעל את פעולות החיפוש ומבטל את הצורך בטיול היררכי, כאשר \"Links count\" מציין את עומק ההיררכיה."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'.\n\n**הסבר לאפשרות א' (נכונה):**\n*   **שדה \"Links count (# paths)\"**: על פי חומר ההרצאה, שדה זה ב-inode עוקב אחר מספר הנתיבים (paths) המצביעים ל-inode. כלומר, הוא סופר כמה כניסות בתיקיות שונות מפנות לאותו קובץ או תיקייה. עובדה זו חיונית לניהול קישורים קשיחים (hard links), שבהם מספר שמות קבצים יכולים להפנות לאותו inode. המערכת תמחק את ה-inode ואת בלוקי הנתונים שלו רק כאשר מונה הקישורים יגיע לאפס, כלומר, כאשר אין עוד הפניות אליו ממבנה התיקיות. זה מונע מחיקה מוקדמת של נתונים ומבטיח שלמות.\n*   **שדה \"Type (file / directory)\"**: חומר ההרצאה מציין ששדה זה הוא חלק מה-metadata ב-inode. הוא מאפשר למערכת הקבצים להבחין האם ה-inode מייצג קובץ רגיל או תיקייה. הבחנה זו הכרחית מכיוון שתיקייה היא סוג מיוחד של קובץ שבלוקי הנתונים שלו מכילים רשימה של שמות קבצים ומספרי inodes מתאימים, בעוד שקובץ רגיל מכיל נתוני משתמש. ההבחנה מאפשרת למערכת הקבצים לבצע פעולות מתאימות לכל סוג.\n\n**הסבר לאפשרויות שגויות:**\n*   **אפשרות ב'**: שדה \"Links count\" אינו קשור למניעת פרגמנטציה חיצונית; שיטות הקצאת בלוקים (כמו רשימה מקושרת המוזכרת בחומר) מטפלות בכך. שדה \"Type\" אינו קובע את סדר הגישה לבלוקים.\n*   **אפשרות ג'**: הרשאות קריאה/כתיבה/הפעלה (rwx) הן שדה נפרד ב-inode, ואינן נאכפות רק על ידי שדה \"Type\". שדה \"Links count\" מציין את מספר הנתיבים ל-inode, לא את מספר בלוקי הנתונים בתיקייה.\n*   **אפשרות ד'**: ה-inode אינו מאחסן את הנתיב המלא לקובץ או לתיקייה. מערכות קבצים היררכיות דורשות בדרך כלל טריוורסל (מעבר) דרך תיקיות כדי למצוא קובץ. שדה \"Links count\" מציין את מספר ההפניות ל-inode, לא את עומק ההיררכיה."
    }
  }
}