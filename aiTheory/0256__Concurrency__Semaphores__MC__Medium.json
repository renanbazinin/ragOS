{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Semaphores",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:56:19",
    "context_chunks_used": 5,
    "context_lectures": [
      10,
      14
    ],
    "token_usage": {
      "prompt_tokens": 2016,
      "output_tokens": 765,
      "total_tokens": 5092
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Semaphores"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "על פי חומר ההרצאה, איזה שימוש בסמפורים, שאינו נובע בהכרח מסיבות סנכרון של קטע קריטי (mutual exclusion), מתואר כאפשרות לניהול משאבים?",
      "code_snippet": "sem_t throttle_sem;\nsem_init(&throttle_sem, 0, MAX_THREADS_ALLOWED);\n// ...\nsem_wait(&throttle_sem);\n// קטע קוד המשתמש במשאבים מוגבלים (למשל, מקצה זיכרון רב)\nsem_post(&throttle_sem);\n// ...",
      "options": [
        "א. הגבלת מספר החוטים שיכולים לבצע קטע קוד מסוים בו-זמנית, למשל עקב מגבלות זיכרון.",
        "ב. הבטחת גישה בלעדית למשאב משותף יחיד על מנת למנוע תנאי מרוץ (race conditions).",
        "ג. איתור ופתרון באגים לא דטרמיניסטיים בקוד מקבילי על ידי הוספת פקודות סנכרון.",
        "ד. יצירת עותקים נפרדים של סמפורים עבור תהליכים שונים לאחר קריאה ל-fork()."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "חומר ההרצאה מתאר שימוש בסמפורים ל'THREAD THROTTLING' (הגבלת חוטים). מודגש כי שימוש זה אינו בהכרח לצורך סנכרון קטע קריטי, אלא למשל, להגבלת מספר החוטים המקצים זיכרון רב במקביל, כדי למנוע חריגה ממשאבי הזיכרון הזמינים. הסמפור מאותחל למספר המקסימלי של חוטים מותרים, וכל חוט מבצע `wait` לפני הכניסה לקטע הקוד ו-`post` ביציאה ממנו.\n\nאפשרות ב' מתארת שימוש בסמפור בינארי למניעה הדדית (mutual exclusion), שזו אכן פונקציה חשובה של סמפורים, אך השאלה מבקשת שימוש שאינו נובע בהכרח מסיבות סנכרון של קטע קריטי.\n\nאפשרות ג' מתייחסת לכך שפעולות סנכרון (כמו הדפסות) יכולות לשנות את התנהגות הקוד המקבילי, אך אינה מתארת שימוש ישיר בסמפורים ככלי לאיתור באגים.\n\nאפשרות ד' שגויה, שכן חומר ההרצאה מציין במפורש כי לאחר קריאה ל-`fork()`, הסמפור אינו משוכפל אלא נשאר אותו סמפור בזיכרון משותף, וניתן להשתמש בו לסנכרון בין תהליכים."
    }
  }
}