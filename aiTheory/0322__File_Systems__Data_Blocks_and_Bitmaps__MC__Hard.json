{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Data Blocks and Bitmaps",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:12:03",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21
    ],
    "token_usage": {
      "prompt_tokens": 1783,
      "output_tokens": 694,
      "total_tokens": 4329
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Data Blocks and Bitmaps"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "נניח שבמערכת קבצים, במהלך פעולת כתיבה לקובץ, המערכת קרסה לאחר שבלוק הנתונים (data block) ובלוק מפת הסיביות של הנתונים (data bitmap) עודכנו בהצלחה, אך העדכון של ה-inode המצביע לבלוק החדש לא הושלם. איזו מהבעיות הבאות עלולה להיווצר כתוצאה ממצב זה?",
      "code_snippet": null,
      "options": [
        "א. ה-data bitmap יסמן את הבלוק כפנוי, למרות שהוא מכיל נתונים, ובלוק זה עלול להיכתב על ידי קובץ אחר.",
        "ב. ה-inode יצביע לבלוק נתונים שאינו קיים או שאינו מכיל את הנתונים המיועדים.",
        "ג. הבלוק החדש יהיה מסומן כתפוס ב-data bitmap ויכיל נתונים, אך אף inode לא יצביע אליו, מה שיוביל ל\"ליג' זיכרון\".",
        "ד. מערכת הקבצים תיכנס למצב שבו לא ניתן יהיה לגשת לשאר בלוקי הנתונים של הקובץ המקורי."
      ]
    },
    "solution": {
      "correct_option": "ג",
      "explanation": "לפי חומר ההרצאה, בסעיף (iii) נניח וקרסנו לאחר עדכון ה-data block וה-data bitmap, הבעיה שתהיה היא 'ליג' זיכרון'. כלומר, יש בלוק דאטה עם נתונים, שמעודכן שהוא תפוס ב-data bitmap, אך אף אחד לא מצביע אליו מה-inode. זהו בדיוק המצב המתואר באפשרות ג'.\nאפשרות א' מתארת תרחיש קריסה אחר, בו ה-data bitmap לא עודכן (עדיין מסמן פנוי) למרות שה-inode ובלוק הנתונים כן עודכנו. זהו מצב הבעיה המתואר בסעיף (ii).\nאפשרות ב' מתארת מצב שבו ה-data bitmap וה-inode עודכנו, אך בלוק הנתונים עצמו לא נכתב, מה שמוביל ל-inode שמצביע לבלוק תפוס אך עם תוכן שגוי או חסר. זהו מצב הבעיה המתואר בסעיף (i) כ'אסור לנו להתחיל בשתי הפעולות הללו'.\nאפשרות ד' היא כללית מדי ואינה מתארת באופן ספציפי את ההשלכה הישירה של סדר הפעולות והקריסה הנתונים."
    }
  }
}