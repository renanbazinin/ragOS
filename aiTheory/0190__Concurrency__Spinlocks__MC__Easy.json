{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Spinlocks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-14 17:38:12",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      11,
      13,
      15
    ],
    "token_usage": {
      "prompt_tokens": 2126,
      "output_tokens": 443,
      "total_tokens": 3934
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Spinlocks"
    ],
    "difficulty_estimation": "Easy",
    "content": {
      "text": "מהי תכונה נפוצה של מנעולי ספין (Spinlocks) פשוטים, כגון אלו המבוססים על CompareAndSwap (TAS)?",
      "code_snippet": "while (CompareAndSwap(&flag, 0, 1))\n  ; // spin-wait\n// critical section\nflag = 0;",
      "options": [
        "א. הם מונעים קיפאון (deadlock) אך אינם בהכרח הוגנים (fair).",
        "ב. הם תמיד מבטיחים הוגנות (fairness) בין חוטים.",
        "ג. הם רגישים למצב של קיפאון (deadlock).",
        "ד. הם משתמשים במערכת כרטיסים (ticket system) מובנית להבטחת סדר."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "על פי חומר ההרצאה (Lecture 11, chunk 45), מנעולי ספין המבוססים על פקודות מכונה כמו CompareAndSwap (TAS) מונעים מצבי קיפאון (deadlock), אך אינם מבטיחים בהכרח הוגנות (fairness) בין החוטים הממתינים. ההרצאה מציינת במפורש: 'שני המנעולים הללו דומים, שניהם מונעים deadlock אבל אינם בהכרח הוגנים'. מנעולים כמו Ticket Lock הוצגו כפתרון ספציפי להבטחת הוגנות, ולכן אינם מאפיינים מנעולי ספין פשוטים כמו TAS."
    }
  }
}