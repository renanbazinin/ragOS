{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Threads",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:28:15",
    "context_chunks_used": 5,
    "context_lectures": [
      10,
      11
    ],
    "token_usage": {
      "prompt_tokens": 1730,
      "output_tokens": 934,
      "total_tokens": 5950
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Threads"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהינתן תהליך המכיל מספר חוטים (threads), כולל חוט ראשי (main thread) וחוטי עבודה (worker threads), ובהתבסס על מנגנוני הסיום וההמתנה של חוטים, איזו מהטענות הבאות נכונה ביותר?",
      "code_snippet": null,
      "options": [
        "א. חוט עבודה יכול להמתין לסיום של חוט עבודה אחר באמצעות pthread_join, וזאת ללא קשר ליחסי אב-בן ביניהם. אם החוט הראשי יקרא ל-pthread_exit, הוא יסיים את פעולתו אך התהליך ימתין לסיום כל חוטי העבודה לפני שיסתיים.",
        "ב. רק החוט הראשי יכול להמתין לסיום של חוטי עבודה באמצעות pthread_join. אם חוט כלשהו, כולל החוט הראשי, יקרא ל-exit(), רק אותו חוט יסיים את פעולתו בעוד שאר החוטים ימשיכו לרוץ עד לסיום טבעי או קריאה ל-pthread_exit מצידם.",
        "ג. במימוש של User Threads, מערכת ההפעלה מודעת לכל החוטים הפועלים בתוך תהליך ומבצעת את תזמונם, אך היא אינה מאפשרת לחוטים להמתין זה לזה באמצעות pthread_join כיוון שאין להם מזהים ייחודיים ברמת הליבה.",
        "ד. קריאה ל-pthread_join תמיד חוסמת את התהליך כולו עד שהחוט המיועד מסתיים. אם החוט הראשי קורא ל-pthread_exit, כל החוטים האחרים בתהליך יסיימו באופן מיידי כדי למנוע מצב של חוטים יתומים."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "הטענה הנכונה ביותר היא א'. לפי חומר ההרצאה (chunk 32), 'כל חוט יכול לעשות join לכל חוט אחר באותו תהליך, ולא צריך יחסי אב וילדים'. זה מאשר שחוט עבודה יכול להמתין לחוט עבודה אחר. בנוסף, חומר ההרצאה (chunk 40) מציין במפורש כי 'כאשר החוט הראשי קורא ל-()pthread_exit... הוא לא מסיים את התהליך. מערכת ההפעלה מחכה עד שכל החוטים בתהליך הזה יסיימו ורק אז התהליך יסתיים'.\n\nטענה ב' אינה נכונה מכיוון ש'כל חוט יכול לעשות join לכל חוט אחר' (chunk 32), ולא רק החוט הראשי. כמו כן, 'exit() on any thread will exit all threads!' (chunk 40), ולא רק החוט הקורא.\n\nטענה ג' אינה נכונה מכיוון שבמימוש של User Threads, 'מערכת ההפעלה לא מכירה חוטים, אלא רק תהליכים' (chunk 17), ולכן היא אינה מודעת לכל החוטים ואינה מתזמנת אותם ברמת הליבה.\n\nטענה ד' אינה נכונה מכיוון ש-pthread_join חוסם את ה'חוט שביצע את הקריאה' (chunk 31) ולא את התהליך כולו. כמו כן, כפי שהוזכר לעיל, קריאה ל-pthread_exit מהחוט הראשי גורמת למערכת ההפעלה להמתין לסיום כל החוטים, ולא לסיום מיידי שלהם."
    }
  }
}