{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Signals",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:02:50",
    "context_chunks_used": 5,
    "context_lectures": [
      4,
      5
    ],
    "token_usage": {
      "prompt_tokens": 1860,
      "output_tokens": 1009,
      "total_tokens": 7411
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Signals"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "מהי ההבחנה המהותית בין טיפול בסיגנל SIGCHLD באמצעות פונקציית מטפל המבצעת קריאה ל-wait(), לבין הגדרת הטיפול ב-SIGCHLD להתעלמות מוחלטת (באמצעות SIG_IGN)?",
      "code_snippet": "// signal2.c\nvoid signal_handler(int signal) {\n    if (signal == SIGCHLD) {\n        int rc = wait(NULL);\n        printf(\"child terminated %d (pid:%d)\\n\", rc, getpid());\n    }\n}\n\nint main(int argc, char *argv[])\n{\n    struct sigaction act;\n    sigemptyset(&act.sa_mask);\n    act.sa_handler = signal_handler;\n    act.sa_flags = 0;\n    \n    sigaction(SIGCHLD, &act, NULL);\n    if (fork()) {\n        while (1);\n    }\n}",
      "options": [
        "א. בשני המקרים מובטח כי תהליכי זומבי לא ייווצרו, אך רק בשיטת ההתעלמות המוחלטת מערכת ההפעלה מפנה את משאבי תהליך הבן באופן מיידי וללא צורך בהתערבות יזומה של תהליך האב.",
        "ב. טיפול באמצעות פונקציית מטפל מאפשר לתהליך האב לבצע פעולות נוספות (כמו רישום לוגים או עיבוד נתונים) בתגובה לסיום תהליך הבן, בעוד שבהתעלמות מוחלטת פעולה כזו אינה אפשרית.",
        "ג. רק שימוש בפונקציית מטפל המבצעת wait() מבטיח ניקוי נכון של משאבי תהליך הבן; התעלמות מוחלטת עלולה להוביל לדליפת משאבים.",
        "ד. ההבדל העיקרי הוא בביצועים: טיפול באמצעות פונקציית מטפל הוא יקר יותר מבחינת משאבי מערכת מאשר התעלמות מוחלטת."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "ההבדל המהותי טמון באופן שבו מערכת ההפעלה מטפלת בסיום תהליך הבן ובמשאביו. כאשר SIGCHLD מוגדר להתעלמות מוחלטת (SIG_IGN), החומר הלימודי מציין במפורש: \"אך ורק במקרה כזה של התעלמות מסיגנל sigchld, מערכת ההפעלה לא תיוצר זומבים. כלומר, היא מיד תפנה אותו ורק לא תודיע לו, כי הוא רואה שאנחנו מתעלמים מ-sigchld.\" משמעות הדבר היא שמערכת ההפעלה מבצעת ניקוי מיידי של משאבי תהליך הבן ללא שליחת הסיגנל לתהליך האב וללא צורך שהאב יקרא ל-wait(). לעומת זאת, כאשר מוגדרת פונקציית מטפל המבצעת קריאה ל-wait(), מערכת ההפעלה אכן שולחת את הסיגנל SIGCHLD לתהליך האב (כלומר, מודיעה לו), ופונקציית המטפל של האב היא זו שמבצעת את הקריאה ל-wait() כדי לאסוף את משאבי הבן ולמנוע זומבי. לכן, רק במקרה של התעלמות מוחלטת, מערכת ההפעלה מבצעת את הניקוי באופן עצמאי ומיידי, ללא מעורבות או התראה לתהליך האב. אפשרות ב' מתארת תוצאה או יכולת הנגזרת מההבדל המהותי (היכולת לבצע פעולות נוספות בזכות קבלת הסיגנל), אך אפשרות א' מתארת את המנגנון הבסיסי השונה בין שתי הגישות."
    }
  }
}