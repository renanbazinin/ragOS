{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Memory Management",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:10:14",
    "context_chunks_used": 5,
    "context_lectures": [
      9,
      5,
      6
    ],
    "token_usage": {
      "prompt_tokens": 2240,
      "output_tokens": 948,
      "total_tokens": 7315
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Memory Management"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "נתאר מצב שבו מערכת ההפעלה מבצעת הקצאות זיכרון רבות בגדלים שונים, ולאחר מכן משחררת אותן בסדר אקראי. כתוצאה מכך, הזיכרון הפיזי מתפצל למקטעים פנויים קטנים ולא רציפים, בעוד שנדרשת הקצאה גדולה יותר שאינה יכולה להתבצע למרות שסך הזיכרון הפנוי מספק. בהתבסס על חומר ההרצאה, איזה אלגוריתם לניהול זיכרון מציע פתרון מובנה ויעיל ביותר לבעיה זו של פיצול זיכרון חיצוני (External Fragmentation), באמצעות איחוד (coalesce) של שטחי זיכרון פנויים?",
      "code_snippet": null,
      "options": [
        "א. אלגוריתם Buddy Allocation",
        "ב. אלגוריתם Free List עם בלוקים בגודל קבוע",
        "ג. אלגוריתם Free List עם בלוקים בגודל משתנה",
        "ד. שימוש ב-Slab Allocator"
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "השאלה מתארת מצב של פיצול זיכרון חיצוני (External Fragmentation), שבו יש מספיק זיכרון פנוי בסך הכל, אך הוא מפוצל למקטעים קטנים ולא רציפים שאינם מאפשרים הקצאה של בלוק גדול. חומר ההרצאה מציין במפורש כי אלגוריתם Buddy Allocation 'בא לפתור את הבעיה של coalesce (איחוד שטחי זיכרון בודדים ופנויים)'. האלגוריתם מפצל בלוקים לגדלים שהם חזקות של 2, וכאשר בלוק משתחרר, הוא בודק את ה'שכן' שלו (buddy) ואם גם הוא פנוי, הם מאוחדים לבלוק גדול יותר. מנגנון זה נועד במיוחד להתמודד עם פיצול חיצוני על ידי איחוד שטחים פנויים.\n\nאפשרויות אחרות:\nב. אלגוריתם Free List עם בלוקים בגודל קבוע הוא פשוט ויעיל אך אינו מציאותי לטיפול בבקשות בגדלים משתנים, והוא סובל מפיצול פנימי אם גודל הבקשה קטן מגודל הבלוק. הוא אינו מיועד לאיחוד בלוקים פנויים בגדלים שונים לצורך יצירת בלוקים גדולים יותר.\nג. אלגוריתם Free List עם בלוקים בגודל משתנה מתמודד עם גדלים משתנים, אך חומר ההרצאה מציין במפורש שהוא 'יכול לקרות מצב שחלקנו את מה שיצא למשל יש חלק של 10kb יש חלק של 5kb ואחריו תפוס ואחריו 5kb פנוי. ונניח שהמשתמש מבקש 15kb, אין לזיכרון כנל לתת לו.' זהו תיאור מובהק של פיצול חיצוני, והחומר אינו מפרט מנגנון מובנה ויעיל לאיחוד בלוקים עבורו, אלא רק מציין שהרשימה תהיה 'יותר מורכבת'.\nד. Slab Allocator מיועד להקצאת אובייקטים בגודל קבוע ונפוץ (לרוב עבור אובייקטים של ליבת המערכת) ואינו פתרון כללי לניהול זיכרון משתנה בגדלים שונים או לטיפול בפיצול חיצוני של זיכרון כללי."
    }
  }
}