{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Spinlocks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-14 17:38:23",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      11,
      13,
      15
    ],
    "token_usage": {
      "prompt_tokens": 2126,
      "output_tokens": 434,
      "total_tokens": 4218
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Spinlocks"
    ],
    "difficulty_estimation": "Easy",
    "content": {
      "text": "מהי הדרך העיקרית שבה מנעול ספין (Spinlock) ממתין למשאב שיתפנה?",
      "code_snippet": "while (CompareAndSwap(&flag, 0, 1))\n  ; // spin-wait",
      "options": [
        "א. ביצוע \"המתנה פעילה\" (busy-waiting) בלולאה.",
        "ב. השעיית החוט והעברתו למצב חסימה.",
        "ג. שחרור המעבד לחוטים אחרים באופן מיידי.",
        "ד. שימוש בתור המתנה מבוסס אירועים."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "מנעול ספין (Spinlock) מאופיין בכך שהוא ממתין למשאב שיתפנה על ידי ביצוע 'המתנה פעילה' (busy-waiting) בלולאה. במקום להשעות את החוט הממתין ולהעבירו למצב חסום, הוא ממשיך לבדוק שוב ושוב את מצב המנעול. דוגמת הקוד `while (CompareAndSwap(&flag, 0, 1)); // spin-wait` מדגימה בבירור התנהגות זו של 'spin-wait' (המתנה בסבסוב) על ידי לולאה שבודקת באופן רציף את המצב. אפשרויות אחרות, כמו השעיית חוטים (אפשרות ב'), מתאימות למנגנוני סנכרון אחרים כמו Mutex שאינם Spinlocks."
    }
  }
}