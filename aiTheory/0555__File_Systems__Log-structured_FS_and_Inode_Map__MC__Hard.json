{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Log-structured FS and Inode Map",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 19:11:10",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      22
    ],
    "token_usage": {
      "prompt_tokens": 2002,
      "output_tokens": 1140,
      "total_tokens": 8043
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Log-structured FS and Inode Map"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "במערכת קבצים מסוג Log-structured File System (LFS), ה-Inode Map (imap) מנוהל באופן ייחודי: הוא מחולק לחלקים, ורק החלקים הרלוונטיים המעודכנים נכתבים יחד עם סגמנטים לוגיים. בהתחשב באופי זה של ה-imap, איזו מהטענות הבאות מתארת בצורה הטובה ביותר יתרון מהותי של גישה זו בהשוואה לניהול inodes במערכות קבצים מסורתיות המשתמשות ב-inode bitmap וטבלת inodes קבועה?",
      "code_snippet": null,
      "options": [
        "א. ה-imap מקל על זיהוי בלוקים פנויים על הדיסק על ידי שמירת מצב תפוס/פנוי לכל בלוק נתונים, בדומה ל-data bitmap.",
        "ב. ה-imap מאפשר ל-Garbage Collector למחוק בלוקים שלמים ביעילות על ידי סימון ישיר של inodes ישנים כ\"זבל\", ללא צורך בקריאה וכתיבה מחדש של נתונים.",
        "ג. על ידי כתיבת רק חלקי ה-imap שהשתנו יחד עם הסגמנטים המעודכנים, ה-LFS ממזערת את מספר פעולות הכתיבה הנדרשות לעדכון מיקומי inodes, ובכך משפרת את ביצועי הכתיבה הכוללים ומפחיתה שחיקת דיסק.",
        "ד. ה-imap מאפשר הקצאה רציפה של בלוקים לכל קובץ, בדומה לאופן שבו כונני DVD פועלים, ובכך מבטל פרגמנטציה פנימית."
      ]
    },
    "solution": {
      "correct_option": "ג",
      "explanation": "החומר המצורף מציין במפורש כי \"וכל סגמנט שאנחנו מעדכנים – כותבים את החלק/החלקים הרלוונטיים שהתעדכנו ב-imap\". גישה זו, שבה ה-imap מחולק לחלקים ורק החלקים שהשתנו נכתבים לדיסק כחלק מהלוג, היא מרכזית לפילוסופיית ה-LFS. במקום לעדכן מבנה inode קבוע במקום (פעולת כתיבה אקראית ויקרה), LFS ממירה את עדכוני ה-imap לכתיבות סדרתיות של חלקים קטנים יותר. זה מפחית משמעותית את כמות הכתיבות הנדרשת לעדכון מיקומי ה-inodes, במיוחד כאשר רק מספר קטן של inodes משתנה. הפחתת כמות הכתיבות משפרת את ביצועי המערכת (פחות I/O אקראי) ומפחיתה את שחיקת הדיסק, שהיא שיקול חשוב במיוחד עבור התקני אחסון מבוססי פלאש.\n\nא. שגויה: ה-imap ב-LFS אינו משמש לזיהוי בלוקים פנויים על הדיסק. תפקידו הוא למפות מספר inode למיקומו הפיזי העדכני על הדיסק. מערכות קבצים משתמשות ב-data bitmap למטרה זו, כפי שמתואר בחומר. \nב. שגויה: ה-imap מצביע על הגרסה העדכנית של inode, ובכך מסייע ל-Garbage Collector לזהות אילו inodes ובלוקי נתונים עדיין רלוונטיים (\"חיים\"). עם זאת, ה-imap אינו מסמן ישירות inodes ישנים כ\"זבל\", וגם כאשר בלוק מכיל נתונים לא רלוונטיים, אם יש בו אפילו דף אחד רלוונטי, נדרשת קריאה וכתיבה מחדש לפני מחיקת הבלוק כולו, כפי שמתואר בחומר.\nד. שגויה: למרות ש-LFS כותבת סגמנטים באופן סדרתי, היא אינה מבטיחה הקצאה רציפה של בלוקים *לכל קובץ* לאורך זמן. הקצאה רציפה של קבצים היא שיטה שונה, המוזכרת בחומר בהקשר של כונני DVD שבהם גודל הקובץ ידוע מראש ואינו משתנה, ולא כמאפיין כללי של LFS. ה-imap אינו אחראי על הקצאה רציפה של בלוקים לקבצים ב-LFS."
    }
  }
}