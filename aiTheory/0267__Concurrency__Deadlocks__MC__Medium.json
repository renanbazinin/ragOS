{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Deadlocks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:58:55",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      15
    ],
    "token_usage": {
      "prompt_tokens": 2076,
      "output_tokens": 697,
      "total_tokens": 4814
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Deadlocks"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "בהתבסס על חומר ההרצאה והקוד המצורף, איזה מהתיאורים הבאים מתאר בצורה הטובה ביותר את תנאי ה-\"המתנה מעגלית\" (circular wait), שהוא אחד מארבעת התנאים ההכרחיים לקיומו של קיפאון (deadlock)?",
      "code_snippet": "//Thread 1::\nlock(&L1);\nlock(&L2);\n\n//Thread 2::\nlock(&L2);\nlock(&L1);",
      "options": [
        "א. מצב שבו חוטים שונים תופסים משאבים (מנעולים) בסדר הפוך, כך שכל חוט ממתין למשאב שמוחזק על ידי חוט אחר במעגל סגור.",
        "ב. מצב שבו חוט אחד תופס את כל המשאבים הנדרשים ומונע מכל החוטים האחרים להתקדם.",
        "ג. מצב שבו מספר חוטים מנסים לתפוס את אותו מנעול בו-זמנית, ורק אחד מהם מצליח בעוד האחרים נחסמים.",
        "ד. מצב שבו המערכת כולה לא יכולה להתקדם מכיוון שאין מספיק משאבים זמינים לכל החוטים הדרושים להם."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "תנאי ה-\"המתנה מעגלית\" (circular wait) מתואר בחומר ההרצאה כ\"מצב בו חוטים שונים תופסים משאבים בסדר הפוך\". הדוגמה בקוד המצורף ממחישה זאת היטב: חוט 1 תופס את L1 ואז מנסה לתפוס את L2, בעוד שחוט 2 תופס את L2 ואז מנסה לתפוס את L1. אם כל אחד מהחוטים יתפוס את המנעול הראשון שלו וינסה לתפוס את השני, ייווצר מצב שבו חוט 1 ממתין ל-L2 שמוחזק על ידי חוט 2, וחוט 2 ממתין ל-L1 שמוחזק על ידי חוט 1. מצב זה יוצר מעגל המתנה שמונע משני החוטים להתקדם ומוביל לקיפאון. האפשרויות האחרות מתארות היבטים שונים של סנכרון או תוצאות של קיפאון, אך אינן מתארות באופן מדויק את תנאי ה\"המתנה מעגלית\" עצמו כפי שהוגדר בחומר."
    }
  }
}