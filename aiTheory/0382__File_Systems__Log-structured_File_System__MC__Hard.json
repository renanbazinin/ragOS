{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Log-structured File System",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:26:02",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21,
      22
    ],
    "token_usage": {
      "prompt_tokens": 2062,
      "output_tokens": 876,
      "total_tokens": 4923
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Log-structured File System"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על עקרונות מערכת הקבצים Log-structured File System (LFS), אשר שמה דגש על אופטימיזציה של פעולות כתיבה על ידי כתיבת סגמנטים שלמים, איזה אתגר מהותי עומד בפני מנגנון איסוף הזבל (garbage collection) שלה, כפי שתואר בחומר הלימוד?",
      "code_snippet": null,
      "options": [
        "א. האתגר העיקרי הוא שסגמנטים מכילים לעיתים קרובות תערובת של בלוקי נתונים תקפים (מעודכנים) ולא תקפים (ישנים), מה שמקשה על פינוי סגמנט שלם מבלי להעתיק נתונים תקפים, ובכך עלול להפחית את יעילות תהליך איסוף הזבל.",
        "ב. LFS סובלת מפרגמנטציה חיצונית חמורה עקב הקצאת בלוקי נתונים לא רציפה, בדומה לשיטות הקצאה מבוססות רשימה מקושרת, מה שמדרדר באופן משמעותי את ביצועי הקריאה הסדרתית.",
        "ג. תהליך איסוף הזבל ב-LFS נדרש לעיתים קרובות לגשת ל-inodes ובלוקי נתונים בודדים המפוזרים על פני סגמנטים רבים כדי לקבוע את תוקפם, מה שמוביל לגישות דיסק אקראיות רבות וקטנות.",
        "ד. שמירה במטמון של inodes, bitmaps ונתונים בזיכרון מקלה על פעולות קריאה, אך איסוף הזבל של LFS מתקשה לנצל מטמון זה ביעילות לזיהוי סגמנטים מיושנים, ומאלץ אותו לקרוא מטא-דאטה ישירות מהדיסק."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "החומר המצורף מציין במפורש כי \"אבל לא בטוח שיש סגמנט שכולו ירוקון, ייתכן ויהיה בו בלוק שישאר תקף ולא זבל שכתבנו אותו\". יחד עם העיקרון הבסיסי של LFS ש\"אנחנו לא רוצים לפנות בלוקים בודדים... נרצה לפנות את כל הסגמנט\", נובע מכך שהאתגר המהותי עבור מנגנון איסוף הזבל הוא לנהל סגמנטים המכילים גם בלוקים תקפים וגם בלוקים לא תקפים. במצב כזה, על מנת לפנות את הסגמנט כולו, יש צורך להעתיק את הבלוקים התקפים לסגמנט חדש לפני שניתן לפנות את הסגמנט המקורי, מה שמפחית את יעילות הפינוי. אפשרות ב' מתארת בעיית פרגמנטציה כללית ולא אתגר ספציפי של איסוף הזבל ב-LFS, ואילו אפשרות ג' סותרת את העיקרון של LFS לא לפנות בלוקים בודדים אלא סגמנטים שלמים. אפשרות ד' מתארת את יתרון המטמון לקריאות אך לא אתגר ספציפי של איסוף הזבל ב-LFS כפי שתואר."
    }
  }
}