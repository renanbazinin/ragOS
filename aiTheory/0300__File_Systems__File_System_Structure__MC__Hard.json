{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "File System Structure",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:06:57",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21
    ],
    "token_usage": {
      "prompt_tokens": 1825,
      "output_tokens": 1201,
      "total_tokens": 5182
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "File System Structure"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על מודל מערכת הקבצים `vsfs` שהוצג, אשר מדגיש את הצורך באחסון פרסיסטנטי של מטא-דאטה ונתונים בדיסק, מהי הסיבה העיקרית לכך שפעולת 'פתיחת קובץ' (open) של נתיב היררכי כמו `/foo/bar` דורשת מספר גישות לדיסק, ואיזו בעיה ביצועית מרכזית נובעת מכך?",
      "code_snippet": null,
      "options": [
        "א. הצורך לטייל במבנה ההיררכי של הספריות, כאשר כל שלב דורש קריאת בלוק נתונים של ספרייה כדי למצוא את מספר ה-inode הבא, ולאחר מכן קריאת בלוק ה-inode עצמו. בעיה ביצועית מרכזית היא העלות הגבוהה של גישות מרובות לדיסק.",
        "ב. הגודל המוגבל של הזיכרון הפנימי של מערכת ההפעלה, אשר מונע שמירה של כל ה-inodes בזיכרון הראשי ודורש טעינה שלהם מהדיסק בכל פעם. הבעיה המרכזית היא בזבוז זיכרון.",
        "ג. הצורך לבדוק הרשאות גישה לכל קובץ וספרייה בנתיב, כאשר בדיקה זו מחייבת קריאת בלוק ה-inode של כל רכיב. הבעיה המרכזית היא עומס חישובי על המעבד.",
        "ד. מערכת הקבצים מפצלת בכוונה את הנתונים והמטא-דאטה לבלוקים נפרדים על הדיסק, מה שמבטיח עמידות נתונים גבוהה יותר אך דורש גישות נפרדות לכל חלק. הבעיה המרכזית היא סיבוכיות יתרה במימוש."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. החומר המצוין בשיעור מפרט במדויק את תהליך פתיחת הקובץ `/foo/bar`:\n1. מתחילים בשורש (inode 2).\n2. קוראים את הבלוק שמכיל את inode 2.\n3. קוראים את בלוק הנתונים של ספריית השורש כדי למצוא את מספר ה-inode של `foo`.\n4. קוראים את ה-inode של `foo` כדי למצוא את בלוק הנתונים של `foo`.\n5. קוראים את בלוק הנתונים של `foo` כדי למצוא את ה-inode של `bar`.\n6. קוראים את ה-inode של `bar`.\nכל שלב כזה, כפי שהוזכר בחומר, דורש גישה לדיסק (סה\"כ 5 גישות רק לפתיחת הקובץ, עוד לפני קריאה). הסיבה המרכזית היא הצורך לטייל במבנה ההיררכי, כאשר כל רכיב בנתיב (ספרייה או קובץ) דורש קריאה של המטא-דאטה שלו (inode) ושל נתוניו (בלוק נתונים של ספרייה) כדי לאתר את הרכיב הבא. בעיה ביצועית מרכזית הנובעת מכך היא העלות הגבוהה והאיטיות של גישות דיסק מרובות וסדרתיות.\n\nאפשרויות אחרות אינן נכונות:\nב. למרות שה-cache יכול לסייע, הבעיה המבנית של ריבוי גישות לדיסק נשארת. החומר מציין שפעולות קריאה משתפרות בזכות ה-cache, אך הדוגמה של 5 גישות לפתיחת קובץ מדגישה את העלות המבנית הבסיסית. הבעיה אינה בזבוז זיכרון אלא גישות איטיות לדיסק.\nג. בדיקת הרשאות היא אכן חלק מתהליך ודורשת קריאת ה-inode, אך הסיבה העיקרית לריבוי הגישות היא איתור מיקום הרכיבים בנתיב ההיררכי, ולא רק בדיקת ההרשאות. העומס החישובי על המעבד זניח יחסית לזמן ההמתנה לגישות דיסק.\nד. הפרדה בין נתונים למטא-דאטה אכן קיימת, אך היא אינה הסיבה הישירה ל-5 הגישות הספציפיות לפתיחת קובץ. הסיבה היא תהליך הטיול בנתיב ההיררכי. עמידות נתונים וסיבוכיות מימוש אינן הבעיה הביצועית המרכזית המתוארת בהקשר זה."
    }
  }
}