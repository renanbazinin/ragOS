{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Inode Map",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:29:22",
    "context_chunks_used": 5,
    "context_lectures": [
      22
    ],
    "token_usage": {
      "prompt_tokens": 1897,
      "output_tokens": 1116,
      "total_tokens": 5554
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Inode Map"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתחשב במבנה מערכת הקבצים (LFS) שבה ה-Checkpoint Region (CR) מצביע על הגרסאות העדכניות של חלקי ה-inode map (imap), ובהינתן שה-CR מתעדכן לעיתים רחוקות (לדוגמה, כל 30 דקות) בעוד שחלקי ה-imap מתעדכנים בתדירות גבוהה יותר עם כל שינוי ב-inodes הרלוונטיים, איזו מהטענות הבאות מתארת בצורה הטובה ביותר את ההשלכה של מנגנון זה על התאוששות המערכת לאחר כשל?",
      "code_snippet": null,
      "options": [
        "א. אם חלק מ-imap נכתב לדיסק עם עדכונים חדשים, אך ה-CR לא עודכן להצביע על מיקום חדש זה לפני כשל, המערכת תשחזר את ה-imap מגרסתו הישנה יותר כפי שמצביע ה-CR, ובכך תאבד את עדכוני ה-inode האחרונים שלא נכללו ב-CR.",
        "ב. המערכת תסרוק את כל הסגמנטים בדיסק כדי לאתר את הגרסה העדכנית ביותר של כל חלק imap, ללא תלות במה שמצביע ה-CR, ובכך תבטיח שהיא תמיד תתאושש למצב העדכני ביותר.",
        "ג. ה-CR מכיל מצביעים לכל הגרסאות ההיסטוריות של חלקי ה-imap, מה שמאפשר למערכת לשחזר תמיד את המצב העדכני ביותר של כל inode, גם אם הכשל התרחש לפני עדכון ה-CR.",
        "ד. חלקי ה-imap נכתבים תמיד יחד עם ה-CR במיקום קבוע על הדיסק, מה שמבטיח עקביות מלאה בין ה-CR לבין הגרסאות העדכניות של ה-imap בכל עת."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "ההסבר הנכון הוא א'. על פי חומר ההרצאה, ה-CR (Checkpoint Region) משמש כנקודת התייחסות קבועה המצביעה על הגרסה העדכנית ביותר של חלקי ה-imap. עם זאת, ה-CR מתעדכן לעיתים רחוקות (למשל, כל 30 דקות) כדי למנוע פגיעה בביצועים כתוצאה מכתיבה תכופה. חלקי ה-imap עצמם מתעדכנים בתדירות גבוהה יותר, עם כל שינוי ב-inodes הרלוונטיים, ונכתבים לדיסק. במקרה של כשל מערכת לפני שה-CR הספיק להתעדכן ולהצביע על גרסאות חדשות של חלקי imap שנכתבו לדיסק, המערכת, בעת התאוששות, תקרא את ה-CR. ה-CR יפנה אותה לגרסאות ה-imap שהיו עדכניות *בזמן עדכון ה-CR האחרון*. משמעות הדבר היא שכל עדכוני imap ו-inode שבוצעו ונכתבו לדיסק *אחרי* עדכון ה-CR האחרון ו*לפני* הכשל, יאבדו, והמערכת תחזור למצב שהיה תקף בנקודת הבדיקה האחרונה (ה-CR). זהו פשרה בין ביצועים (אי-עדכון תכוף של ה-CR) לבין עקביות ואיבוד נתונים פוטנציאלי במקרה של כשל.\nאפשרות ב' שגויה מכיוון שהיא מתארת סריקה מלאה של הדיסק, בעוד שתפקיד ה-CR הוא בדיוק לספק נקודת כניסה מהירה לשחזור ה-imap מבלי לסרוק את כל הדיסק.\nאפשרות ג' שגויה מכיוון שה-CR מצביע על הגרסה ה\"עדכנית ביותר\" של כל חלק imap, ולא על כל הגרסאות ההיסטוריות.\nאפשרות ד' שגויה מכיוון שה-CR נמצא במיקום קבוע ומתעדכן לעיתים רחוקות, בעוד שחלקי ה-imap משתנים ומופיעים בסגמנטים שונים. הם אינם נכתבים יחד באופן אטומי ולא חייבים להיות באותו מיקום."
    }
  }
}