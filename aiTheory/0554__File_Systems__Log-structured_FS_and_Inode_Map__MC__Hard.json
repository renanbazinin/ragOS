{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Log-structured FS and Inode Map",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 19:10:41",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      22
    ],
    "token_usage": {
      "prompt_tokens": 2002,
      "output_tokens": 921,
      "total_tokens": 5108
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Log-structured FS and Inode Map"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "במערכת קבצים לוג-מבנית (LFS), ה-Inode Map (imap) מהווה רכיב מפתח לניהול מיקום ה-inodes. איזו מההצהרות הבאות מתארת בצורה המדויקת ביותר את תפקידו ומאפייניו, בהתבסס על אופן פעולת LFS כפי שתואר בחומר הלימוד?",
      "code_snippet": null,
      "options": [
        "א. ה-imap הוא למעשה bitmap יחיד ורציף המאוחסן ב-Super Block, ותפקידו העיקרי הוא לסמן אילו inodes פנויים ואילו תפוסים, בדומה ל-inode bitmap רגיל.",
        "ב. ה-imap הוא מבנה לוגי יחיד אך מפוצל לחלקים, המכיל מצביעים לגרסאות העדכניות ביותר של כל inode, כאשר רק החלקים הרלוונטיים והמעודכנים ממנו נכתבים יחד עם כל סגמנט חדש.",
        "ג. ה-imap משמש בעיקר את מנגנון ה-Garbage Collector כדי לזהות בלוקים שלמים שהפכו ל\"זבל\" (garbage) ובכך לייעל את תהליך שחרור הזיכרון על ידי מחיקה מהירה של בלוקים אלו.",
        "ד. ה-imap הוא רשימה מקושרת של בלוקים, כאשר כל בלוק מכיל את כל ה-metadata המלאה של קבוצת inodes, והוא נשמר תמיד במיקום קבוע בדיסק כדי להבטיח גישה מהירה."
      ]
    },
    "solution": {
      "correct_option": "ב",
      "explanation": "התשובה הנכונה היא ב'. חומר הלימוד מציין כי ה-imap מצביע על הגרסה העדכנית של כל inode, וכי הוא יכול להיות בגדלים שונים ולכן מפורק לחלקים. רק החלקים הרלוונטיים והמעודכנים נכתבים יחד עם כל סגמנט. זה מתאים לתיאור \"מדובר על imap אחד שמחולק לחלקים\" ו\"כותבים את החלק הרלוונטי המעודכן\".\n\nא' אינה נכונה מכיוון שה-imap ב-LFS אינו bitmap שתפקידו לסמן inodes פנויים/תפוסים (זה תפקיד ה-inode bitmap הרגיל), והוא אינו מאוחסן ב-Super Block, אשר מכיל נתונים כלליים על מערכת הקבצים ומיקום ה-bitmaps, אך לא את ה-imap עצמו.\n\nג' אינה נכונה מכיוון שתפקידו העיקרי של ה-imap הוא למצוא את הגרסה העדכנית של inode, ולא לזהות ישירות בלוקים שלמים כ\"זבל\" עבור ה-Garbage Collector. אמנם ה-Garbage Collector משתמש במידע שה-imap מספק (כדי לדעת אילו inodes הם עדכניים) כדי לקבוע אם נתונים בבלוקים אחרים הם 'זבל' או 'חיים', אך ה-imap עצמו אינו מנגנון הזיהוי הישיר של בלוקים כ'זבל'.\n\nד' אינה נכונה מכיוון שחומר הלימוד אינו מתאר את ה-imap כרשימה מקושרת של בלוקים, ובמערכת LFS הנתונים וה-metadata נכתבים באופן לוגי לרצף, כך שמיקומים אינם קבועים אלא משתנים עם כל עדכון."
    }
  }
}