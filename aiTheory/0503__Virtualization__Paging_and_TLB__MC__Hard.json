{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Paging and TLB",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:55:39",
    "context_chunks_used": 5,
    "context_lectures": [
      7
    ],
    "token_usage": {
      "prompt_tokens": 2169,
      "output_tokens": 932,
      "total_tokens": 5750
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Paging and TLB"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על עקרונות ה-TLB כפי שתוארו בחומר הלימוד, מהי הטענה הנכונה ביותר לגבי תפקידו של מזהה ASID (Address Space ID) והשפעת היעדרותו בעת מעבר הקשר (Context Switch)?",
      "code_snippet": null,
      "options": [
        "א. ASID מאפשר ל-TLB להכיל מיפויים של מספר תהליכים במקביל, ובכך מונע את הצורך לנקות (flush) את כל רשומות ה-TLB בעת מעבר הקשר. בהיעדרו, כל מעבר קשר ידרוש ניקוי מלא של ה-TLB כדי למנוע גישה שגויה.",
        "ב. ASID מסייע בזיהוי דפים ששונו (dirty pages) על ידי תהליך ספציפי, ובהיעדרו, מערכת ההפעלה תתקשה לדעת אילו דפים יש לכתוב חזרה לדיסק.",
        "ג. ASID משפר את קצב הפגיעות (hit rate) ב-TLB על ידי ניבוי הגישות הבאות לזיכרון, ובהיעדרו, ה-TLB יפעל כמעין מטמון LRU פשוט.",
        "ד. ASID מבטיח את תקינות ה-`valid bit` ברשומת ה-PTE לאחר פספוס ב-TLB, ובהיעדרו, ה-MMU עלול לתרגם כתובות וירטואליות לא תקינות."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. חומר הלימוד מציין במפורש: \"אם נעשה עכשיו context switch, הבעיה תהיה ש-tlb לא יהיה מעודכן עבור התהליך הנוכחי. הפתרון לכך: נוסיף לכל רשומה ב-tlb מזהה נוסף שנקרא ASID (address space id) שיציין לאיזה תהליך הרשומה הזו ששייכת וכך ניתן להבדיל בין רשומות של תהליכים שונים.\" משמעות הדבר היא ש-ASID מאפשר להבחין בין רשומות של תהליכים שונים ב-TLB, ובכך למנוע את הצורך לנקות את ה-TLB כולו בכל מעבר קשר. בהיעדרו, כדי למנוע מתהליך אחד לגשת למיפויים ששייכים בטעות לתהליך אחר (מה שעלול לגרום לשגיאות או פרצות אבטחה), יש צורך לנקות את ה-TLB לחלוטין בכל פעם שמתרחש מעבר קשר.\n\nאפשרויות ב', ג' ו-ד' אינן נכונות: \n- אפשרות ב' שגויה מכיוון שביט ה-`Dirty` הוא זה שמציין אם דף שונה, לא ASID.\n- אפשרות ג' שגויה מכיוון שתפקידו העיקרי של ASID אינו ניבוי גישות עתידיות לזיכרון אלא זיהוי תהליכים. שיפור בקצב הפגיעות הוא תוצאה עקיפה של הימנעות מניקוי TLB, לא מניבוי.\n- אפשרות ד' שגויה מכיוון שביט ה-`valid bit` הוא חלק מה-PTE וקשור לתקינות המיפוי עצמו, בעוד ש-ASID קשור לזיהוי התהליך לו שייך המיפוי ב-TLB."
    }
  }
}