{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Copy-on-Write",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:22:57",
    "context_chunks_used": 5,
    "context_lectures": [
      8,
      9,
      4,
      7
    ],
    "token_usage": {
      "prompt_tokens": 1949,
      "output_tokens": 914,
      "total_tokens": 5430
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Copy-on-Write"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "מהי המטרה העיקרית של מנגנון ה-Copy-on-Write (CoW) בהקשר של יצירת תהליכים חדשים (לדוגמה, באמצעות fork())?",
      "code_snippet": null,
      "options": [
        "א. למנוע שכפול מיידי ויקר של זיכרון התהליך האב לתהליך הבן, ולאפשר שיתוף דפים עד שאחד התהליכים יבצע פעולת כתיבה.",
        "ב. לאחד את טבלאות הדפים של תהליך האב והבן לדף אחד בלבד, ובכך לחסוך מקום בזיכרון הפיזי.",
        "ג. לשפר את ביצועי הגישה לדיסק על ידי דחיית כתיבת דפים שהשתנו לדיסק עד שיתאספו מספיק שינויים.",
        "ד. להבטיח שכל תהליך בן יקבל עותק מלא ופרטי של כל דפי הזיכרון של האב מיד עם יצירתו, כדי למנוע התנגשויות."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. מנגנון ה-Copy-on-Write (CoW) נועד לשפר ביצועים ולחסוך במשאבי זיכרון בעת יצירת תהליכים חדשים (לדוגמה, באמצעות `fork()`). במקום לשכפל באופן מיידי את כל זיכרון האב לתהליך הבן, שהיא פעולה יקרה, מערכת ההפעלה מאפשרת לשני התהליכים לשתף את אותם דפי זיכרון פיזיים. שכפול בפועל של הדף מתבצע רק כאשר אחד התהליכים (האב או הבן) מנסה לבצע פעולת כתיבה על דף משותף זה. בשלב זה, מערכת ההפעלה יוצרת עותק פרטי של הדף עבור התהליך המבצע את הכתיבה, ומשנה את טבלת הדפים שלו כך שתצביע על העותק החדש. זאת כפי שמתואר בחומר ההרצאה: 'אחד הדברים שמערכת ההפעלה עושה בשביל לשפר ביצועים: אם זה עותק, לא צריך לשכפל בפועל את הזיכרון, זו פעולה יקרה. במקום זה ניתן לחסוך את ההעתקה הזו, ולהגדיר שהזיכרון הזה משותף לשני התהליכים (האב והבן), עד שאחד התהליכים יעשה פעולת write' (הרצאה 4, קטע 4).\nאפשרויות ב', ג' ו-ד' אינן נכונות:\nאפשרות ב' מתייחסת לאיחוד טבלאות דפים, בעוד שלכל תהליך יש טבלת דפים משלו (הרצאה 7, קטע 1). CoW אינו מאחד טבלאות דפים, אלא משנה את המיפויים בדפים בודדים לפי הצורך.\nאפשרות ג' מתארת מנגנון לשיפור ביצועי הגישה לדיסק באמצעות קיבוץ כתיבות (clustering), שאינו קשור ישירות ל-CoW אלא למנגנוני ניהול דיסק אחרים (הרצאה 8, קטע 41).\nאפשרות ד' מתארת את המצב ש-CoW נועד למנוע – שכפול מלא ומיידי של הזיכרון, שהיא פעולה יקרה ולא יעילה."
    }
  }
}