{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Context Switching",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 16:58:24",
    "context_chunks_used": 5,
    "context_lectures": [
      2,
      6
    ],
    "token_usage": {
      "prompt_tokens": 1956,
      "output_tokens": 962,
      "total_tokens": 6891
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Context Switching"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתחשב באתגר ה\"שליטה\" בהחלפת הקשר (context switch), ובדרישה לפעולות מיוחסות (privileged operations) כמו עדכון רגיסטרי Base&Bounds במהלך החלפה, איזה מנגנון בלעדי המתואר בחומר הלימוד מאפשר למערכת ההפעלה להשיב לעצמה שליטה מתהליך משתמש רץ ולבצע פעולות אלו?",
      "code_snippet": null,
      "options": [
        "א. התהליך מבצע קריאת מערכת (system call), אשר מעלה את הרשאותיו ומעבירה את המעבד למצב ליבה (kernel mode), ובכך מאפשרת למערכת ההפעלה לבצע את הפעולות המיוחסות הנדרשות להחלפת הקשר.",
        "ב. מערכת ההפעלה מריצה ללא הרף קוד ברקע במקביל לתהליך המשתמש, ובכך שומרת על שליטה רציפה ומבצעת החלפת קשר בכל עת.",
        "ג. התהליך הרץ מוריד את הרשאותיו באופן יזום למצב משתמש (user mode) כאשר הוא מגיע לסוף יחידת הזמן שהוקצתה לו, מה שמאפשר למערכת ההפעלה להשתלט.",
        "ד. מנגנון Direct Execution מבטיח שהתהליך ירוץ עד לסיומו המלא, ורק אז מערכת ההפעלה משיבה לעצמה שליטה לביצוע החלפת קשר."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. חומר הלימוד מציין במפורש כי \"כשנהליך רץ, זה אומר שהמעבד מבצע את הפקודות של אותו תהליך, ולכן בזמן זה מערכת ההפעלה לא רצה\" (Lecture 2, chunk 16), מה שמדגיש את אתגר ה\"שליטה\". על מנת שמערכת ההפעלה תוכל לבצע החלפת הקשר, היא זקוקה לשליטה ולפעולות מיוחסות. המנגנון היחיד המתואר בחומר הלימוד שמאפשר לתהליך משתמש לעבור למצב ליבה (kernel mode) הוא קריאת מערכת (system call): \"ברגע שתהליך מבצע קריאת מערכת – ההרשאות שלו עולות. מתבצעת החלפה מ-user mode ל-kernel mode\" (Lecture 2, chunk 24). במצב ליבה, מערכת ההפעלה יכולה לבצע פעולות מיוחסות כמו עדכון רגיסטרי Base&Bounds במעבד, פעולה ש\"מותר רק ב-kernel mode, לכן רק מערכת ההפעלה יכולה לעשות זאת\" (Lecture 6, chunk 15). לכן, קריאת מערכת היא הדרך המתוארת בחומר שבה מערכת ההפעלה משיבה לעצמה שליטה לביצוע פעולות קריטיות בהחלפת הקשר.\n\nאפשרויות ב', ג' ו-ד' אינן נכונות:\n*   אפשרות ב' סותרת ישירות את הכתוב בחומר לפיו מערכת ההפעלה אינה רצה כאשר תהליך משתמש רץ.\n*   אפשרות ג' מתארת מנגנון של הורדת הרשאות יזומה שאינו מוזכר בחומר הלימוד.\n*   אפשרות ד' מתארת את מנגנון ה-Direct Execution שבו התהליך רץ עד לסיום, והוא אינו מתאר כיצד מערכת ההפעלה משיבה שליטה מתהליך רץ על מנת לבצע החלפת קשר במובן הרחב (הכולל קדם-אמפטיה)."
    }
  }
}