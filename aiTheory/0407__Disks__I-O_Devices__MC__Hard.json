{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Disks",
    "topic_hint": "I/O Devices",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:32:31",
    "context_chunks_used": 5,
    "context_lectures": [
      17,
      18
    ],
    "token_usage": {
      "prompt_tokens": 2181,
      "output_tokens": 977,
      "total_tokens": 5894
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Disks",
    "topic": [
      "I/O Devices"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "מערכת הפעלה מודרנית משתמשת במנגנון דרייברים (מנהלי התקן) כדי לתקשר עם התקני חומרה מורכבים כמו דיסקים, במקום לחשוף ישירות את רגיסטרי השליטה (command, status) שלהם למרחב המשתמש באמצעות מיפוי זיכרון (memory-mapped I/O). איזו מהסיבות הבאות היא הסיבה העיקרית לכך?",
      "code_snippet": null,
      "options": [
        "א. חשיפת רגיסטרי שליטה של דיסקים למרחב המשתמש באמצעות מיפוי זיכרון עלולה לאפשר למשתמשים לבצע פעולות שעלולות לשבש את פעולת הדיסק או את שלמות הנתונים, מה שמחייב את מערכת ההפעלה לתווך דרך דרייבר הפועל במצב ליבה.",
        "ב. מנגנון מיפוי הזיכרון (memory-mapped I/O) מיועד אך ורק לרכיבי חומרה פשוטים כמו זיכרון וידאו ואינו תומך כלל בתקשורת עם רגיסטרים של התקני אחסון מורכבים.",
        "ג. שימוש בדרייברים מאפשר למערכת ההפעלה להשיג מהירות גישה גבוהה יותר לדיסק מאשר באמצעות מיפוי זיכרון, מכיוון שדרייברים מותאמים אישית לחומרה הספציפית.",
        "ד. מנגנון הדרייברים נחוץ רק כאשר התקן החומרה אינו תומך כלל במיפוי זיכרון, ורוב הדיסקים המודרניים אינם תומכים ביכולת זו."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "ההסבר הנכון מתבסס על העיקרון שמערכת ההפעלה פועלת כמתווכת ומגנה על משאבי המערכת. לפי חומר ההרצאה (chunk 20), \"לא נוכל לגשת לרגיסטרים של ההארד דיסק. מערכת ההפעלה לא תיתן לנו. אבל היא כן תיתן לנו למפות את הנתונים שבתוכו (למשל קובץ). כלומר היא לא תיתן לנו למפות רק דברים שאנחנו לא יכולים להזיק בהם.\" רגיסטרי שליטה (command, status) של דיסק הם רכיבים קריטיים שגישה ישירה ובלתי מבוקרת אליהם ממרחב המשתמש עלולה להוביל לשחיתות נתונים, לקריסת המערכת או לניצול לרעה. לכן, למרות שמנגנון מיפוי הזיכרון (memory-mapped I/O) מאפשר גישה ישירה לחומרה ואף עשוי לחסוך מעבר למצב ליבה במקרים מסוימים (כמו גישה לפיקסלים בזיכרון וידאו), מערכת ההפעלה אוכפת הגנה על רכיבים רגישים אלו. היא עושה זאת באמצעות דרייברים, שהם קוד הפועל במצב ליבה (kernel mode) ומבצע את התקשורת בפועל עם רגיסטרי החומרה באופן מבוקר ובטוח, ומספק ממשק אחיד ומוגן ליישומים. אפשרויות ב, ג ו-ד אינן נכונות שכן מיפוי זיכרון אינו מוגבל בהכרח לרכיבים פשוטים, דרייברים אינם בהכרח מהירים יותר מגישה ישירה במונחי ביצועים טהורים של איתור כתובת, ורוב ההתקנים המודרניים תומכים בדרך כלל במיפוי זיכרון ברמה מסוימת, אך השאלה היא על בקרת הגישה."
    }
  }
}