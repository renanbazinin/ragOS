{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Locks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 17:32:28",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      11,
      13
    ],
    "token_usage": {
      "prompt_tokens": 2137,
      "output_tokens": 786,
      "total_tokens": 5892
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Locks"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על מימוש מנעול ה-TestAndSet כפי שהוצג בחומר ההרצאה, ובהתחשב בשלוש התכונות של מנעול טוב (מניעה הדדית, מניעת קיפאון, והוגנות), איזו מהטענות הבאות נכונה?",
      "code_snippet": "while (TestAndSet(&flag, 1))\n  ; // spin-wait\n// critical section\nflag = 0;",
      "options": [
        "א. הוא מקיים מניעה הדדית ומניעת קיפאון (deadlock freedom), אך אינו מבטיח הוגנות מלאה (starvation-freedom).",
        "ב. הוא מקיים את כל שלוש התכונות: מניעה הדדית, מניעת קיפאון והוגנות מלאה.",
        "ג. הוא אינו מקיים מניעה הדדית, אך מבטיח מניעת קיפאון והוגנות מלאה.",
        "ד. הוא אינו מקיים לא מניעת קיפאון ולא הוגנות, אלא רק מניעה הדדית."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "חומר ההרצאה (Lecture 11, chunk 42) מתאר את מנעול ה-TestAndSet. לגבי נכונותו, נאמר במפורש: \"מבחינת נכונות - המנעול הזה נכון. הוא מקיים deadlock freedom (מניעת קיפאון). אין בו הוגנות מלאה מבחינת תזמון - ייתכן שחוט יתפוס את המנעול מיד לאחר ששחרר אותו ולא ייתן לחוטים אחרים להשתמש בו.\"\n\nננתח את התכונות לפי ההרצאה:\n1.  **מניעה הדדית (Mutual Exclusion):** ההרצאה מציינת (Lecture 11, chunk 27) שמניעה הדדית היא \"התכונה הבסיסית שצריכה להיות למנעול\". מכיוון שהמנעול מוגדר כ\"נכון\", הוא בהכרח מקיים מניעה הדדית, שכן בלעדיה לא היה נחשב למנעול תקין בבסיסו.\n2.  **מניעת קיפאון (Deadlock Freedom):** ההרצאה מציינת במפורש שהמנעול \"מקיים deadlock freedom (מניעת קיפאון)\".\n3.  **הוגנות (Starvation-Freedom):** ההרצאה מציינת במפורש ש\"אין בו הוגנות מלאה מבחינת תזמון\" ומסבירה כי ייתכן שחוט יתפוס את המנעול מיד לאחר שחרורו, ובכך ימנע מחוטים אחרים להתקדם (starvation).\n\nלפיכך, הטענה הנכונה היא שהמנעול מקיים מניעה הדדית ומניעת קיפאון, אך אינו מבטיח הוגנות מלאה."
    }
  }
}