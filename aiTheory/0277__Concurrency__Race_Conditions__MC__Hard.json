{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Race Conditions",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:01:22",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      10,
      11
    ],
    "token_usage": {
      "prompt_tokens": 1914,
      "output_tokens": 1010,
      "total_tokens": 6567
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Race Conditions"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "איזו מההגדרות הבאות מתארת בצורה המדויקת ביותר מצב מרוץ (Race Condition) בהקשר של מערכות הפעלה, כפי שנדון בחומר הלימוד?",
      "code_snippet": null,
      "options": [
        "א. מצב שבו חוטים מרובים ניגשים למשאב משותף בקטע קריטי לא מוגן, וסדר הריצה הלא-דטרמיניסטי של החוטים קובע את התוצאה הסופית, מה שעלול להוביל לתוצאות שגויות או בלתי צפויות.",
        "ב. מצב שבו חוט יחיד נכנס ללולאה אינסופית ומעכב את כל החוטים האחרים מלהתקדם בקטע קריטי.",
        "ג. מצב שבו שני חוטים או יותר ממתינים זה לזה באופן הדדי (תלות מעגלית), ואינם יכולים להתקדם בביצוע הקוד שלהם.",
        "ד. מצב שבו מנגנון המניעה ההדדית נכשל, ומאפשר לחוט אחד בלבד לגשת למשאב המשותף, אך אינו מבטיח הוגנות."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "מצב מרוץ (Race Condition) מתרחש כאשר מספר חוטים ניגשים למשאב משותף (כמו צומת בכביש בדוגמה מחומר הלימוד) בתוך קטע קריטי שאינו מוגן כראוי. חומר הלימוד מציין כי המטרה היא \"לוודא שהם רצים בצורה נכונה בלי סיכון להגיע למצב ריצה/מרוץ\" בקטעים קריטיים שניגשים למשאב משותף (Lecture 11, chunk 9). כמו כן, הוא מדגיש כי \"ייתכן שהחוטים ייגשו למשאבים בו זמנית ותהיה בעיית סנכרון עקב כך\" (Lecture 11, chunk 1). המאפיין המרכזי שמוביל למצב זה הוא חוסר השליטה בסדר הריצה של החוטים, ש\"תלוי במתזמן/במערכת ההפעלה\" (Lecture 11, chunk 1), וכי \"איזה יתומן מתי, מי יקבל page fault וכו'\" הוא לא דטרמיניסטי (Lecture 10, chunk 29). כתוצאה מכך, הפלט או מצב המערכת הסופי יכולים להיות שונים ובלתי צפויים, או שגויים, כתלות ב\"מזלנו שלנו\" ובסדר הריצה הספציפי (Lecture 10, chunk 29).\n\nאפשרויות אחרות אינן מתארות מצב מרוץ:\nב. מתאר מצב של לולאה אינסופית או הרעבה (starvation) מטיפוס מסוים, ולא את ההגדרה של מצב מרוץ.\nג. מתאר מצב של קיפאון (deadlock), שבו חוטים ממתינים זה לזה בתלות מעגלית ואינם יכולים להתקדם (Lecture 11, chunk 28).\nד. אפשרות זו סותרת את עצמה חלקית. כישלון מנגנון מניעה הדדית אכן יכול להוביל למצב מרוץ בכך שהוא מאפשר לחוטים רבים לגשת למשאב. אולם, הטענה שאז הוא \"מאפשר לחוט אחד בלבד לגשת למשאב המשותף\" שגויה, שכן זוהי דווקא המטרה של מניעה הדדית מוצלחת, ובמקרה של כישלון, יותר מחוט אחד יכול לגשת. החלק העוסק ב\"אינו מבטיח הוגנות\" מתייחס להרעבה (starvation), שהיא בעיה נפרדת ממצב מרוץ, גם אם שתיהן בעיות סנכרון."
    }
  }
}