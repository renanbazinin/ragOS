{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Log-structured File System",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-14 18:25:48",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21,
      22
    ],
    "token_usage": {
      "prompt_tokens": 2062,
      "output_tokens": 754,
      "total_tokens": 4500
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Log-structured File System"
    ],
    "difficulty_estimation": "Hard",
    "content": {
      "text": "בהתבסס על עקרונות מערכת הקבצים הלוג-מבנית (LFS) ודגשיה על שיפור פעולות כתיבה באמצעות כתיבת סגמנטים שלמים, איזו מההשלכות הבאות נכונה לגבי תהליך איסוף הזבל (Garbage Collection) כאשר סגמנט מכיל תערובת של נתונים עדכניים ומיושנים?",
      "code_snippet": null,
      "options": [
        "א. ה-LFS נדרשת לבצע איחוי דיסק תכוף (defragmentation) כדי להבטיח רציפות סגמנטים, מה שמגדיל את זמן השהיה בקריאה.",
        "ב. בלוקי נתונים תקפים בתוך סגמנטים \"מלוכלכים\" (dirty segments) חלקית חייבים להיות מועתקים לסגמנטים חדשים לפני שניתן יהיה לשחרר את הסגמנט המקורי, מה שמוביל להגברת כתיבות (write amplification).",
        "ג. ה-inodes מאוחסנים תמיד במיקומים קבועים בדיסק, מה שהופך את עדכוניהם לאיטיים מאוד.",
        "ד. מערכת הקבצים מבטלת לחלוטין פיצול חיצוני (external fragmentation), אך מציגה פיצול פנימי משמעותי בתוך בלוקי הנתונים עצמם."
      ]
    },
    "solution": {
      "correct_option": "ב",
      "explanation": "מערכת הקבצים הלוג-מבנית (LFS) מתוכננת לשפר את ביצועי הכתיבה על ידי כתיבת סגמנטים שלמים באופן סדרתי. תהליך איסוף הזבל (garbage collection) ב-LFS פועל כדי לפנות סגמנטים מיותרים, אך הוא שואף לפנות סגמנטים שלמים ולא בלוקים בודדים. כפי שמצוין בחומר הלימוד, 'לא בטוח שיש סגמנט שכולו ירוקון, ייתכן ויהיה בו בלוק שישאר תקף ולא זבל שכתבנו אותו'. משמעות הדבר היא שאם סגמנט מכיל גם בלוקים תקפים וגם בלוקים מיושנים (זבל), לא ניתן לפנות את הסגמנט כולו ישירות. במקרה כזה, על ה-LFS להעתיק את הבלוקים התקפים שנותרו בסגמנט ה'מלוכלך' לסגמנט חדש וריק לפני שניתן יהיה לשחרר את הסגמנט המקורי. פעולה זו של העתקת נתונים תקפים היא תוספת של פעולות כתיבה, הידועה כ'הגברת כתיבות' (write amplification), והיא מהווה אתגר מהותי במימוש LFS."
    }
  }
}