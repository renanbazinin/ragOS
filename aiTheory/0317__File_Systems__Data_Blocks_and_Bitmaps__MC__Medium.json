{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "File Systems",
    "topic_hint": "Data Blocks and Bitmaps",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 18:10:35",
    "context_chunks_used": 5,
    "context_lectures": [
      20,
      21
    ],
    "token_usage": {
      "prompt_tokens": 1783,
      "output_tokens": 595,
      "total_tokens": 4179
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "File Systems",
    "topic": [
      "Data Blocks and Bitmaps"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "מערכת קבצים מעדכנת קובץ, מה שכולל הקצאת בלוק נתונים חדש. נניח שהמערכת קורסת *לאחר* שבלוק הנתונים החדש נכתב ו-`data bitmap` עודכן כדי לסמן את הבלוק כתפוס, אך *לפני* שה-`inode` עודכן להצביע לבלוק החדש הזה. מהי התוצאה הסבירה ביותר של קריסה זו?",
      "code_snippet": null,
      "options": [
        "א. בלוק הנתונים החדש יסומן כתפוס ב-`data bitmap`, אך אף `inode` לא יצביע אליו, מה שיוביל לליג' זיכרון (disk space leak).",
        "ב. ה-`inode` יצביע לבלוק שעדיין מסומן כפנוי ב-`data bitmap`, מה שיאפשר לבלוק להידרס על ידי קובץ אחר.",
        "ג. ה-`data bitmap` וה-`inode` יישארו במצבם הקודם לפני ההקצאה, כאילו הפעולה לא התרחשה כלל.",
        "ד. מערכת הקבצים תזהה אוטומטית את חוסר העקביות ותשחרר את בלוק הנתונים עם אתחול מחדש מבלי לאבד נתונים."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "התשובה הנכונה היא א'. על פי חומר ההרצאה (Lecture 21, chunk 12, סעיף iii), אם המערכת קורסת לאחר שבלוק הנתונים עודכן ו-`data bitmap` עודכן (כלומר, הבלוק סומן כתפוס), אך ה-`inode` טרם עודכן להצביע על הבלוק החדש, הבעיה שתיווצר היא 'ליג' זיכרון'. המשמעות היא שישנו בלוק נתונים שמסומן כתפוס ב-`data bitmap`, אך אין אף `inode` שמצביע אליו, ובכך הוא הופך לבלוק בלתי נגיש שתופס מקום מיותר בדיסק."
    }
  }
}