{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Virtualization",
    "topic_hint": "Copy-on-Write",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:23:19",
    "context_chunks_used": 5,
    "context_lectures": [
      8,
      9,
      4,
      7
    ],
    "token_usage": {
      "prompt_tokens": 1949,
      "output_tokens": 694,
      "total_tokens": 4325
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Virtualization",
    "topic": [
      "Copy-on-Write"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "בהקשר של יצירת תהליכים חדשים באמצעות `fork`, מהו העיקרון המרכזי של מנגנון Copy-on-Write (CoW)?",
      "code_snippet": null,
      "options": [
        "א. הזיכרון של תהליך האב ותהליך הבן משותף בתחילה, ועותק נפרד נוצר רק כאשר אחד מהם מנסה לבצע פעולת כתיבה לדף זיכרון משותף.",
        "ב. כל דפי הזיכרון של תהליך האב משוכפלים מיד לזיכרון נפרד עבור תהליך הבן בעת קריאה ל-`fork`.",
        "ג. רק דפים המכילים קוד הניתן לקריאה בלבד משותפים בין האב לבן, בעוד שדפי נתונים משוכפלים מיד.",
        "ד. מנגנון CoW מאפשר טעינה מקדימה של דפים מהדיסק ל-RAM כדי להאיץ את יצירת התהליך."
      ]
    },
    "solution": {
      "correct_option": "א",
      "explanation": "האפשרות הנכונה היא א'. מנגנון Copy-on-Write (CoW) נועד לשפר ביצועים בעת יצירת תהליכים חדשים (כמו ב-`fork`) על ידי הימנעות משכפול מיידי ויקר של כל זיכרון האב. במקום זאת, הזיכרון משותף בין תהליך האב לתהליך הבן. העותק הנפרד נוצר רק בנקודה שבה אחד התהליכים מנסה לשנות (לכתוב ל-) דף זיכרון משותף. כפי שמצוין בחומר ההרצאה (Lecture 4, chunk 4): 'אם זה עותק, לא צריך לשכפל בפועל את הזיכרון, זו פעולה יקרה. במקום זה ניתן לחסוך את ההעתקה הזו, ולהגדיר שהזיכרון הזה משותף לשני התהליכים (האב והבן), עד שאחד התהליכים יעשה פעולת write.' אפשרות ב' מתארת את המצב ללא CoW, שבו כל הזיכרון משוכפל מיד. אפשרות ג' אינה מדויקת, שכן CoW חל על כל דפי הזיכרון המשותפים ואינו מוגבל רק לדפים הניתנים לקריאה בלבד. אפשרות ד' מתייחסת לטעינת דפים מהדיסק, שאינה קשורה ישירות לעיקרון הפעולה של CoW בעת `fork`."
    }
  }
}