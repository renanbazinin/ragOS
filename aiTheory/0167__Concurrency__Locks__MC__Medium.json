{
  "metadata": {
    "source": "ai_generated_from_summary",
    "subject": "Concurrency",
    "topic_hint": "Locks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-14 17:31:51",
    "context_chunks_used": 5,
    "context_lectures": [
      16,
      11,
      13
    ],
    "token_usage": {
      "prompt_tokens": 2137,
      "output_tokens": 722,
      "total_tokens": 5164
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "subject": "Concurrency",
    "topic": [
      "Locks"
    ],
    "difficulty_estimation": "Medium",
    "content": {
      "text": "על פי חומר ההרצאה, איזו מההצהרות הבאות לגבי תכונות של מנעולים (locks) היא הנכונה ביותר?",
      "code_snippet": null,
      "options": [
        "א. מנעול נחשב \"טוב\" רק אם הוא מקיים את כל שלוש התכונות: מניעה הדדית, deadlock freedom והוגנות.",
        "ב. מניעה הדדית (mutual exclusion) היא התכונה הבסיסית וההכרחית שצריכה להיות למנעול.",
        "ג. מנעול שמקיים deadlock freedom בהכרח מבטיח גם הוגנות (starvation-freedom) לכל החוטים.",
        "ד. מנעול שמקיים מניעה הדדית (mutual exclusion) בהכרח מקיים גם deadlock freedom."
      ]
    },
    "solution": {
      "correct_option": "ב",
      "explanation": "חומר ההרצאה מציין במפורש: \"מניעה הדדית - התכונה הבסיסית שצריכה להיות למנעול: בכל רגע נתון יש לכל היותר חוט אחד בקטע הקריטי.\" קביעה זו הופכת את המניעה ההדדית לדרישה יסודית וראשונית מכל מנעול.\n\nא. אפשרות א' שגויה, כיוון שחומר ההרצאה קובע: \"מנעול טוב הוא מנעול בעל 3 תכונות ולא כולן חייבות להתקיים\".\nג. אפשרות ג' שגויה, כפי שמודגם במנעול ה-TestAndSet. חומר ההרצאה מציין כי מנעול זה \"מקיים deadlock freedom\" אך \"אין בו הוגנות מלאה מבחינת תזמון - ייתכן שחוט יתפוס את המנעול מיד לאחר ששחרר אותו ולא ייתן לחוטים אחרים להשתמש בו\".\nד. אפשרות ד' שגויה. מניעה הדדית ו-deadlock freedom הן תכונות נפרדות. מנעול יכול לספק מניעה הדדית (לכל היותר חוט אחד בקטע הקריטי) אך עדיין להיכנס למצב של קיפאון (deadlock) אם, למשל, החוט המחזיק במנעול נתקע וממתין למשהו שלעולם לא יגיע, או במצב של שימוש במספר מנעולים בסדר לא עקבי. הדוגמה של המנעול לשני חוטים בהרצאה (Lecture 16, chunk 9) מראה כי מנעול יכול לקיים deadlock freedom מבלי לקיים מניעה הדדית, מה שמחזק את ההבנה שהן אינן תלויות זו בזו באופן חד-כיווני."
    }
  }
}