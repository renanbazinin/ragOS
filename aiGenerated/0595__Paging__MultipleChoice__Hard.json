{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Paging",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 22:55:05",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 1290,
      "total_tokens": 6706
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "Paging",
      "Virtual Memory",
      "TLB",
      "Effective Access Time",
      "Multi-Level Page Tables"
    ],
    "content": {
      "text": "מערכת הפעלה משתמשת בכתובות וירטואליות בנות 32 ביט ובגודל דף של 4KB. מיפוי הכתובות מבוצע באמצעות טבלת דפים דו-שכבתית (Two-Level Page Table). כל ערך בטבלת הדפים (PTE) הוא בגודל 4 בתים. למערכת קיים TLB עם שיעור פגיעה (Hit Rate) של 95%. זמן הגישה ל-TLB הוא 5ns, וזמן הגישה לזיכרון הפיזי (RAM) הוא 50ns.\nמהו זמן הגישה האפקטיבי (Effective Access Time - EAT) לביצוע פעולת קריאת נתונים מהזיכרון?",
      "code_snippet": null,
      "options": [
        "א. 55ns",
        "ב. 60ns",
        "ג. 105ns",
        "ד. 155ns",
        "ה. 110ns"
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "זמן גישה אפקטיבי (EAT) מחושב לפי הנוסחה:\nEAT = (שיעור פגיעה ב-TLB * זמן גישה במקרה של פגיעה) + (שיעור החטאה ב-TLB * זמן גישה במקרה של החטאה)\n\nנחשב את המרכיבים:\n1.  **חלוקת הכתובת הוירטואלית:**\n    *   גודל כתובת וירטואלית: 32 ביט.\n    *   גודל דף: 4KB = 2^12 בתים. לכן, ההיסט בתוך הדף (Page Offset) הוא 12 ביט.\n    *   מספר הדף הוירטואלי (VPN): 32 - 12 = 20 ביט.\n    *   גודל ערך בטבלת דפים (PTE): 4 בתים.\n    *   מספר ערכים בטבלת דפים שיכולים להיכנס לדף אחד: 4KB / 4 בתים = 1024 ערכים.\n    *   מספר ביטים לכל אינדקס בטבלת הדפים: log2(1024) = 10 ביט.\n    *   מכיוון שמדובר בטבלת דפים דו-שכבתית, ה-VPN מתחלק לשני אינדקסים, כל אחד בן 10 ביט (10+10=20 ביט, תואם ל-VPN).\n\n2.  **זמן גישה במקרה של פגיעה ב-TLB (TLB Hit):**\n    *   גישה ל-TLB: 5ns.\n    *   ה-TLB מכיל את הכתובת הפיזית של הדף.\n    *   גישה לזיכרון הפיזי (קריאת נתונים): 50ns.\n    *   סה\"כ זמן במקרה של פגיעה: 5ns + 50ns = 55ns.\n\n3.  **זמן גישה במקרה של החטאה ב-TLB (TLB Miss):**\n    *   גישה ל-TLB: 5ns (מתבצעת תמיד, גם במקרה של החטאה).\n    *   החטאה ב-TLB דורשת מעבר על טבלת הדפים בזיכרון הראשי כדי למצוא את הכתובת הפיזית של הדף.\n    *   טבלת דפים דו-שכבתית דורשת שתי גישות לזיכרון הראשי כדי למצוא את ה-PTE:\n        *   גישה לטבלת הדפים ברמה הראשונה (P1): 50ns.\n        *   גישה לטבלת הדפים ברמה השנייה (P2): 50ns.\n    *   לאחר מציאת הכתובת הפיזית של הדף, יש לגשת לזיכרון הראשי כדי לקרוא את הנתונים: 50ns.\n    *   סה\"כ זמן במקרה של החטאה: 5ns (TLB) + 50ns (P1) + 50ns (P2) + 50ns (Data) = 155ns.\n\n4.  **חישוב EAT:**\n    *   שיעור פגיעה ב-TLB: 95% = 0.95.\n    *   שיעור החטאה ב-TLB: 100% - 95% = 5% = 0.05.\n    *   EAT = (0.95 * 55ns) + (0.05 * 155ns)\n    *   EAT = 52.25ns + 7.75ns\n    *   EAT = 60ns."
    },
    "difficulty_estimation": "Hard"
  }
}