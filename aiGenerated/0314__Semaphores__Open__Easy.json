{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Semaphores",
    "requested_type": "Open",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-07 20:43:14",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2862,
      "output_tokens": 815,
      "total_tokens": 5234
    },
    "subject": "Concurrency"
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Semaphores",
      "Concurrency",
      "Synchronization",
      "Mutual Exclusion"
    ],
    "content": {
      "text": "מהו סמפור? הסבירו את שתי הפעולות העיקריות שלו (P/wait ו-V/signal). כיצד ניתן להשתמש בסמפור להשגת הדדית (mutual exclusion) עבור קטע קריטי?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "סמפור הוא כלי סנכרון המהווה משתנה שלם, אשר מלבד אתחול, ניתן לגשת אליו רק באמצעות שתי פעולות אטומיות סטנדרטיות: wait() ו-signal().\n\n**פעולות הסמפור:**\n*   **wait() (או P):** פעולה זו מקטינה את ערך הסמפור. אם ערך הסמפור הופך שלילי, התהליך המבצע את הפעולה נחסם (מוכנס לרשימת המתנה) עד שערך הסמפור יהפוך לחיובי (כלומר, משאב יהיה זמין).\n*   **signal() (או V):** פעולה זו מגדילה את ערך הסמפור. אם ישנם תהליכים חסומים הממתינים על סמפור זה, אחד מהם משוחרר (מתעורר) ומוכן לביצוע.\n\n**שימוש בסמפור להשגת הדדית (Mutual Exclusion) עבור קטע קריטי:**\nכדי להבטיח שרק תהליך אחד ייכנס לקטע קריטי בכל רגע נתון, ניתן להשתמש בסמפור בינארי (הנקרא לעיתים קרובות mutex). הנה השלבים:\n1.  **אתחול:** יוצרים סמפור בינארי ומאתחלים את ערכו ל-1. (לדוגמה: `semaphore mutex = 1;`)\n2.  **לפני הכניסה לקטע הקריטי:** כל תהליך שרוצה להיכנס לקטע הקריטי מבצע את פעולת `wait()` על הסמפור. לדוגמה: `wait(mutex);`\n    *   אם `mutex` הוא 1, הוא הופך ל-0 והתהליך נכנס לקטע הקריטי.\n    *   אם `mutex` הוא 0, התהליך נחסם וממתין עד ש-`mutex` יהפוך שוב ל-1.\n3.  **לאחר היציאה מהקטע הקריטי:** כל תהליך שיוצא מהקטע הקריטי מבצע את פעולת `signal()` על הסמפור. לדוגמה: `signal(mutex);`\n    *   פעולה זו מגדילה את ערך `mutex` ל-1, ובכך מאפשרת לתהליך אחר (אם יש כזה ממתין) להיכנס לקטע הקריטי.\n\nבצורה זו, הסמפור מבטיח שרק תהליך אחד יוכל לעבור את ה-`wait(mutex)` ולהיכנס לקטע הקריטי, וכל שאר התהליכים ימתינו מחוץ לו."
    },
    "difficulty_estimation": "Easy"
  }
}