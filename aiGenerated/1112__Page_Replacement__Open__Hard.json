{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Page Replacement",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-09 20:27:51",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 4205,
      "output_tokens": 3569,
      "total_tokens": 16546
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Memory Management",
      "Paging",
      "Page Replacement"
    ],
    "content": {
      "text": "במערכת הפעלה מסוימת, זיכרון פיזי מנוהל באמצעות דפדוף לפי דרישה (Demand Paging), וכולל 3 מסגרות פיזיות בלבד עבור דפי תהליכי משתמש. ישנה סדרת גישות לדפים הבאה:\n`7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2, 1, 2, 0, 1, 7, 0, 1`\nעבור כל אלגוריתם החלפת דפים, יש להציג את מצב המסגרות הפיזיות לאחר כל גישה (או שינוי), ולחשב את מספר כשלי הדף הכולל.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": [
      {
        "id": "1.1",
        "text": "חשב את מספר כשלי הדף עבור אלגוריתם FIFO (First-In, First-Out). הצג את מצב המסגרות הפיזיות בכל שלב.",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "1.2",
        "text": "חשב את מספר כשלי הדף עבור אלגוריתם LRU (Least Recently Used). הצג את מצב המסגרות הפיזיות בכל שלב.",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "1.3",
        "text": "חשב את מספר כשלי הדף עבור אלגוריתם Second-Chance (Clock). יש להניח שהמצביע של ה-Clock מתחיל במסגרת 0. כאשר דף נטען למסגרת, ביט ה-Reference שלו נקבע ל-1. כאשר המצביע עובר על מסגרת, ביט ה-Reference שלה מתאפס אם הוא היה 1. הצג את מצב המסגרות הפיזיות וביטי ה-Reference שלהן בכל שלב, יחד עם מיקום המצביע.",
        "code_snippet": null,
        "options": null
      }
    ],
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "הסבר כללי:\nהמערכת כוללת 3 מסגרות פיזיות. סדרת הגישות לדפים היא:\n`7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2, 1, 2, 0, 1, 7, 0, 1`\n\n1.1 אלגוריתם FIFO:\nכשלי דף (PF) מתרחשים כאשר דף נדרש ואינו נמצא בזיכרון. באלגוריתם FIFO, הדף הוותיק ביותר בזיכרון מוחלף.\nמסגרות: [_, _, _], כש\"ד = 0\n1. `7`: [7, _, _] PF=1\n2. `0`: [7, 0, _] PF=2\n3. `1`: [7, 0, 1] PF=3\n4. `2`: [2, 0, 1] (7 הוחלף) PF=4\n5. `0`: [2, 0, 1] (פגיעה)\n6. `3`: [2, 3, 1] (0 הוחלף) PF=5\n7. `0`: [2, 3, 0] (1 הוחלף) PF=6\n8. `4`: [4, 3, 0] (2 הוחלף) PF=7\n9. `2`: [4, 2, 0] (3 הוחלף) PF=8\n10. `3`: [4, 2, 3] (0 הוחלף) PF=9\n11. `0`: [0, 2, 3] (4 הוחלף) PF=10\n12. `3`: [0, 2, 3] (פגיעה)\n13. `2`: [0, 2, 3] (פגיעה)\n14. `1`: [0, 1, 3] (2 הוחלף) PF=11\n15. `2`: [0, 1, 2] (3 הוחלף) PF=12\n16. `0`: [0, 1, 2] (פגיעה)\n17. `1`: [0, 1, 2] (פגיעה)\n18. `7`: [7, 1, 2] (0 הוחלף) PF=13\n19. `0`: [7, 0, 2] (1 הוחלף) PF=14\n20. `1`: [7, 0, 1] (2 הוחלף) PF=15\nסה\"כ כשלי דף ב-FIFO: 15.\n\n1.2 אלגוריתם LRU:\nבאלגוריתם LRU, הדף שהיה בשימוש הכי פחות לאחרונה מוחלף.\nמסגרות: [_, _, _], כש\"ד = 0\n1. `7`: [7, _, _] PF=1\n2. `0`: [7, 0, _] PF=2\n3. `1`: [7, 0, 1] PF=3\n4. `2`: [0, 1, 2] (7 הוא ה-LRU) PF=4\n5. `0`: [1, 2, 0] (פגיעה, 0 הופך ל-MRU)\n6. `3`: [2, 0, 3] (1 הוא ה-LRU) PF=5\n7. `0`: [2, 3, 0] (פגיעה, 0 הופך ל-MRU)\n8. `4`: [3, 0, 4] (2 הוא ה-LRU) PF=6\n9. `2`: [0, 4, 2] (3 הוא ה-LRU) PF=7\n10. `3`: [4, 2, 3] (0 הוא ה-LRU) PF=8\n11. `0`: [2, 3, 0] (4 הוא ה-LRU) PF=9\n12. `3`: [2, 0, 3] (פגיעה)\n13. `2`: [0, 3, 2] (פגיעה)\n14. `1`: [3, 2, 1] (0 הוא ה-LRU) PF=10\n15. `2`: [3, 1, 2] (פגיעה)\n16. `0`: [1, 2, 0] (3 הוא ה-LRU) PF=11\n17. `1`: [2, 0, 1] (פגיעה)\n18. `7`: [0, 1, 7] (2 הוא ה-LRU) PF=12\n19. `0`: [1, 7, 0] (פגיעה)\n20. `1`: [7, 0, 1] (פגיעה)\nסה\"כ כשלי דף ב-LRU: 12.\n\n1.3 אלגוריתם Second-Chance (Clock):\nבאלגוריתם זה, המצביע סורק את המסגרות. אם ביט ה-Reference (R) של דף הוא 1, הוא מתאפס והמצביע מתקדם. אם ביט ה-R הוא 0, הדף מוחלף. ביט ה-R של דף חדש נקבע ל-1.\nייצוג: `[(page, R_bit), (page, R_bit), (page, R_bit)]`, CH = מצביע Clock.\n\nמצב התחלתי: `[(-,0), (-,0), (-,0)]`, CH=0, כש\"ד = 0\n1. `7`: PF. 7 נטען למסגרת 0. `[(7,1), (-,0), (-,0)]`, CH=1. כש\"ד=1.\n2. `0`: PF. 0 נטען למסגרת 1. `[(7,1), (0,1), (-,0)]`, CH=2. כש\"ד=2.\n3. `1`: PF. 1 נטען למסגרת 2. `[(7,1), (0,1), (1,1)]`, CH=0. כש\"ד=3.\n4. `2`: PF. CH=0 מצביע על (7,1). R=1 -> (7,0), CH=1.\n   CH=1 מצביע על (0,1). R=1 -> (0,0), CH=2.\n   CH=2 מצביע על (1,1). R=1 -> (1,0), CH=0.\n   CH=0 מצביע על (7,0). R=0. מחליף 7 ב-2. `[(2,1), (0,0), (1,0)]`, CH=1. כש\"ד=4.\n5. `0`: פגיעה. 0 במסגרת 1. R של 0 הופך ל-1. `[(2,1), (0,1), (1,0)]`, CH=1.\n6. `3`: PF. CH=1 מצביע על (0,1). R=1 -> (0,0), CH=2.\n   CH=2 מצביע על (1,0). R=0. מחליף 1 ב-3. `[(2,1), (0,0), (3,1)]`, CH=0. כש\"ד=5.\n7. `0`: פגיעה. 0 במסגרת 1. R של 0 הופך ל-1. `[(2,1), (0,1), (3,1)]`, CH=0.\n8. `4`: PF. CH=0 מצביע על (2,1). R=1 -> (2,0), CH=1.\n   CH=1 מצביע על (0,1). R=1 -> (0,0), CH=2.\n   CH=2 מצביע על (3,1). R=1 -> (3,0), CH=0.\n   CH=0 מצביע על (2,0). R=0. מחליף 2 ב-4. `[(4,1), (0,0), (3,0)]`, CH=1. כש\"ד=6.\n9. `2`: PF. CH=1 מצביע על (0,0). R=0. מחליף 0 ב-2. `[(4,1), (2,1), (3,0)]`, CH=2. כש\"ד=7.\n10. `3`: פגיעה. 3 במסגרת 2. R של 3 הופך ל-1. `[(4,1), (2,1), (3,1)]`, CH=2.\n11. `0`: PF. CH=2 מצביע על (3,1). R=1 -> (3,0), CH=0.\n    CH=0 מצביע על (4,1). R=1 -> (4,0), CH=1.\n    CH=1 מצביע על (2,1). R=1 -> (2,0), CH=2.\n    CH=2 מצביע על (3,0). R=0. מחליף 3 ב-0. `[(4,0), (2,0), (0,1)]`, CH=0. כש\"ד=8.\n12. `3`: PF. CH=0 מצביע על (4,0). R=0. מחליף 4 ב-3. `[(3,1), (2,0), (0,1)]`, CH=1. כש\"ד=9.\n13. `2`: פגיעה. 2 במסגרת 1. R של 2 הופך ל-1. `[(3,1), (2,1), (0,1)]`, CH=1.\n14. `1`: PF. CH=1 מצביע על (2,1). R=1 -> (2,0), CH=2.\n    CH=2 מצביע על (0,1). R=1 -> (0,0), CH=0.\n    CH=0 מצביע על (3,1). R=1 -> (3,0), CH=1.\n    CH=1 מצביע על (2,0). R=0. מחליף 2 ב-1. `[(3,0), (1,1), (0,0)]`, CH=2. כש\"ד=10.\n15. `2`: PF. CH=2 מצביע על (0,0). R=0. מחליף 0 ב-2. `[(3,0), (1,1), (2,1)]`, CH=0. כש\"ד=11.\n16. `0`: PF. CH=0 מצביע על (3,0). R=0. מחליף 3 ב-0. `[(0,1), (1,1), (2,1)]`, CH=1. כש\"ד=12.\n17. `1`: פגיעה. 1 במסגרת 1. R של 1 הופך ל-1. `[(0,1), (1,1), (2,1)]`, CH=1.\n18. `7`: PF. CH=1 מצביע על (1,1). R=1 -> (1,0), CH=2.\n    CH=2 מצביע על (2,1). R=1 -> (2,0), CH=0.\n    CH=0 מצביע על (0,1). R=1 -> (0,0), CH=1.\n    CH=1 מצביע על (1,0). R=0. מחליף 1 ב-7. `[(0,0), (7,1), (2,0)]`, CH=2. כש\"ד=13.\n19. `0`: פגיעה. 0 במסגרת 0. R של 0 הופך ל-1. `[(0,1), (7,1), (2,0)]`, CH=2.\n20. `1`: PF. CH=2 מצביע על (2,0). R=0. מחליף 2 ב-1. `[(0,1), (7,1), (1,1)]`, CH=0. כש\"ד=14.\nסה\"כ כשלי דף ב-Second-Chance: 14."
    },
    "difficulty_estimation": "Hard"
  }
}