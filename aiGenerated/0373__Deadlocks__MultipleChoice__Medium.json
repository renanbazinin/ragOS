{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Deadlocks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 21:08:53",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1159,
      "output_tokens": 739,
      "total_tokens": 3608
    }
  },
  "question": {
    "id": 101,
    "type": "MultipleChoice",
    "topic": [
      "Deadlocks",
      "Synchronization"
    ],
    "content": {
      "text": "נתבונן במערכת הכוללת מספר תהליכים (threads) ושני משאבים (R1 ו-R2), המוגנים על ידי מנעולים (mutex_R1 ו-mutex_R2 בהתאמה). כל תהליך זקוק לשני המשאבים כדי להשלים את פעולתו. איזה מהבאים מהווה שיטה יעילה למניעת קיפאון (deadlock) על ידי שבירת התנאי \"המתנה מעגלית\" (Circular Wait)?",
      "code_snippet": null,
      "options": [
        "א. כל תהליך מנסה לתפוס את mutex_R1, ואם הוא מצליח, הוא מנסה לתפוס את mutex_R2. אם הוא נכשל בתפיסת mutex_R2, הוא משחרר את mutex_R1 ומנסה שוב לאחר המתנה אקראית.",
        "ב. תהליכים מסוימים תופסים את mutex_R1 ואז את mutex_R2, בעוד שאחרים תופסים את mutex_R2 ואז את mutex_R1.",
        "ג. כל התהליכים במערכת תמיד תופסים את המנעולים בסדר קבוע ומוגדר מראש, למשל: תמיד mutex_R1 תחילה, ולאחר מכן mutex_R2.",
        "ד. המערכת אוכפת שכל תהליך יבקש את כל המשאבים שהוא צריך בבת אחת. אם לא ניתן להקצות את כולם, הוא לא מקבל אף אחד מהם."
      ]
    },
    "sub_questions": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "התנאי 'המתנה מעגלית' מתקיים כאשר קיימת שרשרת של תהליכים, כאשר כל תהליך בשרשרת ממתין למשאב המוחזק על ידי התהליך הבא בשרשרת, והתהליך האחרון ממתין למשאב המוחזק על ידי התהליך הראשון. קביעת סדר גלובלי קבוע ומוגדר מראש ללקיחת משאבים (כמו תמיד R1 ואז R2) מונעת היווצרות של שרשרת כזו. אם כל התהליכים לוקחים את המשאבים באותו סדר, תהליך שלקח את R2 לא יכול לנסות לקחת את R1 (שכן זה מנוגד לסדר), ובכך נשבר התנאי של המתנה מעגלית. אפשרות א' מתייחסת יותר לשבירת 'החזק והמתן' או הימנעות מקיפאון, ואפשרות ד' שוברת את 'החזק והמתן'. אפשרות ב' היא למעשה תרחיש קלאסי שיוצר קיפאון."
    },
    "difficulty_estimation": "Medium"
  }
}