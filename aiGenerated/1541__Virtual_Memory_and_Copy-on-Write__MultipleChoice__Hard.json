{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory and Copy-on-Write",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 11:16:36",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 975,
      "output_tokens": 1002,
      "total_tokens": 5396
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "Virtual Memory",
      "Copy-on-Write",
      "Process Management",
      "fork",
      "execve"
    ],
    "content": {
      "text": "תהליך אב (P) מקצה בלוק זיכרון גדול וכותב לתוכו נתונים. לאחר מכן, P יוצר תהליך בן (C) באמצעות `fork()`. מיד לאחר ה-`fork()`, תהליך C מבצע קריאה ל-`execve()` כדי לטעון ולהריץ תוכנית חדשה.\nבהנחה שמערכת ההפעלה מממשת Copy-on-Write (CoW) עבור דפי זיכרון, ובהתייחס לדף זיכרון ספציפי (D) מתוך הבלוק שהוקצה על ידי P:\nמהי הטענה הנכונה **ביותר** לגבי דף D, אם הוא נכתב על ידי P לפני ה-`fork()`, אך **לא** נכתב על ידי P לאחר ה-`fork()`, וגם **לא** נקרא או נכתב על ידי C כלל **לפני** קריאת ה-`execve()`?",
      "code_snippet": null,
      "options": [
        "א. דף D יועתק (יבוצע CoW) עבור C ברגע ש-C ינסה לגשת אליו (לקרוא או לכתוב) לאחר ה-`execve()`.",
        "ב. דף D יועתק (יבוצע CoW) עבור P ברגע ש-P ינסה לכתוב אליו לאחר ה-`fork()`.",
        "ג. דף D לא יועתק לעולם עבור C כתוצאה מפעולת CoW הקשורה לגישה של C, מכיוון ש-`execve()` מחליף את כל מרחב הכתובות של C.",
        "ד. דף D יועתק (יבוצע CoW) עבור C ברגע ש-C ינסה לכתוב אליו לפני ה-`execve()`.",
        "ה. כל התשובות האחרות אינן נכונות."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "התשובה הנכונה היא ג'. כאשר תהליך הבן (C) קורא ל-`execve()`, מרחב הכתובות הוירטואלי שלו מוחלף לחלוטין במרחב כתובות חדש עבור התוכנית החדשה. המשמעות היא שכל המיפויים הקודמים לדפי זיכרון, כולל דפים ששותפו במנגנון CoW עם האב, מבוטלים. דף D, שהיה משותף ב-CoW, כבר לא יהיה חלק ממרחב הכתובות של הבן לאחר ה-`execve()`. לכן, הבן לעולם לא יגרום להעתקה של דף D באמצעות מנגנון CoW הקשור לגישה שלו לדף זה, מכיוון שהדף פשוט אינו קיים במרחב הכתובות שלו יותר.\nא. שגויה, כפי שהוסבר, מרחב הכתובות מוחלף לחלוטין על ידי `execve()`, ולכן הבן לא יוכל לגשת לדף D לאחר מכן.\nב. שגויה. אמנם ייתכן שדף D יועתק עבור P אם P יכתוב אליו לאחר ה-`fork()` (במידה והוא לא כתב לפני כן), אך השאלה מתמקדת בהשפעת ה-`execve()` על הדף בפרט עבור הבן (C), והאפשרות הזו מתארת פעולה של האב ולא של הבן או השפעת ה-`execve()`. בנוסף, השאלה מציינת במפורש ש-P לא כתב לדף לאחר ה-`fork()`.\nד. שגויה, השאלה מציינת במפורש שהבן לא ניגש לדף (לא קרא ולא כתב) לפני ה-`execve()`."
    },
    "difficulty_estimation": "Hard"
  }
}