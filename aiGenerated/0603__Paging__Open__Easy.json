{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Paging",
    "requested_type": "Open",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-08 06:47:40",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 4788,
      "output_tokens": 1330,
      "total_tokens": 8892
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Paging"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת בזיכרון וירטואלי בשיטת דפדוף (Paging). גודל הדף במערכת הוא 4KB.\nנתונה כתובת וירטואלית `0x12345`.\n\nיש לענות על השאלות הבאות ולנמק את התשובות.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": [
      {
        "id": "1.1",
        "text": "מהו גודל ההיסט (offset) בביטים עבור כתובת וירטואלית במערכת זו? נמק.",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "1.2",
        "text": "בהינתן הכתובת הוירטואלית `0x12345`, מהו מספר הדף הוירטואלי (Virtual Page Number) ומהו ההיסט בתוך הדף (offset)?",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "1.3",
        "text": "הסבר בקצרה כיצד המערכת מתרגמת כתובת וירטואלית זו לכתובת פיזית, בהנחה שהדף נמצא בזיכרון הפיזי.",
        "code_snippet": null,
        "options": null
      }
    ],
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "פתרון:\n\n1.1. גודל ההיסט בביטים:\n   גודל דף הוא 4KB. \n   4KB = 4 * 1024 בתים = 4096 בתים.\n   כדי למצוא את מספר הביטים הנדרשים לייצוג ההיסט בתוך דף בגודל 4096 בתים, נחשב log₂ של 4096.\n   4096 = 2¹².\n   לכן, גודל ההיסט הוא 12 ביטים.\n\n1.2. מספר הדף הוירטואלי וההיסט:\n   הכתובת הוירטואלית הנתונה היא `0x12345`.\n   נמיר את הכתובת לבסיס בינארי: `0x12345` = `0001 0010 0011 0100 0101`.\n   (הערה: הכתובת היא בת 20 ביטים, אך ייתכן שהיא חלק מכתובת ארוכה יותר – רק ה-20 ביטים האחרונים רלוונטיים עבור ערך זה).\n   מכיוון שגודל ההיסט הוא 12 ביטים, 12 הביטים הימניים ביותר של הכתובת מייצגים את ההיסט, ושאר הביטים השמאליים מייצגים את מספר הדף הוירטואלי.\n   הכתובת הבינארית: `0001 0010 0011` `0100 0101`\n   מספר הדף הוירטואלי (VPN): `0001 0010 0011` (בינארי) = `0x123` (הקסדצימלי) = 291 (עשרוני).\n   ההיסט (Offset): `0100 0101` (בינארי) = `0x045` (הקסדצימלי) = 69 (עשרוני).\n\n1.3. תרגום כתובת וירטואלית לכתובת פיזית:\n   1. כאשר ה-CPU יוצר כתובת וירטואלית (לדוגמה, `0x12345`), ה-MMU (Memory Management Unit) מקבל אותה.\n   2. ה-MMU מפרק את הכתובת הוירטואלית לשני חלקים: מספר הדף הוירטואלי (VPN) וההיסט (Offset) בתוך הדף. במקרה זה, VPN=291 ו-Offset=69.\n   3. ה-MMU משתמש ב-VPN כאינדקס לטבלת הדפים (Page Table) של התהליך הנוכחי.\n   4. כניסה בטבלת הדפים (PTE - Page Table Entry) המתאימה ל-VPN מכילה מידע על הדף, כולל ה-PFN (Physical Frame Number) – מספר המסגרת הפיזית בזיכרון הפיזי שבה נמצא הדף.\n   5. בהנחה שהדף נמצא בזיכרון הפיזי (כלומר, ה-Present Bit ב-PTE מוגדר ל-1), ה-MMU לוקח את ה-PFN מה-PTE ומצרף אליו את ההיסט המקורי (Offset) מתוך הכתובת הוירטואלית.\n   6. התוצאה של צירוף ה-PFN וה-Offset היא הכתובת הפיזית הסופית בזיכרון הפיזי, אליה ה-CPU ניגש בפועל."
    },
    "difficulty_estimation": "Easy"
  }
}