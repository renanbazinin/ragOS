{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Memory Management",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 21:52:14",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1964,
      "output_tokens": 1414,
      "total_tokens": 8624
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "Memory Management",
      "Virtual Memory",
      "Paging"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת בזיכרון וירטואלי וב-Paging. המערכת כוללת זיכרון וירטואלי בגודל 2GB, זיכרון פיזי בגודל 512MB, וגודל דף הוא 4KB. כל רשומת טבלת דפים (PTE) כוללת 4 ביטי סטטוס בנוסף לכתובת המסגרת הפיזית (PFN). יש לפרט ולנמק את כל החישובים.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": [
      {
        "id": "10.1",
        "text": "מהו גודל ה-VPN ומהו גודל ה-PFN בביטים?",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "10.2",
        "text": "מהו הגודל המינימלי של רשומת טבלת דפים (PTE) בבתים, בהנחה שהיא מעוגלת לחזקה הקרובה של 2 בבתים?",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "10.3",
        "text": "כמה רשומות PTE יכולות להיכנס לדף טבלה בודד?",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "10.4",
        "text": "כמה רמות נדרשות לטבלת הדפים ההיררכית במערכת זו, וכמה ביטים מכתובת ה-VPN משמשים לכל רמה?",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "10.5",
        "text": "מהו סך הזיכרון הפיזי שיידרש לטבלת הדפים של תהליך, אם כל המרחב הוירטואלי שלו מאוכלס (fully populated)?",
        "code_snippet": null,
        "options": null
      }
    ],
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "1.  גודל הזיכרון הווירטואלי הוא 2GB = 2^31 בתים, לכן כתובת וירטואלית היא באורך 31 ביטים. גודל הדף הוא 4KB = 2^12 בתים, לכן ההיסט בתוך הדף הוא 12 ביטים. מכאן, גודל ה-VPN הוא 31 - 12 = 19 ביטים.\n    גודל הזיכרון הפיזי הוא 512MB = 2^29 בתים, לכן כתובת פיזית היא באורך 29 ביטים. ההיסט בתוך המסגרת זהה לזה שבתוך הדף – 12 ביטים. מכאן, גודל ה-PFN הוא 29 - 12 = 17 ביטים.\n2.  רשומת PTE צריכה להכיל את ה-PFN (17 ביטים) ואת ביטי הסטטוס (4 ביטים), סה\"כ 17 + 4 = 21 ביטים. בהנחה שהגודל מעוגל לחזקה הקרובה של 2 בבתים, 21 ביטים דורשים 4 בתים (שכן 2 בתים הם 16 ביטים ואינם מספיקים, ואילו 4 בתים הם 32 ביטים ומספיקים).\n3.  גודל דף הוא 4KB = 4096 בתים. גודל רשומת PTE הוא 4 בתים. לכן, מספר רשומות PTE שיכולות להיכנס לדף טבלה בודד הוא 4096 / 4 = 1024 רשומות.\n4.  גודל ה-VPN הוא 19 ביטים. בכל דף טבלה נכנסות 1024 רשומות, כלומר כל אינדקס ברמת טבלה יכול להיות באורך log2(1024) = 10 ביטים. כדי למפות 19 ביטים נדרשות 2 רמות (19 / 10 = 1.9, מעוגל למעלה). הרמה העליונה (Level 1) תשתמש ב-10 ביטים, והרמה התחתונה (Level 2) תשתמש ב-9 ביטים (19 - 10 = 9).\n5.  עבור טבלת דפים מאוכלסת במלואה:\n    *   רמת טבלת הדפים הראשונה (Page Directory) דורשת דף אחד.\n    *   רמת טבלת הדפים הראשונה מכילה 1024 רשומות. מכיוון שרק 9 ביטים משמשים לאינדקס ברמה השנייה, רק 2^9 = 512 רשומות ברמה הראשונה יצביעו לטבלאות דפים ברמה השנייה. לכן, יהיו 512 טבלאות דפים ברמה השנייה.\n    *   סה\"כ דפים שנדרשים עבור טבלת הדפים: 1 (לרמה 1) + 512 (לרמה 2) = 513 דפים.\n    *   הזיכרון הפיזי הכולל שיידרש הוא 513 דפים * 4KB/דף = 2052KB."
    },
    "difficulty_estimation": "Medium"
  }
}