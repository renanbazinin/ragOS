{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Paging",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 23:02:00",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2072,
      "output_tokens": 1077,
      "total_tokens": 5172
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Paging",
      "Virtual Memory",
      "Memory Management"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת במנגנון זיכרון וירטואלי עם טבלאות דפים דו-שכבתיות.\nגודל מרחב הכתובות הוירטואלי הוא 4GB.\nגודל הזיכרון הפיזי הוא 16MB.\nגודל דף (Page Size) הוא 4KB.\nגודל כניסה בטבלת דפים (PTE) הוא 4 בתים.\n\nא. מהו מספר הביטים עבור VPN (Virtual Page Number)?\nב. מהו מספר הביטים עבור PFN (Physical Frame Number)?\nג. בהנחה שה-VPN מחולק לשני חלקים שווים (VPN1 ו-VPN2), כמה כניסות יש בכל טבלת דפים פנימית?\nד. כמה זיכרון פיזי תתפוס טבלאות הדפים (ברמה החיצונית והפנימיות יחד) של תהליך שממפה את כל מרחב הכתובות הוירטואלי שלו?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "א. גודל מרחב הכתובות הוירטואלי הוא 4GB, כלומר 2^32 בתים. לכן כתובת וירטואלית היא באורך 32 ביטים.\nגודל דף הוא 4KB, כלומר 2^12 בתים. לכן ההיסט בתוך הדף הוא באורך 12 ביטים.\nמספר הביטים עבור VPN הוא: 32 (ביטי כתובת וירטואלית) - 12 (ביטי היסט) = 20 ביטים.\n\nב. גודל הזיכרון הפיזי הוא 16MB, כלומר 2^24 בתים. לכן כתובת פיזית היא באורך 24 ביטים.\nמספר הביטים עבור PFN הוא: 24 (ביטי כתובת פיזית) - 12 (ביטי היסט) = 12 ביטים.\n\nג. גודל דף הוא 4KB (4096 בתים). גודל כניסה בטבלת דפים (PTE) הוא 4 בתים.\nמספר הכניסות בכל טבלת דפים (פנימית או חיצונית) הוא: 4096 בתים / 4 בתים/כניסה = 1024 כניסות.\n\nד. כדי למפות את כל מרחב הכתובות הוירטואלי, נצטרך את כל טבלאות הדפים:\n- טבלת הדפים החיצונית (Page Directory) מכילה כניסות עבור כל ה-VPN1 האפשריים. מכיוון שה-VPN הוא 20 ביטים ומחולק לשני חלקים שווים, VPN1 הוא 10 ביטים. לכן יש 2^10 = 1024 כניסות בטבלת הדפים החיצונית.\n- טבלת הדפים החיצונית תופסת 1024 כניסות * 4 בתים/כניסה = 4096 בתים = 4KB (דף פיזי אחד).\n- כל כניסה בטבלת הדפים החיצונית מצביעה על טבלת דפים פנימית. מכיוון שכל מרחב הכתובות ממופה, נצטרך 1024 טבלאות דפים פנימיות.\n- כל טבלת דפים פנימית תופסת דף פיזי אחד, כלומר 4KB.\n- סך הזיכרון הפיזי שתופסות טבלאות הדפים הפנימיות הוא: 1024 טבלאות * 4KB/טבלה = 4096KB = 4MB.\n- סך הזיכרון הפיזי הכולל שתופסות טבלאות הדפים הוא: 4KB (טבלה חיצונית) + 4MB (טבלאות פנימיות) = 4MB + 4KB."
    },
    "difficulty_estimation": "Medium"
  }
}