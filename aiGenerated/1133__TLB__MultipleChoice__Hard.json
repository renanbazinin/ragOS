{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "TLB",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 08:10:05",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 940,
      "total_tokens": 5341
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "TLB",
      "Virtual Memory",
      "Memory Management",
      "ASID"
    ],
    "content": {
      "text": "שקול מערכת מרובת ליבות שבה לכל ליבת מעבד יש Translation Lookaside Buffer (TLB) משלה, והמערכת תומכת ב-Address Space Identifiers (ASIDs). תהליך P מבצע קריאת מערכת execve(), המחליפה את כל מרחב הכתובות הוירטואלי שלו בתוכנית חדשה. איזו טענה מתארת נכונה את ההשלכות על ה-TLB בליבה שבה התהליך P רץ?",
      "code_snippet": null,
      "options": [
        "א. בשל execve(), יש צורך לבטל את כל הערכים ב-TLB של הליבה שבה P רץ, ללא קשר לתמיכה ב-ASIDs. זאת מכיוון שכל מיפויי מרחב הכתובות הוירטואלי משתנים, מה שהופך את כל הערכים הקודמים של P לבלתי רלוונטיים.",
        "ב. מכיוון ש-ASIDs נתמכים, המערכת יכולה פשוט להקצות ASID חדש לתהליך P (או לעשות שימוש חוזר באחד קיים), ולכן אין צורך קפדני בביטול ערכים ב-TLB. ערכים ישנים פשוט יוחלפו כאשר ניגשים לכתובות חדשות.",
        "ג. רק ערכים ב-TLB שה-ASID שלהם תואם ל-ASID של תהליך P הישן צריכים להיות מבוטלים. ערכים אחרים (מתהליכים אחרים) יכולים להישאר.",
        "ד. פעולת execve() משפיעה בעיקר על רגיסטר בסיס טבלת הדפים (לדוגמה, CR3). ה-TLB מושפע רק בעקיפין; ערכים מבוטלים רק אם הם ממפים לאותן כתובות וירטואליות שממופות כעת באופן שונה."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "א",
      "explanation": "כאשר תהליך מבצע קריאת מערכת execve(), הוא מחליף את כל מרחב הכתובות הוירטואלי שלו בתוכנית חדשה. המשמעות היא שכל מיפויי הכתובות הוירטואליות לכתובות פיזיות שהיו קיימים עבור התהליך הופכים לבלתי תקפים לחלוטין. גם אם המערכת תומכת ב-ASIDs, מזהי מרחב הכתובות הללו נועדו להבחין בין מרחבי כתובות שונים של תהליכים שונים ב-TLB במהלך החלפת הקשר (context switch). אך במקרה של execve(), מרחב הכתובות *של אותו תהליך* משתנה באופן מהותי. לכן, כל הערכים הקודמים ב-TLB המשויכים לתהליך זה (דרך ה-ASID שלו, אם הוא נשמר, או פשוט כל הערכים אם ה-ASID משתנה והליבה לא מנהלת ASIDs ברמת ערך בודד) חייבים להיות מבוטלים בליבה שבה התהליך רץ. אי ביטול יגרום לכך שהמעבד ינסה לתרגם כתובות וירטואליות באמצעות מיפויים ישנים ולא נכונים, מה שיוביל לשגיאות קריטיות. לכן, נדרשת ביטול מוחלט של ה-TLB (או לפחות של כל הערכים המשויכים ל-ASID של התהליך הנוכחי) בליבה הרלוונטית."
    },
    "difficulty_estimation": "Hard"
  }
}