{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Memory Management",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 21:50:09",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 1214,
      "total_tokens": 7023
    }
  },
  "question": {
    "id": 6,
    "type": "MultipleChoice",
    "topic": [
      "Memory Management",
      "Paging",
      "Multi-level Page Tables"
    ],
    "content": {
      "text": "במערכת הפעלה המשתמשת בזיכרון וירטואלי עם טבלת דפים דו-מפלסית, נתונים הפרטים הבאים:\n*   גודל כתובת וירטואלית: 32 ביטים.\n*   גודל דף: 4 קילובייט (KB).\n*   גודל כניסה בטבלת דפים (PTE): 4 בתים.\n\nכמה זיכרון פיזי *לכל היותר* נדרש עבור טבלאות הדפים בלבד, עבור תהליך המשתמש ב-1 מגהבייט (MB) רציף של זיכרון וירטואלי (החל מכתובת 0)?",
      "code_snippet": null,
      "options": [
        "א. 4 קילובייט (KB)",
        "ב. 8 קילובייט (KB)",
        "ג. 12 קילובייט (KB)",
        "ד. 1 מגהבייט (MB)",
        "ה. 2 מגהבייט (MB)"
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "נחשב את גודל חלקים של הכתובת הוירטואלית ואת מספר הכניסות בכל טבלת דפים:\n*   גודל דף: 4KB = 2^12 בתים. לכן, ה-offset בכתובת הוירטואלית הוא 12 ביטים.\n*   גודל כתובת וירטואלית: 32 ביטים. לכן, מספר הדף הוירטואלי (VPN) הוא 32 - 12 = 20 ביטים.\n*   גודל כניסה בטבלת דפים (PTE): 4 בתים.\n*   מספר הכניסות בטבלת דפים בגודל דף אחד: 4KB / 4 בתים/כניסה = 1024 כניסות.\n*   מכיוון שטבלת הדפים היא דו-מפלסית, ה-VPN (20 ביטים) מתחלק ל-P1 (אינדקס לטבלת דפים מפלס ראשון) ול-P2 (אינדקס לטבלת דפים מפלס שני). כל אחד מהם יכול להיות בגודל log2(1024) = 10 ביטים. (P1=10 ביטים, P2=10 ביטים, סה\"כ 20 ביטים ל-VPN).\n\nהתהליך משתמש ב-1 מגהבייט (MB) זיכרון וירטואלי רציף, החל מכתובת 0:\n*   מספר הדפים הוירטואליים שנדרשים: 1MB / 4KB = 2^20 בתים / 2^12 בתים/דף = 2^8 = 256 דפים.\n*   דפים אלו הם דפים וירטואליים מספר 0 עד 255.\n\nכעת נחשב כמה זיכרון פיזי נדרש עבור טבלאות הדפים בלבד:\n1.  **טבלת דפים מפלס ראשון (P1)**:\n    *   היא מכסה טווח של 1024 * 1024 דפים וירטואליים. \n    *   הדפים 0-255 כולם נופלים תחת הכניסה הראשונה בטבלת הדפים מפלס ראשון (P1[0]).\n    *   לכן, נדרשת טבלת דפים אחת מפלס ראשון. טבלה זו תופסת דף פיזי אחד (4KB).\n2.  **טבלאות דפים מפלס שני (P2)**:\n    *   הכניסה P1[0] מצביעה על טבלת דפים מפלס שני. טבלה זו מכסה את הדפים הוירטואליים 0 עד 1023.\n    *   מכיוון שאנו משתמשים בדפים 0 עד 255, כולם כלולים בטבלה זו.\n    *   לכן, נדרשת טבלת דפים אחת מפלס שני. טבלה זו תופסת דף פיזי אחד (4KB).\n\nסה\"כ זיכרון פיזי הנדרש עבור טבלאות הדפים בלבד הוא: 1 דף (P1) + 1 דף (P2) = 2 דפים.\nסה\"כ זיכרון פיזי: 2 דפים * 4KB/דף = 8KB.\n\nהתשובה הנכונה היא ב'."
    },
    "difficulty_estimation": "Hard"
  }
}