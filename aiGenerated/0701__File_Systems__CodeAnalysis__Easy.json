{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems",
    "requested_type": "CodeAnalysis",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-07 23:43:51",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2852,
      "output_tokens": 742,
      "total_tokens": 5388
    }
  },
  "question": {
    "id": 1,
    "type": "CodeAnalysis",
    "topic": [
      "File Systems"
    ],
    "content": {
      "text": "נתונה תוכנית ה-C הבאה. מה יהיה התוכן הסופי של הקובץ `test_file.txt` לאחר הרצת התוכנית?",
      "code_snippet": "#include <stdio.h>\n#include <fcntl.h> // For open flags\n#include <unistd.h> // For write, read, close, lseek\n\nint main() {\n    int fd;\n\n    // Open a file for writing, create if not exists, truncate if exists\n    fd = open(\"test_file.txt\", O_WRONLY | O_CREAT | O_TRUNC, 0644);\n    if (fd == -1) {\n        perror(\"open\");\n        return 1;\n    }\n\n    // Write \"Hello\"\n    write(fd, \"Hello\", 5);\n\n    // Seek to offset 10 from the beginning of the file\n    lseek(fd, 10, SEEK_SET);\n\n    // Write \"World\"\n    write(fd, \"World\", 5);\n\n    close(fd);\n\n    // For verification, not part of the core question logic\n    // char buffer[20];\n    // fd = open(\"test_file.txt\", O_RDONLY);\n    // read(fd, buffer, 20);\n    // buffer[15] = '\\0'; // Null-terminate to print reliably\n    // printf(\"File content: '%s'\\n\", buffer);\n    // close(fd);\n    // unlink(\"test_file.txt\"); // Clean up\n\n    return 0;\n}",
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "התוכנית פותחת את הקובץ `test_file.txt` לכתיבה, יוצרת אותו אם אינו קיים וחותכת אותו אם הוא קיים (O_TRUNC). ראשית, נכתבת המחרוזת \"Hello\" לקובץ, מה שגורם לגודל הקובץ להיות 5 בתים. לאחר מכן, הפונקציה `lseek` מזיזה את מצביע הקובץ למיקום 10 (SEEK_SET). מכיוון שהמיקום הנוכחי הוא 5, פעולת ה-seek יוצרת 'חור' של 5 בתים (ממיקום 5 עד 9) שיתמלאו בתווי אפס (null bytes) כאשר תתבצע כתיבה למיקום 10. לבסוף, נכתבת המחרוזת \"World\" החל ממיקום 10. לכן, התוכן הסופי של הקובץ יהיה: \"Hello\" ואחריו 5 תווי אפס, ואז \"World\"."
    },
    "difficulty_estimation": "Easy"
  }
}