{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Page Replacement",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 08:05:51",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 4205,
      "output_tokens": 5081,
      "total_tokens": 19068
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Page Replacement",
      "Memory Management",
      "Virtual Memory"
    ],
    "content": {
      "text": "נתונה מערכת ניהול זיכרון המשתמשת ב-3 מסגרות פיזיות (frames) עבור תהליך מסוים. מחרוזת הפניות לדפים (page reference string) של התהליך נתונה כרצף של זוגות (מספר דף, סוג פעולה), כאשר סוג הפעולה הוא 'R' (קריאה) או 'W' (כתיבה). כל הדפים אינם טעונים לזיכרון בתחילה, ובהנחה שהיו טעונים, הם נחשבים \"נקיים\" (clean).\n\nעלות של תקלת דף (page fault) לדף \"נקי\" היא 10 יחידות.\nעלות של תקלת דף לדף \"מלוכלך\" (dirty) היא 20 יחידות (הכוללת את עלות הכתיבה לדיסק).\n\nמחרוזת ההפניות:\n`[1R, 2W, 3R, 4R, 1R, 2R, 5W, 1W, 3R, 4W, 6R, 5R, 1R, 2R, 3W, 4R]`\n\nיש לנתח ולחשב, עבור כל אחד מאלגוריתמי החלפת הדפים הבאים, את העלות הכוללת של תקלות הדף (total page fault cost):\n\n1.  **FIFO (First-In, First-Out)**\n2.  **LRU (Least Recently Used)**\n3.  **Clock (Second-Chance)**\n\nעבור כל אלגוריתם, יש להציג את מצב המסגרות בכל שלב (מספר דף, ביט רפרנס אם רלוונטי, ביט מלוכלך), לסמן תקלות דף, ולפרט את חישוב העלות הכוללת. יש להניח שביט רפרנס מתאפס רק בעת סריקת אלגוריתם ה-Clock.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "נתונים:\n*   מספר מסגרות פיזיות: 3\n*   עלות תקלת דף נקי: 10 יחידות\n*   עלות תקלת דף מלוכלך: 20 יחידות (כולל כתיבה לדיסק)\n*   מחרוזת הפניות: `[1R, 2W, 3R, 4R, 1R, 2R, 5W, 1W, 3R, 4W, 6R, 5R, 1R, 2R, 3W, 4R]`\n\nמצב כל מסגרת יתואר כ-(PageNum, D_bit), כאשר D_bit הוא ביט ה-Dirty (0=נקי, 1=מלוכלך). עבור Clock, נוסיף גם את R_bit (Reference bit).\n\n**1. אלגוריתם FIFO (First-In, First-Out)**\nאלגוריתם זה מחליף את הדף שהיה בזיכרון את הזמן הארוך ביותר. ביט ה-Reference אינו רלוונטי להחלטת ההחלפה, אך ביט ה-Dirty משפיע על העלות.\n\n| הפניה | מסגרות (P,D) | תקלת דף (PF) | דף שהוחלף (P,D) | עלות PF | עלות כוללת | הערות |\n| :---- | :---------- | :---------- | :------------ | :------ | :-------- | :---- |\n| התחלה | `[]` | - | - | 0 | 0 | - |\n| 1R | `[1,0]` | Y | - | 10 | 10 | 1 נטען |\n| 2W | `[1,0], [2,1]` | Y | - | 10 | 20 | 2 נטען, מלוכלך |\n| 3R | `[1,0], [2,1], [3,0]` | Y | - | 10 | 30 | 3 נטען |\n| 4R | `[4,0], [2,1], [3,0]` | Y | `(1,0)` | 10 | 40 | 1 הוחלף (נקי) |\n| 1R | `[4,0], [1,0], [3,0]` | Y | `(2,1)` | 20 | 60 | 2 הוחלף (מלוכלך) |\n| 2R | `[4,0], [1,0], [2,0]` | Y | `(3,0)` | 10 | 70 | 3 הוחלף (נקי) |\n| 5W | `[5,1], [1,0], [2,0]` | Y | `(4,0)` | 10 | 80 | 4 הוחלף (נקי), 5 נטען ומלוכלך |\n| 1W | `[5,1], [1,1], [2,0]` | N | - | 0 | 80 | 1 קיים, הפך למלוכלך |\n| 3R | `[5,1], [1,1], [3,0]` | Y | `(2,0)` | 10 | 90 | 2 הוחלף (נקי), 3 נטען |\n| 4W | `[4,1], [1,1], [3,0]` | Y | `(5,1)` | 20 | 110 | 5 הוחלף (מלוכלך), 4 נטען ומלוכלך |\n| 6R | `[4,1], [6,0], [3,0]` | Y | `(1,1)` | 20 | 130 | 1 הוחלף (מלוכלך), 6 נטען |\n| 5R | `[4,1], [6,0], [5,0]` | Y | `(3,0)` | 10 | 140 | 3 הוחלף (נקי), 5 נטען |\n| 1R | `[1,0], [6,0], [5,0]` | Y | `(4,1)` | 20 | 160 | 4 הוחלף (מלוכלך), 1 נטען |\n| 2R | `[1,0], [2,0], [5,0]` | Y | `(6,0)` | 10 | 170 | 6 הוחלף (נקי), 2 נטען |\n| 3W | `[1,0], [2,0], [3,1]` | Y | `(5,0)` | 10 | 180 | 5 הוחלף (נקי), 3 נטען ומלוכלך |\n| 4R | `[4,0], [2,0], [3,1]` | Y | `(1,0)` | 10 | 190 | 1 הוחלף (נקי), 4 נטען |\n\n**עלות כוללת ב-FIFO: 190 יחידות.**\n\n**2. אלגוריתם LRU (Least Recently Used)**\nאלגוריתם זה מחליף את הדף שלא נעשה בו שימוש במשך הזמן הארוך ביותר. ביט ה-Reference אינו רלוונטי להחלטת ההחלפה, אך ביט ה-Dirty משפיע על העלות.\n\n| הפניה | מסגרות (P,D) | תקלת דף (PF) | דף שהוחלף (P,D) | עלות PF | עלות כוללת | סדר LRU (הכי אחרון -> הכי פחות אחרון) |\n| :---- | :---------- | :---------- | :------------ | :------ | :-------- | :---------------------------------- |\n| התחלה | `[]` | - | - | 0 | 0 | - |\n| 1R | `[1,0]` | Y | - | 10 | 10 | `[1]` |\n| 2W | `[1,0], [2,1]` | Y | - | 10 | 20 | `[2,1]` |\n| 3R | `[1,0], [2,1], [3,0]` | Y | - | 10 | 30 | `[3,2,1]` |\n| 4R | `[4,0], [2,1], [3,0]` | Y | `(1,0)` | 10 | 40 | `[4,3,2]` (1 הוחלף) |\n| 1R | `[4,0], [1,0], [3,0]` | Y | `(2,1)` | 20 | 60 | `[1,4,3]` (2 הוחלף) |\n| 2R | `[4,0], [1,0], [2,0]` | Y | `(3,0)` | 10 | 70 | `[2,1,4]` (3 הוחלף) |\n| 5W | `[5,1], [1,0], [2,0]` | Y | `(4,0)` | 10 | 80 | `[5,2,1]` (4 הוחלף) |\n| 1W | `[5,1], [1,1], [2,0]` | N | - | 0 | 80 | `[1,5,2]` (1 קיים, הפך למלוכלך) |\n| 3R | `[5,1], [1,1], [3,0]` | Y | `(2,0)` | 10 | 90 | `[3,1,5]` (2 הוחלף) |\n| 4W | `[4,1], [1,1], [3,0]` | Y | `(5,1)` | 20 | 110 | `[4,3,1]` (5 הוחלף) |\n| 6R | `[4,1], [6,0], [3,0]` | Y | `(1,1)` | 20 | 130 | `[6,4,3]` (1 הוחלף) |\n| 5R | `[4,1], [6,0], [5,0]` | Y | `(3,0)` | 10 | 140 | `[5,6,4]` (3 הוחלף) |\n| 1R | `[1,0], [6,0], [5,0]` | Y | `(4,1)` | 20 | 160 | `[1,5,6]` (4 הוחלף) |\n| 2R | `[1,0], [2,0], [5,0]` | Y | `(6,0)` | 10 | 170 | `[2,1,5]` (6 הוחלף) |\n| 3W | `[1,0], [2,0], [3,1]` | Y | `(5,0)` | 10 | 180 | `[3,2,1]` (5 הוחלף) |\n| 4R | `[4,0], [2,0], [3,1]` | Y | `(1,0)` | 10 | 190 | `[4,3,2]` (1 הוחלף) |\n\n**עלות כוללת ב-LRU: 190 יחידות.**\n\n**3. אלגוריתם Clock (Second-Chance)**\nאלגוריתם זה משתמש בביט Reference (R_bit) ובביט Dirty (D_bit). בעת תקלת דף והצורך להחליף דף:\n*   האלגוריתם סורק את המסגרות במעגל (עם מצביע).\n*   אם ה-R_bit של דף הוא 1, הוא מאפס אותו וממשיך לדף הבא.\n*   אם ה-R_bit של דף הוא 0, הוא מחליף את הדף. אם הדף מלוכלך (D_bit=1), הוא נכתב לדיסק לפני ההחלפה (ועלות 20). אם נקי (D_bit=0), אין כתיבה (ועלות 10).\n*   כאשר דף נטען או נגש אליו (גם ב-hit), ה-R_bit שלו מוגדר ל-1. כאשר מתבצעת פעולת כתיבה (W), ה-D_bit שלו מוגדר ל-1.\n\nמצב כל מסגרת יתואר כ-(PageNum, R_bit, D_bit). המצביע (`^`) מציין את המסגרת הנוכחית שהאלגוריתם בוחן.\n\n| הפניה | מסגרות (P,R,D) | Ptr | תקלת דף (PF) | דף שהוחלף (P,D) | עלות PF | עלות כוללת | הערות |\n| :---- | :-------------- | :-- | :---------- | :------------ | :------ | :-------- | :---- |\n| התחלה | `[(-,-,-), (-,-,-), (-,-,-)]` | `^F0` | - | - | 0 | 0 | - |\n| 1R | `[(1,1,0), (-,-,-), (-,-,-)]` | `^F1` | Y | - | 10 | 10 | 1 נטען, R=1 |\n| 2W | `[(1,1,0), (2,1,1), (-,-,-)]` | `^F2` | Y | - | 10 | 20 | 2 נטען, R=1, D=1 |\n| 3R | `[(1,1,0), (2,1,1), (3,1,0)]` | `^F0` | Y | - | 10 | 30 | 3 נטען, R=1 |\n| 4R | `[(4,1,0), (2,0,1), (3,0,0)]` | `^F1` | Y | `(1,0)` | 10 | 40 | סריקה: (1,1,0)->(1,0,0); (2,1,1)->(2,0,1); (3,1,0)->(3,0,0). החלף 1 (נקי). 4 נטען, R=1. |\n| 1R | `[(4,1,0), (1,1,0), (3,0,0)]` | `^F2` | Y | `(2,1)` | 20 | 60 | סריקה: (4,1,0)->(4,0,0); (2,0,1) R=0, החלף 2 (מלוכלך). 1 נטען, R=1. |\n| 2R | `[(4,1,0), (1,1,0), (2,1,0)]` | `^F0` | Y | `(3,0)` | 10 | 70 | סריקה: (4,0,0) R=0, החלף 3 (נקי). 2 נטען, R=1. |\n| 5W | `[(5,1,1), (1,0,0), (2,0,0)]` | `^F1` | Y | `(4,0)` | 10 | 80 | סריקה: (4,1,0)->(4,0,0); (1,1,0)->(1,0,0); (2,1,0)->(2,0,0). (4,0,0) R=0, החלף 4 (נקי). 5 נטען, R=1, D=1. |\n| 1W | `[(5,1,1), (1,1,1), (2,0,0)]` | `^F1` | N | - | 0 | 80 | 1 קיים ב-F1, R=1, D=1. |\n| 3R | `[(5,1,1), (1,0,1), (3,1,0)]` | `^F0` | Y | `(2,0)` | 10 | 90 | סריקה: (1,1,1)->(1,0,1); (2,0,0) R=0, החלף 2 (נקי). 3 נטען, R=1. |\n| 4W | `[(5,0,1), (4,1,1), (3,1,0)]` | `^F1` | Y | `(1,1)` | 20 | 110 | סריקה: (5,1,1)->(5,0,1); (1,0,1) R=0, החלף 1 (מלוכלך). 4 נטען, R=1, D=1. |\n| 6R | `[(6,1,0), (4,1,1), (3,0,0)]` | `^F1` | Y | `(5,1)` | 20 | 130 | סריקה: (3,1,0)->(3,0,0); (5,0,1) R=0, החלף 5 (מלוכלך). 6 נטען, R=1. |\n| 5R | `[(6,1,0), (4,0,1), (5,1,0)]` | `^F0` | Y | `(3,0)` | 10 | 140 | סריקה: (4,1,1)->(4,0,1); (3,0,0) R=0, החלף 3 (נקי). 5 נטען, R=1. |\n| 1R | `[(6,0,0), (1,1,0), (5,0,0)]` | `^F2` | Y | `(4,1)` | 20 | 160 | סריקה: (6,1,0)->(6,0,0); (4,0,1) R=0, החלף 4 (מלוכלך). 1 נטען, R=1. |\n| 2R | `[(2,1,0), (1,1,0), (5,0,0)]` | `^F1` | Y | `(6,0)` | 10 | 170 | סריקה: (5,1,0)->(5,0,0); (6,0,0) R=0, החלף 6 (נקי). 2 נטען, R=1. |\n| 3W | `[(2,0,0), (1,0,0), (3,1,1)]` | `^F0` | Y | `(5,0)` | 10 | 180 | סריקה: (1,1,0)->(1,0,0); (5,0,0) R=0, החלף 5 (נקי). 3 נטען, R=1, D=1. |\n| 4R | `[(2,0,0), (4,1,0), (3,1,1)]` | `^F2` | Y | `(1,0)` | 10 | 190 | סריקה: (2,1,0)->(2,0,0); (1,0,0) R=0, החלף 1 (נקי). 4 נטען, R=1. |\n\n**עלות כוללת ב-Clock: 190 יחידות.**\n\n**סיכום והשוואה:**\nעבור מחרוזת הפניות זו ומספר המסגרות הנתון, כל שלושת האלגוריתמים הניבו את אותה עלות כוללת של 190 יחידות. זהו מקרה מעניין המדגים שלמרות הבדלים מהותיים במימוש ובלוגיקת ההחלפה, הביצועים יכולים להיות דומים עבור תבניות גישה ספציפיות. במקרים אחרים, במיוחד עם מחרוזות הפניה ארוכות יותר או מספר שונה של מסגרות, ייתכנו הבדלים משמעותיים בביצועים בין האלגוריתמים.\n\nהניתוח כלל מעקב צמוד אחר ביטי ה-Dirty וה-Reference (עבור Clock) והשפעתם על העלות של תקלת דף, מה שהופך את החישוב למורכב יותר מאשר ספירת תקלות דף בלבד.",
      "difficulty_estimation": "Hard"
    }
  }
}