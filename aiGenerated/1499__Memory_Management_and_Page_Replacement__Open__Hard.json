{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Memory Management and Page Replacement",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-09 20:45:01",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 3221,
      "output_tokens": 2609,
      "total_tokens": 15428
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Memory Management",
      "Page Replacement",
      "Clock Algorithm",
      "Virtual Memory"
    ],
    "content": {
      "text": "נתונה מערכת המשתמשת באלגוריתם החלפת דפים **Clock (Second-Chance)**. למערכת 3 מסגרות פיזיות זמינות (frames). כל מסגרת דף מכילה ביט רפרנס (R) וביט מלוכלך (D). בתחילת הריצה, כל המסגרות ריקות. ביט הרפרנס והביט המלוכלך של דף נקבעים בהתאם לגישה המבוקשת (ראו סעיף \"גישת דף\") כאשר הוא נטען לראשונה או ניגשים אליו.\n\nכאשר מתרחשת פסיקת דף (page fault) עבור דף P:\n1.  מנגנון ההחלפה מתחיל לסרוק את המסגרות מהמיקום הנוכחי של \"יד השעון\" (Clock Hand, CH).\n2.  עבור המסגרת הנוכחית שמצביעה אליה CH:\n    א.  אם `R == 0` וגם `D == 0`: דף זה מוחלף בדף P. ביטי `R` ו-`D` של דף P נקבעים בהתאם לגישה המבוקשת. `CH` מתקדם למסגרת הבאה (במעגליות). הסריקה מסתיימת.\n    ב.  אם `R == 0` וגם `D == 1`: דף זה מסומן לכתיבה לדיסק (page-out). ביט `D` שלו מתאפס. ביט `R` שלו מתאפס. `CH` מתקדם למסגרת הבאה (במעגליות). **הסריקה ממשיכה** מהמיקום החדש של `CH`.\n    ג.  אם `R == 1`: ביט `R` מתאפס. `CH` מתקדם למסגרת הבאה (במעגליות). **הסריקה ממשיכה** מהמיקום החדש של `CH`.\n3.  הסריקה ממשיכה עד שנמצאת מסגרת המתאימה לתנאי (2.א).\n\n**גישת דף (Page Access):**\nכאשר תהליך ניגש לדף (בין אם הוא כבר בזיכרון ובין אם לא):\n*   אם הגישה היא לקריאה (Read): ביט `R` של הדף נקבע ל-1.\n*   אם הגישה היא לכתיבה (Write): גם ביט `R` וגם ביט `D` של הדף נקבעים ל-1.\n\nנתונה סדרת הגישות הבאה לזיכרון (Page Number, Access Type - R=Read, W=Write):\n(1, R), (2, W), (3, R), (1, W), (4, R), (2, R), (5, W), (3, W), (4, R), (1, W)\n\nיש לתאר את מצב הזיכרון הפיזי (אילו דפים נמצאים בכל מסגרת ואת ערכי `R` ו-`D` שלהם) ואת מיקום `CH` לאחר כל גישה. בנוסף, יש לציין כמה פסיקות דף (page faults) וכמה פעולות כתיבה לדיסק (page-outs) התרחשו בסך הכל.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "ננהל טבלה המתארת את מצב המסגרות הפיזיות (F0, F1, F2), את מיקום יד השעון (CH), ואת מוני פסיקות הדף (PF) וכתיבות לדיסק (DW) לאחר כל גישה.\nמצב התחלתי: F0:(-,-,-), F1:(-,-,-), F2:(-,-,-), CH=0. PF=0, DW=0.\n\n| # | גישה  | מצב F0 (P,R,D) | מצב F1 (P,R,D) | מצב F2 (P,R,D) | CH  | PF | DW | הערות                                                                                                                                                                                                                                                                                          |\n|---|-------|-----------------|-----------------|-----------------|-----|----|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| 1 | (1, R)| (1,1,0)         | (-,-,-)         | (-,-,-)         | 1   | 1  | 0  | P1 אינו בזיכרון -> PF. CH מצביע על F0 (ריק). F0 מוחלף ב-P1. R=1, D=0 (גישת R).                                                                                                                                                                                                                                      |\n| 2 | (2, W)| (1,1,0)         | (2,1,1)         | (-,-,-)         | 2   | 2  | 0  | P2 אינו בזיכרון -> PF. CH מצביע על F1 (ריק). F1 מוחלף ב-P2. R=1, D=1 (גישת W).                                                                                                                                                                                                                                      |\n| 3 | (3, R)| (1,1,0)         | (2,1,1)         | (3,1,0)         | 0   | 3  | 0  | P3 אינו בזיכרון -> PF. CH מצביע על F2 (ריק). F2 מוחלף ב-P3. R=1, D=0 (גישת R).                                                                                                                                                                                                                                      |\n| 4 | (1, W)| (1,1,1)         | (2,1,1)         | (3,1,0)         | 0   | 3  | 0  | P1 בזיכרון (F0). אין PF. גישת W ל-P1: R=1, D=1.                                                                                                                                                                                                                                                                   |\n| 5 | (4, R)| (1,0,0)         | (2,0,0)         | (4,1,0)         | 0   | 4  | 2  | P4 אינו בזיכרון -> PF. סריקת CH:\n    - F0 (1,1,1): R=1 -> R=0. CH->F1. מצב: (1,0,1)\n    - F1 (2,1,1): R=1 -> R=0. CH->F2. מצב: (2,0,1)\n    - F2 (3,1,0): R=1 -> R=0. CH->F0. מצב: (3,0,0)\n    - F0 (1,0,1): R=0, D=1 -> DW (P1), D=0, R=0. CH->F1. מצב: (1,0,0)\n    - F1 (2,0,1): R=0, D=1 -> DW (P2), D=0, R=0. CH->F2. מצב: (2,0,0)\n    - F2 (3,0,0): R=0, D=0. נמצא. F2 מוחלף ב-P4. R=1, D=0 (גישת R).                                                                           |\n| 6 | (2, R)| (1,0,0)         | (2,1,0)         | (4,1,0)         | 0   | 4  | 2  | P2 בזיכרון (F1). אין PF. גישת R ל-P2: R=1.                                                                                                                                                                                                                                                                        |\n| 7 | (5, W)| (5,1,1)         | (2,1,0)         | (4,1,0)         | 1   | 5  | 2  | P5 אינו בזיכרון -> PF. CH מצביע על F0.\n    - F0 (1,0,0): R=0, D=0. נמצא. F0 מוחלף ב-P5. R=1, D=1 (גישת W).                                                                                                                                                                                                                                                   |\n| 8 | (3, W)| (5,0,1)         | (3,1,1)         | (4,0,0)         | 2   | 6  | 2  | P3 אינו בזיכרון -> PF. סריקת CH:\n    - F1 (2,1,0): R=1 -> R=0. CH->F2. מצב: (2,0,0)\n    - F2 (4,1,0): R=1 -> R=0. CH->F0. מצב: (4,0,0)\n    - F0 (5,1,1): R=1 -> R=0. CH->F1. מצב: (5,0,1)\n    - F1 (2,0,0): R=0, D=0. נמצא. F1 מוחלף ב-P3. R=1, D=1 (גישת W).                                                                           |\n| 9 | (4, R)| (5,0,1)         | (3,1,1)         | (4,1,0)         | 2   | 6  | 2  | P4 בזיכרון (F2). אין PF. גישת R ל-P4: R=1.                                                                                                                                                                                                                                                                        |\n| 10| (1, W)| (5,0,0)         | (3,0,1)         | (1,1,1)         | 0   | 7  | 3  | P1 אינו בזיכרון -> PF. סריקת CH:\n    - F2 (4,1,0): R=1 -> R=0. CH->F0. מצב: (4,0,0)\n    - F0 (5,0,1): R=0, D=1 -> DW (P5), D=0, R=0. CH->F1. מצב: (5,0,0)\n    - F1 (3,1,1): R=1 -> R=0. CH->F2. מצב: (3,0,1)\n    - F2 (4,0,0): R=0, D=0. נמצא. F2 מוחלף ב-P1. R=1, D=1 (גישת W).                                                                           |\n\n**סיכום:**\nסה\"כ פסיקות דף (Page Faults): 7\nסה\"כ כתיבות לדיסק (Page-Outs) עקב דפים מלוכלכים: 3"
    },
    "difficulty_estimation": "Hard"
  }
}