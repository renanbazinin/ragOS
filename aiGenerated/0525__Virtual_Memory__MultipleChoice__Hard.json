{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 22:19:24",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 771,
      "total_tokens": 4357
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "Virtual Memory",
      "Copy-on-Write",
      "Paging",
      "Page Faults"
    ],
    "content": {
      "text": "תהליך אב (parent process) יוצר תהליך בן (child process) באמצעות קריאת המערכת `fork()`. לאחר מכן, הם חולקים בתחילה דפי זיכרון בשיטת Copy-on-Write (CoW). גודל הדף הוא 4KB. נניח שדף מסוים (דף X) נמצא בזיכרון הפיזי וסומן CoW לאחר ה-`fork()`.\n\nבשלב מאוחר יותר, גם תהליך האב וגם תהליך הבן מנסים לכתוב לדף X (כל אחד כותב לדף בנפרד, ובזמנים שונים). מהו המספר המינימלי של פסיקות דף (page faults) שיתרחשו *עקב פעולות הכתיבה הללו בלבד* על דף X, במערכת המיישמת CoW באופן סטנדרטי?",
      "code_snippet": null,
      "options": [
        "א. 0",
        "ב. 1",
        "ג. 2",
        "ד. 3",
        "ה. לא ניתן לקבוע ללא מידע נוסף"
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "התשובה הנכונה היא ג. 2.\nבמערכת המיישמת Copy-on-Write (CoW) באופן סטנדרטי, כאשר תהליך אב מבצע `fork()`, דפי הזיכרון שלו משותפים עם תהליך הבן אך מסומנים במנגנון ניהול הזיכרון (MMU) כקריאה בלבד (read-only) ו-CoW.\nכאשר אחד מהתהליכים (האב או הבן) מנסה לכתוב לדף כזה בפעם הראשונה, מתרחשת פסיקת דף (page fault). מערכת ההפעלה מזהה שהדף מסומן CoW, מקצה מסגרת פיזית חדשה, מעתיקה אליה את תוכן הדף המקורי, ולאחר מכן מעדכנת את טבלת הדפים של התהליך הכותב כך שתצביע על המסגרת החדשה עם הרשאות כתיבה. התהליך השני ממשיך להשתמש בדף המקורי.\nלכן, אם תהליך הבן כותב לדף X ראשון, תתרחש פסיקת דף אחת, ועותק של דף X ייווצר עבור הבן. לאחר מכן, כאשר תהליך האב ינסה לכתוב לדף X (שעבורו הוא עדיין מצביע על הדף המקורי המסומן CoW), תתרחש פסיקת דף נוספת, ועותק נוסף של דף X ייווצר עבור האב. בסך הכל, שתי פסיקות דף ושני עותקים נפרדים של הדף X ייווצרו."
    },
    "difficulty_estimation": "Hard"
  }
}