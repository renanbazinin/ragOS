{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 23:32:59",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2275,
      "output_tokens": 1470,
      "total_tokens": 6209
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "File Systems"
    ],
    "content": {
      "text": "מערכות קבצים מתורגלות (Journaling File Systems) הן מרכיב חיוני במערכות הפעלה מודרניות לשמירה על עקביות הנתונים.\nא. הסבירו מהי מטרת ה-Journaling במערכות קבצים.\nב. תארו את השלבים העיקריים של פעולת כתיבה טיפוסית (לדוגמה, יצירת קובץ חדש וכתיבת נתונים ראשוניים אליו) במערכת קבצים מתורגלת.\nג. השוו בין שלושת מצבי ה-Journaling העיקריים: Writeback, Ordered ו-Data (או Full). התייחסו להבדלים ביניהם מבחינת ביצועים (Performance) ושלמות הנתונים (Data Integrity) במקרה של קריסת מערכת.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "א. מטרת ה-Journaling היא להבטיח את עקביות מערכת הקבצים במקרה של קריסת מערכת או הפסקת חשמל פתאומית. במקום לבצע בדיקה יקרה וארוכה של כל מערכת הקבצים (כמו fsck), ה-Journal מאפשר לשחזר את מצב מערכת הקבצים למצב עקבי האחרון על ידי שחזור או ביטול עסקאות (Transactions) שלא הושלמו במלואן.\n\nב. שלבי פעולת כתיבה טיפוסית (יצירת קובץ וכתיבת נתונים):\n1.  **יצירת טרנזקציה (Transaction):** מערכת הקבצים יוצרת טרנזקציה חדשה עבור פעולת הכתיבה.\n2.  **רישום ל-Journal (Journaling):** כל השינויים במטא-דאטה (metadata) של מערכת הקבצים (לדוגמה, הקצאת inode חדש, יצירת ערך חדש בתיקייה, הקצאת בלוקי נתונים) נרשמים ל-Journal (יומן) לפני שהם מיושמים למקומם הסופי בדיסק.\n3.  **כתיבת נתונים (Data Write):** הנתונים עצמם נכתבים לבלוקי הנתונים המוקצים בדיסק. מיקום כתיבת הנתונים ביחס ל-Journal תלוי במצב ה-Journaling (ראו סעיף ג').\n4.  **יישום שינויים למערכת הקבצים (Apply Changes):** לאחר שהשינויים נרשמו ב-Journal (ובמצבים מסוימים, גם הנתונים נכתבו), המטא-דאטה מיושם למקומותיו הסופיים במבני מערכת הקבצים על הדיסק (לדוגמה, ה-inode החדש נכתב לטבלת ה-inodes).\n5.  **אישור טרנזקציה (Commit Transaction):** ברגע שכל השינויים הרלוונטיים נרשמו ב-Journal או יושמו למערכת הקבצים (תלוי במצב), הטרנזקציה מסומנת כ\"בוצעה בהצלחה\" (committed) ב-Journal. אם קריסה מתרחשת לפני ה-commit, הטרנזקציה תבוטל או תשוחזר.\n\nג. השוואה בין מצבי Journaling:\n*   **Writeback Journaling:**\n    *   **ביצועים:** הגבוהים ביותר. רק מטא-דאטה נרשם ל-Journal. נתוני הקובץ נכתבים ישירות למקומם הסופי בדיסק, ולרוב אין סדר מסוים בין כתיבת הנתונים לכתיבת המטא-דאטה ל-Journal.\n    *   **שלמות נתונים:** הנמוכה ביותר מבין השלושה. במקרה של קריסה, מערכת הקבצים תהיה עקבית מבחינת המבנה שלה (metadata), אך ייתכן שנתוני הקובץ יהיו לא מעודכנים או יכילו נתונים שגויים (\"stale data\" או \"garbage data\"), מכיוון שהמטא-דאטה יכול להצביע על בלוקים שטרם הכילו את הנתונים החדשים.\n*   **Ordered Journaling:**\n    *   **ביצועים:** בינוניים. נתוני הקובץ נכתבים למקומם הסופי בדיסק *לפני* שהמטא-דאטה המצביע עליהם נרשם ל-Journal. רק מטא-דאטה נרשם ל-Journal.\n    *   **שלמות נתונים:** בינונית. במקרה של קריסה, מובטח שכל הנתונים אליהם מצביע המטא-דאטה יהיו נכונים (או לפחות הנתונים שהיו שם לפני הפעולה). לא יהיה מצב שבו המטא-דאטה מצביע על נתונים שגויים. עם זאת, ייתכן שחלק מהנתונים שטרם נרשמו ל-Journal יאבדו, אך המערכת תישאר עקבית.\n*   **Data (Full) Journaling:**\n    *   **ביצועים:** הנמוכים ביותר. גם מטא-דאטה וגם נתוני הקובץ נרשמים ל-Journal לפני שהם נכתבים למקומם הסופי בדיסק. זה כרוך בכתיבה כפולה של הנתונים (פעם ל-Journal ופעם למקומם הסופי).\n    *   **שלמות נתונים:** הגבוהה ביותר. במקרה של קריסה, מובטח שגם מבנה מערכת הקבצים וגם תוכן הקבצים יהיו עקביים לחלוטין. זה המצב הבטוח ביותר אך גם האיטי ביותר."
    },
    "difficulty_estimation": "Medium"
  }
}