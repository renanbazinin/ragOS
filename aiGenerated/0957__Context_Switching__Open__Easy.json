{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Context Switching",
    "requested_type": "Open",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-08 07:07:19",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2777,
      "output_tokens": 982,
      "total_tokens": 5806
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Context Switching"
    ],
    "content": {
      "text": "הסבר מהו מיתוג הקשר (Context Switching) במערכות הפעלה, מדוע הוא נחוץ, ותאר את השלבים העיקריים המעורבים בביצועו.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": 10,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "מיתוג הקשר (Context Switching) הוא תהליך יסודי במערכות הפעלה מודרניות, שבו מערכת ההפעלה שומרת את מצבו (הקשרו) של תהליך או חוט אחד, וטוענת את מצבו של תהליך או חוט אחר, על מנת לאפשר להם להשתמש במעבד.\n\n**מדוע הוא נחוץ?**\nמיתוג הקשר חיוני למימוש ריבוי משימות (multitasking) וריבוי חוטים (multithreading). הוא מאפשר למערכת ההפעלה לתת אשליה למשתמש ששירותים ויישומים רבים רצים בו-זמנית, למרות שבפועל למעבד יש רק ליבה אחת (או מספר ליבות מוגבל) שיכולה לבצע רק הוראה אחת בכל רגע נתון (לכל ליבה). על ידי מעבר מהיר בין תהליכים/חוטים, המערכת נראית מגיבה ופרודוקטיבית.\n\n**שלבי הביצוע העיקריים:**\n1.  **שמירת מצב התהליך/חוט הנוכחי:** מערכת ההפעלה שומרת את כל המידע הרלוונטי למצב הריצה של התהליך או החוט הנוכחי. מידע זה כולל את תוכן אוגרי המעבד (CPU registers), מונה התוכנית (Program Counter - PC), מצביע המחסנית (Stack Pointer - SP), מידע על מרחב הכתובות ועוד. מידע זה נשמר בבלוק בקרת התהליך (Process Control Block - PCB) עבור תהליכים, או בבלוק בקרת החוט (Thread Control Block - TCB) עבור חוטים.\n2.  **עדכון מצב התהליך/חוט הנוכחי:** מצבו של התהליך/חוט שנשמר משתנה מ'רץ' (Running) ל'מוכן' (Ready) או 'ממתין' (Waiting), בהתאם לסיבת מיתוג הקשר (למשל, תם קוונטום זמן, התרחשה קריאת מערכת חוסמת).\n3.  **בחירת התהליך/חוט הבא:** המתזמן (scheduler) של מערכת ההפעלה בוחר את התהליך או החוט הבא שיקבל את המעבד, על פי אלגוריתם התזמון הנהוג.\n4.  **טעינת מצב התהליך/חוט החדש:** המידע השמור (אוגרים, PC, SP וכו') של התהליך/חוט החדש שייבחר נטען מתוך ה-PCB/TCB שלו אל אוגרי המעבד.\n5.  **עדכון מצב התהליך/חוט החדש:** מצבו של התהליך/חוט החדש משתנה מ'מוכן' (Ready) ל'רץ' (Running).\n6.  **המשך ריצה:** התהליך או החוט החדש ממשיך את ריצתו מהנקודה שבה הפסיק בפעם האחרונה.\n\nחשוב לציין כי מיתוג הקשר הוא פעולת תקורה (overhead) טהורה, כלומר, היא צורכת זמן מעבד ומשאבים מבלי לבצע עבודה שימושית ישירות עבור היישומים. לכן, מערכות הפעלה שואפות למזער את תדירות וזמן הביצוע של מיתוג הקשר."
    },
    "difficulty_estimation": "Easy"
  }
}