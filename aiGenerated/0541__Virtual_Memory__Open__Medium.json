{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 22:32:19",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1964,
      "output_tokens": 1074,
      "total_tokens": 6159
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Virtual Memory",
      "Paging",
      "Memory Management",
      "Multi-level Page Tables"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת בזיכרון וירטואלי עם מרחב כתובות וירטואלי בגודל 256TB, זיכרון פיזי בגודל 128GB, וגודל דף זיכרון של 4KB. כל רשומת טבלת דפים (PTE) היא בגודל 8 בתים.\n\nא. כמה ביטים נדרשים לכתובת וירטואלית ולכתובת פיזית?\nב. כמה ביטים מוקצים להיסט הדף (offset), לכמה ביטים מוקצה ה-VPN (Virtual Page Number) ולכמה ביטים מוקצה ה-PFN (Physical Frame Number)?\nג. כמה רמות נדרשות לטבלת הדפים ההיררכית במערכת זו, וכמה ביטים מוקצים לכל רמת אינדקס?\nד. מהו הגודל המינימלי של טבלת הדפים ברמה העליונה (Page Directory) בזיכרון הפיזי?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "א. חישוב ביטים לכתובות:\n   *   מרחב כתובות וירטואלי: 256TB = 2^8 * 2^40 = 2^48 בתים. לכן נדרשים 48 ביטים לכתובת וירטואלית.\n   *   זיכרון פיזי: 128GB = 2^7 * 2^30 = 2^37 בתים. לכן נדרשים 37 ביטים לכתובת פיזית.\n\nב. חישוב ביטים לרכיבי הכתובת:\n   *   היסט הדף (Offset): גודל דף הוא 4KB = 2^12 בתים. לכן נדרשים 12 ביטים להיסט הדף.\n   *   VPN (Virtual Page Number): כתובת וירטואלית (48 ביטים) - היסט הדף (12 ביטים) = 36 ביטים.\n   *   PFN (Physical Frame Number): כתובת פיזית (37 ביטים) - היסט הדף (12 ביטים) = 25 ביטים.\n\nג. חישוב רמות טבלת הדפים:\n   *   גודל רשומת טבלת דפים (PTE) הוא 8 בתים.\n   *   גודל דף הוא 4KB = 4096 בתים.\n   *   מספר רשומות PTE שיכולות להיכנס בדף אחד: 4096 בתים / 8 בתים לרשומה = 512 רשומות.\n   *   מספר הביטים לאינדקס בכל רמה: log2(512) = 9 ביטים.\n   *   מספר רמות נדרשות: ה-VPN הוא 36 ביטים. מכיוון שכל רמה משתמשת ב-9 ביטים, מספר הרמות הוא 36 / 9 = 4 רמות.\n   *   לכן, נדרשות 4 רמות לטבלת הדפים ההיררכית, ומוקצים 9 ביטים לכל רמת אינדקס.\n\nד. גודל טבלת הדפים ברמה העליונה:\n   *   טבלת הדפים ברמה העליונה (Page Directory) מכילה אינדקסים לרמה הבאה. מכיוון שכל רמה משתמשת ב-9 ביטים, טבלת הדפים ברמה העליונה תכיל 2^9 = 512 רשומות.\n   *   גודל טבלת הדפים ברמה העליונה = 512 רשומות * 8 בתים לרשומה = 4096 בתים = 4KB.\n   *   לכן, הגודל המינימלי של טבלת הדפים ברמה העליונה הוא 4KB (היא תתפוס מסגרת זיכרון פיזי אחת)."
    },
    "difficulty_estimation": "Medium"
  }
}