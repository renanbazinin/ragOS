{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Page Replacement",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 07:54:31",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 1850,
      "total_tokens": 7009
    }
  },
  "question": {
    "id": 10,
    "type": "MultipleChoice",
    "topic": [
      "Page Replacement",
      "Virtual Memory",
      "Clock Algorithm"
    ],
    "content": {
      "text": "נתונה מערכת זיכרון וירטואלי המשתמשת באלגוריתם החלפת הדפים \"שעון\" (Clock / Second Chance) עם 3 מסגרות דף (frames) זמינות. לכל מסגרת דף יש סיבית התייחסות (R) וסיבית שינוי (D). בהתחלה, כל המסגרות ריקות וסיביות ה-R וה-D מאופסות. מחוג השעון (clock hand) מצביע בתחילה על מסגרת 0.\nנתונה סדרת גישות לדפים הבאה: P1 (קריאה), P2 (כתיבה), P3 (קריאה), P4 (קריאה), P2 (קריאה), P1 (כתיבה), P5 (קריאה).\nכמה פסיקות דף (page faults) יתרחשו, וכמה כתיבות חוזרות לדיסק (write-backs) יבוצעו במהלך סדרת הגישות הזו?\n(הנח שדף נכתב בחזרה לדיסק רק כאשר הוא נבחר להחלפה וסיבית ה-D שלו דלוקה).",
      "code_snippet": null,
      "options": [
        "א. 5 פסיקות דף, 0 כתיבות לדיסק.",
        "ב. 6 פסיקות דף, 0 כתיבות לדיסק.",
        "ג. 6 פסיקות דף, 1 כתיבה לדיסק.",
        "ד. 7 פסיקות דף, 1 כתיבה לדיסק.",
        "ה. אף אחת מהתשובות אינה נכונה."
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "בואו ננתח את סדרת הגישות צעד אחר צעד:\n\n*   **מצב התחלתי:**\n    *   מסגרות: [_, _, _]\n    *   R: [0, 0, 0], D: [0, 0, 0]\n    *   מחוג: 0\n    *   PF (פסיקות דף): 0, WB (כתיבות לדיסק): 0\n\n1.  **P1 (קריאה)**\n    *   PF. P1 נטען למסגרת 0. R(P1)=1, D(P1)=0.\n    *   מסגרות: [P1, _, _]\n    *   R: [1, 0, 0], D: [0, 0, 0]\n    *   מחוג: 1\n    *   PF: 1, WB: 0\n\n2.  **P2 (כתיבה)**\n    *   PF. P2 נטען למסגרת 1. R(P2)=1, D(P2)=1.\n    *   מסגרות: [P1, P2, _]\n    *   R: [1, 1, 0], D: [0, 1, 0]\n    *   מחוג: 2\n    *   PF: 2, WB: 0\n\n3.  **P3 (קריאה)**\n    *   PF. P3 נטען למסגרת 2. R(P3)=1, D(P3)=0.\n    *   מסגרות: [P1, P2, P3]\n    *   R: [1, 1, 1], D: [0, 1, 0]\n    *   מחוג: 0 (חוזר להתחלה)\n    *   PF: 3, WB: 0\n\n4.  **P4 (קריאה)**\n    *   PF. המסגרות מלאות. המחוג ב-0.\n    *   בודק P1 (מסגרת 0): R=1. מאפס R(P1)=0. מקדם מחוג ל-1.\n    *   בודק P2 (מסגרת 1): R=1. מאפס R(P2)=0. מקדם מחוג ל-2.\n    *   בודק P3 (מסגרת 2): R=1. מאפס R(P3)=0. מקדם מחוג ל-0.\n    *   בודק P1 (מסגרת 0): R=0. מחליף את P1 ב-P4. D(P1)=0, לכן אין כתיבה לדיסק. R(P4)=1, D(P4)=0.\n    *   מסגרות: [P4, P2, P3]\n    *   R: [1, 0, 0], D: [0, 1, 0]\n    *   מחוג: 1\n    *   PF: 4, WB: 0\n\n5.  **P2 (קריאה)**\n    *   פגיעה (Hit). P2 נמצא במסגרת 1. מגדיר R(P2)=1.\n    *   מסגרות: [P4, P2, P3]\n    *   R: [1, 1, 0], D: [0, 1, 0]\n    *   מחוג: 1 (לא זז ב-Hit)\n    *   PF: 4, WB: 0\n\n6.  **P1 (כתיבה)**\n    *   PF. P1 לא בזיכרון. המסגרות מלאות. המחוג ב-1.\n    *   בודק P2 (מסגרת 1): R=1. מאפס R(P2)=0. מקדם מחוג ל-2.\n    *   בודק P3 (מסגרת 2): R=0. מחליף את P3 ב-P1. D(P3)=0, לכן אין כתיבה לדיסק. R(P1)=1, D(P1)=1 (בגלל כתיבה).\n    *   מסגרות: [P4, P2, P1]\n    *   R: [1, 0, 1], D: [0, 1, 1]\n    *   מחוג: 0 (לאחר החלפה במסגרת 2, המחוג מתקדם ל-0)\n    *   PF: 5, WB: 0\n\n7.  **P5 (קריאה)**\n    *   PF. P5 לא בזיכרון. המסגרות מלאות. המחוג ב-0.\n    *   בודק P4 (מסגרת 0): R=1. מאפס R(P4)=0. מקדם מחוג ל-1.\n    *   בודק P2 (מסגרת 1): R=0. מחליף את P2 ב-P5. D(P2)=1, לכן מתבצעת כתיבה לדיסק (WB). R(P5)=1, D(P5)=0.\n    *   מסגרות: [P4, P5, P1]\n    *   R: [0, 1, 1], D: [0, 0, 1]\n    *   מחוג: 2\n    *   PF: 6, WB: 1\n\nסה\"כ: 6 פסיקות דף ו-1 כתיבה לדיסק.\nלכן, התשובה הנכונה היא ג'."
    },
    "difficulty_estimation": "Hard"
  }
}