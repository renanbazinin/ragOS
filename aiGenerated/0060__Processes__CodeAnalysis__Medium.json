{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Processes",
    "requested_type": "CodeAnalysis",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 18:26:59",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2231,
      "output_tokens": 595,
      "total_tokens": 8436
    },
    "subject": "Virtualization"
  },
  "question": {
    "id": 7,
    "type": "CodeAnalysis",
    "topic": [
      "Processes"
    ],
    "content": {
      "text": "נתונה התוכנית הבאה בשפת C. הניחו שכל קריאות המערכת מצליחות, ושלא פועלים במערכת תהליכים נוספים פרט לאלו שנוצרים בקוד. תזכורת: כל הדפסה לפלט הסטנדרטי מתבצעת מיד, ללא חוצץ (buffer) הדפסה. איזה מהפלטים הבאים אינו אפשרי?",
      "code_snippet": "#include <stdio.h>\n#include <unistd.h>\n#include <sys/wait.h>\n\nint main() {\n    if (fork() == 0) {\n        fork();\n        printf(\"1\");\n    } else {\n        wait(NULL);\n        printf(\"2\");\n    }\n    return 0;\n}",
      "options": [
        "א. 112",
        "ב. 121",
        "ג. 211",
        "ד. כל הפלטים המוצגים אפשריים"
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "התהליך הראשי (האב) מבצע fork ויוצר את תהליך הבן (C1). לאחר מכן האב קורא ל-wait, מה שאומר שהוא ימתין עד ש-C1 יסיים את ריצתו לפני שידפיס '2'. תהליך C1 בעצמו מבצע fork ויוצר תהליך נכד (G1). גם C1 וגם G1 מדפיסים '1'. כיוון ש-C1 חייב להדפיס '1' לפני שהוא מסיים את ריצתו, והאב מדפיס '2' רק לאחר סיום C1, הרי שלפחות תו '1' אחד חייב להופיע לפני התו '2' בפלט. לכן הפלט '211' אינו אפשרי (הנכד G1 יכול להדפיס '1' אחרי ה-'2' של האב אם C1 סיים לפניו, אך הבן C1 עצמו חייב להדפיס '1' לפני ה-'2')."
    },
    "difficulty_estimation": "Medium"
  }
}