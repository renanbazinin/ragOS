{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "CPU Scheduling and Context Switching",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 11:47:39",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2319,
      "output_tokens": 3312,
      "total_tokens": 11502
    }
  },
  "question": {
    "id": 7,
    "type": "Open",
    "topic": [
      "CPU Scheduling",
      "Context Switching",
      "Round Robin",
      "FCFS"
    ],
    "content": {
      "text": "מערכת הפעלה מריצה תהליכים על מעבד יחיד ומשתמשת באלגוריתם תזמון Round Robin. נתון כי עלות החלפת הקשר (context switch) היא 0.5 מילישניות. נניח שיש לנו 3 תהליכים, P1, P2, P3, כולם מגיעים בזמן 0, וזמני ריצת ה-CPU שלהם (CPU burst times) הם כדלקמן: P1=10ms, P2=6ms, P3=8ms.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": [
      {
        "id": "7.1",
        "text": "חשבו את זמן המחזור (turnaround time) של כל תהליך ואת זמן המחזור הממוצע עבור המערכת אם זמן הפרוסה (time quantum) הוא 2ms.",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "7.2",
        "text": "אם זמן הפרוסה משתנה ל-4ms, כיצד ישתנו זמני המחזור? הסבירו את ההבדלים והשפעתם על ביצועי המערכת בהתחשב בעלות החלפת הקשר.",
        "code_snippet": null,
        "options": null
      },
      {
        "id": "7.3",
        "text": "מה יהיו זמני המחזור אם המערכת תשתמש באלגוריתם FCFS (First Come First Served) במקום Round Robin, ובהנחה שסדר ההגעה הוא P1, P2, P3? השוו את התוצאות לאלו של Round Robin והסבירו מתי עדיף כל אלגוריתם בהתחשב בעלות החלפת הקשר.",
        "code_snippet": null,
        "options": null
      }
    ],
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "נתונים:\nעלות החלפת קשר (CSC) = 0.5ms\nזמני CPU burst: P1=10ms, P2=6ms, P3=8ms\nכל התהליכים מגיעים בזמן t=0.\n\n7.1. Round Robin, זמן פרוסה (quantum) = 2ms:\nסדר ריצה: P1, P2, P3, P1, P2, P3, P1, P2, P3, P1\n\nמעקב ביצוע:\n*   t=0: P1 מתחיל. רץ 2ms. (P1 נותר: 8ms)\n*   t=2: החלפת קשר (P1->P2). עלות: 0.5ms.\n*   t=2.5: P2 מתחיל. רץ 2ms. (P2 נותר: 4ms)\n*   t=4.5: החלפת קשר (P2->P3). עלות: 0.5ms.\n*   t=5: P3 מתחיל. רץ 2ms. (P3 נותר: 6ms)\n*   t=7: החלפת קשר (P3->P1). עלות: 0.5ms.\n*   t=7.5: P1 מתחיל. רץ 2ms. (P1 נותר: 6ms)\n*   t=9.5: החלפת קשר (P1->P2). עלות: 0.5ms.\n*   t=10: P2 מתחיל. רץ 2ms. (P2 נותר: 2ms)\n*   t=12: החלפת קשר (P2->P3). עלות: 0.5ms.\n*   t=12.5: P3 מתחיל. רץ 2ms. (P3 נותר: 4ms)\n*   t=14.5: החלפת קשר (P3->P1). עלות: 0.5ms.\n*   t=15: P1 מתחיל. רץ 2ms. (P1 נותר: 4ms)\n*   t=17: החלפת קשר (P1->P2). עלות: 0.5ms.\n*   t=17.5: P2 מתחיל. רץ 2ms. (P2 נותר: 0ms). P2 מסיים.\n*   t=19.5: P2 סיים. החלפת קשר (P2 סיים, הבא P3). עלות: 0.5ms.\n*   t=20: P3 מתחיל. רץ 2ms. (P3 נותר: 2ms)\n*   t=22: החלפת קשר (P3->P1). עלות: 0.5ms.\n*   t=22.5: P1 מתחיל. רץ 2ms. (P1 נותר: 2ms)\n*   t=24.5: החלפת קשר (P1->P3). עלות: 0.5ms.\n*   t=25: P3 מתחיל. רץ 2ms. (P3 נותר: 0ms). P3 מסיים.\n*   t=27: P3 סיים. החלפת קשר (P3 סיים, הבא P1). עלות: 0.5ms.\n*   t=27.5: P1 מתחיל. רץ 2ms. (P1 נותר: 0ms). P1 מסיים.\n*   t=29.5: P1 סיים.\n\nזמני סיום:\n*   P1: 29.5ms\n*   P2: 19.5ms\n*   P3: 27ms\n\nזמני מחזור (Turnaround Time = Completion Time - Arrival Time):\n*   P1 TAT = 29.5 - 0 = 29.5ms\n*   P2 TAT = 19.5 - 0 = 19.5ms\n*   P3 TAT = 27 - 0 = 27ms\n\nזמן מחזור ממוצע = (29.5 + 19.5 + 27) / 3 = 76 / 3 = 25.33ms\n\n7.2. Round Robin, זמן פרוסה (quantum) = 4ms:\nסדר ריצה: P1, P2, P3, P1, P2, P3, P1\n\nמעקב ביצוע:\n*   t=0: P1 מתחיל. רץ 4ms. (P1 נותר: 6ms)\n*   t=4: החלפת קשר (P1->P2). עלות: 0.5ms.\n*   t=4.5: P2 מתחיל. רץ 4ms. (P2 נותר: 2ms)\n*   t=8.5: החלפת קשר (P2->P3). עלות: 0.5ms.\n*   t=9: P3 מתחיל. רץ 4ms. (P3 נותר: 4ms)\n*   t=13: החלפת קשר (P3->P1). עלות: 0.5ms.\n*   t=13.5: P1 מתחיל. רץ 4ms. (P1 נותר: 2ms)\n*   t=17.5: החלפת קשר (P1->P2). עלות: 0.5ms.\n*   t=18: P2 מתחיל. רץ 2ms. (P2 נותר: 0ms). P2 מסיים.\n*   t=20: P2 סיים. החלפת קשר (P2 סיים, הבא P3). עלות: 0.5ms.\n*   t=20.5: P3 מתחיל. רץ 4ms. (P3 נותר: 0ms). P3 מסיים.\n*   t=24.5: P3 סיים. החלפת קשר (P3 סיים, הבא P1). עלות: 0.5ms.\n*   t=25: P1 מתחיל. רץ 2ms. (P1 נותר: 0ms). P1 מסיים.\n*   t=27: P1 סיים.\n\nזמני סיום:\n*   P1: 27ms\n*   P2: 20ms\n*   P3: 24.5ms\n\nזמני מחזור:\n*   P1 TAT = 27 - 0 = 27ms\n*   P2 TAT = 20 - 0 = 20ms\n*   P3 TAT = 24.5 - 0 = 24.5ms\n\nזמן מחזור ממוצע = (27 + 20 + 24.5) / 3 = 71.5 / 3 = 23.83ms\n\nהבדלים והשפעה:\nזמן המחזור הממוצע עבור זמן פרוסה של 4ms (23.83ms) נמוך יותר מזמן פרוסה של 2ms (25.33ms). הסיבה לכך היא שכאשר זמן הפרוסה גדל, מספר החלפות הקשר יורד. ב-Q=2ms היו 11 החלפות קשר (סה\"כ עלות 5.5ms), ואילו ב-Q=4ms היו 6 החלפות קשר (סה\"כ עלות 3ms). ירידה בעלות התקורה של החלפות קשר משפרת את הביצועים הכוללים של המערכת ומקטינה את זמני המחזור.\n\n7.3. FCFS (First Come First Served), סדר הגעה P1, P2, P3:\n\nמעקב ביצוע:\n*   t=0: P1 מתחיל. רץ 10ms. (P1 נותר: 0ms). P1 מסיים.\n*   t=10: P1 סיים. החלפת קשר (P1->P2). עלות: 0.5ms.\n*   t=10.5: P2 מתחיל. רץ 6ms. (P2 נותר: 0ms). P2 מסיים.\n*   t=16.5: P2 סיים. החלפת קשר (P2->P3). עלות: 0.5ms.\n*   t=17: P3 מתחיל. רץ 8ms. (P3 נותר: 0ms). P3 מסיים.\n*   t=25: P3 סיים.\n\nזמני סיום:\n*   P1: 10ms\n*   P2: 16.5ms\n*   P3: 25ms\n\nזמני מחזור:\n*   P1 TAT = 10 - 0 = 10ms\n*   P2 TAT = 16.5 - 0 = 16.5ms\n*   P3 TAT = 25 - 0 = 25ms\n\nזמן מחזור ממוצע = (10 + 16.5 + 25) / 3 = 51.5 / 3 = 17.17ms\n\nהשוואה והסבר:\n*   FCFS ממוצע TAT = 17.17ms\n*   RR (Q=4ms) ממוצע TAT = 23.83ms\n*   RR (Q=2ms) ממוצע TAT = 25.33ms\n\nבמקרה זה, אלגוריתם FCFS משיג את זמן המחזור הממוצע הנמוך ביותר. הסיבה לכך היא ש-FCFS כמעט ולא מבצע החלפות קשר (רק 2 במקרה זה, בעלות כוללת של 1ms), בעוד ש-Round Robin מבצע יותר החלפות קשר, מה שמוסיף תקורה. כאשר עלות החלפת הקשר משמעותית, ואין תהליכים קצרים שצריכים זמן תגובה מהיר במיוחד, FCFS יכול להיות יעיל יותר במונחים של תפוקה כוללת וזמן מחזור ממוצע, מכיוון שהוא ממזער את התקורה של החלפות קשר.\n\nמתי עדיף כל אלגוריתם:\n*   **FCFS עדיף** כאשר עלות החלפת הקשר גבוהה, או כאשר תהליכים הם בעיקר CPU-bound ואין דרישה קריטית לזמן תגובה מהיר לכל התהליכים. הוא פשוט ליישום ובעל תקורה מינימלית. יתרון זה בולט במיוחד כאשר כל התהליכים מגיעים בבת אחת ואין תופעת 'שיירה' (convoy effect) ארוכה.\n*   **Round Robin עדיף** במערכות אינטראקטיביות שבהן זמן תגובה מהיר וחלוקת משאבים הוגנת בין תהליכים הם קריטיים. הוא מונע הרעבה (starvation) ומספק תחושה של מקביליות, גם במחיר של תקורה גבוהה יותר עקב החלפות קשר תכופות יותר. בחירת זמן פרוסה אופטימלי היא מפתח לאיזון בין הגינות לבין יעילות."
    },
    "difficulty_estimation": "Medium"
  }
}