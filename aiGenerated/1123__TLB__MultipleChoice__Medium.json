{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "TLB",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 08:07:30",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1140,
      "output_tokens": 919,
      "total_tokens": 4931
    }
  },
  "question": {
    "id": 4,
    "type": "MultipleChoice",
    "topic": [
      "Virtual Memory",
      "Paging",
      "TLB",
      "Memory Management"
    ],
    "content": {
      "text": "מהו רצף האירועים הנכון ביותר כאשר מתרחשת גישה לכתובת וירטואלית, מתקבל TLB Miss, אך הדף המבוקש נמצא כבר בזיכרון הפיזי ואין צורך ב-Page Fault?",
      "code_snippet": null,
      "options": [
        "א. ה-CPU מנסה לתרגם את הכתובת ב-TLB ונכשל. המערכת מפעילה את מערכת ההפעלה שתחפש את ה-PTE בטבלאות הדפים, טוענת אותו ל-TLB, ורק אז ה-CPU ניגש לזיכרון הפיזי.",
        "ב. ה-CPU מנסה לתרגם את הכתובת ב-TLB ונכשל. ה-MMU מחפש את ה-PTE בטבלאות הדפים בזיכרון הראשי, טוען אותו ל-TLB, ואז ה-CPU מבצע מחדש את תרגום הכתובת (שכעת יצליח), ולבסוף ניגש לזיכרון הפיזי.",
        "ג. ה-CPU מנסה לתרגם את הכתובת ב-TLB ונכשל. מתרחש Page Fault, מערכת ההפעלה טוענת את הדף מהדיסק לזיכרון הפיזי, מעדכנת את טבלת הדפים ואת ה-TLB, ואז ה-CPU ניגש לזיכרון הפיזי.",
        "ד. ה-CPU מנסה לתרגם את הכתובת ב-TLB ונכשל. ה-MMU מחפש את ה-PTE בטבלאות הדפים בזיכרון הראשי, ומייד ניגש לזיכרון הפיזי באמצעות הכתובת הפיזית שנמצאה, ללא עדכון ה-TLB."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "התשובה הנכונה היא ב'. כאשר מתרחש TLB Miss, ה-MMU (חומרת ניהול הזיכרון) מחפש את ה-PTE (Page Table Entry) המתאים בטבלאות הדפים הנמצאות בזיכרון הראשי. אם ה-PTE נמצא ומצביע על דף קיים בזיכרון הפיזי (כלומר, אין Page Fault), ה-PTE נטען ל-TLB כדי לשרת גישות עתידיות לאותו דף. לאחר מכן, ה-CPU מבצע שוב את תרגום הכתובת הווירטואלית (פעולה שעתה תצליח בזכות ה-PTE החדש ב-TLB) ומבצע את הגישה לזיכרון הפיזי. תשובה א' שגויה מכיוון שחיפוש ה-PTE בטבלאות הדפים הוא לרוב מבוצע על ידי חומרת ה-MMU ולא על ידי מערכת ההפעלה (אלא אם כן מדובר ב-Page Fault מורכב או ב-Page Fault handler). תשובה ג' שגויה מכיוון שהשאלה מציינת שהדף כבר נמצא בזיכרון הפיזי, ולכן אין Page Fault ואין צורך לטעון דף מהדיסק. תשובה ד' שגויה מכיוון שחלק בלתי נפרד מטיפול ב-TLB Miss מוצלח הוא טעינת ה-PTE ל-TLB כדי לשפר ביצועים בגישות עתידיות."
    },
    "difficulty_estimation": "Medium"
  }
}