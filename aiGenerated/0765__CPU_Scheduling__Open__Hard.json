{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "CPU Scheduling",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 00:11:36",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2859,
      "output_tokens": 3149,
      "total_tokens": 19436
    }
  },
  "question": {
    "id": 101,
    "type": "Open",
    "topic": [
      "CPU Scheduling"
    ],
    "content": {
      "text": "נתונה מערכת מרובת מעבדים עם 2 מעבדים זהים (CPU1 ו-CPU2).\nהמתזמן משתמש באלגוריתם תעדוף מונע (preemptive priority scheduling), כאשר מספר נמוך יותר מציין עדיפות גבוהה יותר (לדוגמה, 0 היא העדיפות הגבוהה ביותר).\nבין תהליכים בעלי אותה רמת עדיפות, המתזמן משתמש ב-FCFS (First-Come, First-Served).\nזמן החלפת הקשר (Context Switch) הוא 1ms.\n\n**כלל מיוחד לשיפור ביצועים:**\nכאשר תהליך מסיים פעולת קלט/פלט (I/O) והופך למוכן (ready), העדיפות שלו מוגברת באופן זמני לעדיפות הגבוהה ביותר האפשרית (עדיפות 0) עבור פרץ ה-CPU הבא שלו *בלבד*. לאחר שפרץ CPU זה מסתיים, העדיפות המקורית של התהליך משוחזרת. הגברה זו מתרחשת גם אם התהליך כבר בעל עדיפות גבוהה. אם תהליך בעל עדיפות 0 (מוגברת) נדחק על ידי תהליך אחר בעל עדיפות 0 (לדוגמה, אם תהליך אחר בעל עדיפות 0 הופך למוכן), הוא חוזר לתור המוכנים עם עדיפות 0 וממשיך כשהמעבד מתפנה.\n\nלהלן רשימת התהליכים ופרטי הביצוע שלהם:\n*   **P1:** מגיע ב-0ms, עדיפות מקורית 2. פרצי ביצוע: CPU 8ms, I/O 10ms, CPU 4ms.\n*   **P2:** מגיע ב-0ms, עדיפות מקורית 1. פרצי ביצוע: CPU 6ms, I/O 8ms, CPU 3ms.\n*   **P3:** מגיע ב-2ms, עדיפות מקורית 2. פרצי ביצוע: CPU 5ms, I/O 5ms, CPU 2ms.\n\nמהו הזמן הכולל עד לסיום כל התהליכים במערכת (Total Completion Time)?\nפרט את כל השלבים והחישובים.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": 10,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "נבצע מעקב אחר ביצוע התהליכים על פני ציר הזמן.\n**נתונים:**\n*   2 מעבדים זהים (CPU1, CPU2).\n*   תעדוף מונע (Preemptive Priority), מספר נמוך = עדיפות גבוהה.\n*   אותה עדיפות = FCFS.\n*   זמן החלפת קשר (CS) = 1ms.\n*   **כלל Boost:** לאחר I/O, פרץ ה-CPU הבא מקבל עדיפות 0 (הגבוהה ביותר) עבור פרץ זה בלבד.\n\n**תהליכים:**\n*   P1: A=0, Prio 2. Bursts: C8, I10, C4\n*   P2: A=0, Prio 1. Bursts: C6, I8, C3\n*   P3: A=2, Prio 2. Bursts: C5, I5, C2\n\n---\n**מעקב:**\n\n**T=0:**\n*   **Ready Queue (RQ):** [P2(P1, C6), P1(P2, C8)] (P2 בעדיפות גבוהה מ-P1)\n*   **CPU1:** P2 מתחיל. (CS=1ms)\n*   **CPU2:** P1 מתחיל. (CS=1ms)\n*   **זמן מערכת = 1ms.**\n*   CPU1 state: P2(P1, C5)\n*   CPU2 state: P1(P2, C7)\n\n**T=1:**\n*   P2 רץ ב-CPU1 (C_rem=4). P1 רץ ב-CPU2 (C_rem=6).\n\n**T=2 (P3 מגיע):**\n*   **RQ:** [P3(P2, C5)] (P2 ו-P1 רצים)\n*   P2 (P1) > P1 (P2) > P3 (P2). אין דחיקה. התהליכים הרצים ממשיכים.\n*   P2 רץ ב-CPU1 (C_rem=3). P1 רץ ב-CPU2 (C_rem=5).\n\n**T=3:**\n*   P2 רץ ב-CPU1 (C_rem=2). P1 רץ ב-CPU2 (C_rem=4).\n\n**T=4:**\n*   P2 רץ ב-CPU1 (C_rem=1). P1 רץ ב-CPU2 (C_rem=3).\n\n**T=5:**\n*   P2 רץ ב-CPU1 (C_rem=0). P2 מסיים את פרץ ה-CPU הראשון שלו (סה\"כ 6ms). \n*   P2 עובר ל-I/O (8ms). יהיה מוכן שוב ב-`5 + 8 = 13ms`.\n*   CPU1 מתפנה. (CS=1ms עבור התהליך הבא).\n*   P1 רץ ב-CPU2 (C_rem=2).\n*   **RQ:** [P1(P2, C2), P3(P2, C5)] (P1 עדיין רץ ב-CPU2. P1 ו-P3 באותה עדיפות, P1 קדם ל-P3 ב-FCFS).\n*   **CPU1:** P1 כבר רץ ב-CPU2, לכן P3 מתחיל ב-CPU1. (CS=1ms).\n*   **זמן מערכת = 6ms.**\n*   CPU1 state: P3(P2, C4)\n*   CPU2 state: P1(P2, C1) (P1 רץ ב-CPU2 מ-T=5 עד T=6).\n\n**T=6:**\n*   P3 רץ ב-CPU1 (C_rem=4). P1 רץ ב-CPU2 (C_rem=1).\n\n**T=7 (P1 מסיים את פרץ ה-CPU הראשון שלו):**\n*   P1 סיים את פרץ ה-CPU הראשון שלו (סה\"כ 8ms). \n*   P1 עובר ל-I/O (10ms). יהיה מוכן שוב ב-`7 + 10 = 17ms`.\n*   CPU2 מתפנה. (CS=1ms עבור התהליך הבא).\n*   P3 רץ ב-CPU1 (C_rem=3).\n*   **RQ:** [P3(P2, C3)] (P3 כבר רץ ב-CPU1).\n*   אין תהליכים נוספים בתור המוכנים. CPU2 עובר למצב סרק (idle) לאחר CS של 1ms.\n*   **זמן מערכת = 8ms.**\n*   CPU1 state: P3(P2, C2)\n*   CPU2 state: Idle\n\n**T=8:**\n*   P3 רץ ב-CPU1 (C_rem=2). CPU2: Idle.\n\n**T=9:**\n*   P3 רץ ב-CPU1 (C_rem=1). CPU2: Idle.\n\n**T=10:**\n*   P3 רץ ב-CPU1 (C_rem=0). P3 מסיים את פרץ ה-CPU הראשון שלו (סה\"כ 5ms). \n*   P3 עובר ל-I/O (5ms). יהיה מוכן שוב ב-`10 + 5 = 15ms`.\n*   CPU1 מתפנה. (CS=1ms עבור התהליך הבא).\n*   **RQ:** [] (P2 מוכן ב-13ms, P1 מוכן ב-17ms, P3 מוכן ב-15ms).\n*   שני המעבדים עוברים למצב סרק עד T=13.\n*   **זמן מערכת = 11ms.**\n\n**T=11, T=12:**\n*   שני המעבדים במצב סרק.\n\n**T=13 (P2 מסיים I/O):**\n*   P2 הופך למוכן. **כלל ה-Boost חל:** פרץ ה-CPU הבא של P2 (C3) מקבל עדיפות 0.\n*   **RQ:** [P2(P0, C3)]\n*   **CPU1:** P2 מתחיל. (CS=1ms)\n*   **CPU2:** עדיין סרק.\n*   **זמן מערכת = 14ms.**\n*   CPU1 state: P2(P0, C2)\n\n**T=14:**\n*   P2 רץ ב-CPU1 (C_rem=2). CPU2: Idle.\n\n**T=15 (P3 מסיים I/O):**\n*   P3 הופך למוכן. **כלל ה-Boost חל:** פרץ ה-CPU הבא של P3 (C2) מקבל עדיפות 0.\n*   **RQ:** [P2(P0, C1), P3(P0, C2)] (P2 עדיין רץ ב-CPU1. P2 ו-P3 באותה עדיפות (0), P2 קדם ל-P3 ב-FCFS).\n*   **CPU2:** P3 מתחיל. (CS=1ms)\n*   **זמן מערכת = 16ms.**\n*   CPU1 state: P2(P0, C0) (P2 רץ ב-CPU1 מ-T=15 עד T=16).\n*   CPU2 state: P3(P0, C1)\n\n**T=16 (P2 מסיים את פרץ ה-CPU המוגבר):**\n*   P2 סיים את פרץ ה-CPU שלו (סה\"כ 3ms). P2 סיים את כל ביצועיו.\n*   P2 הופך ל\"סיים\" (Done).\n*   CPU1 מתפנה. (CS=1ms עבור התהליך הבא).\n*   P3 רץ ב-CPU2 (C_rem=1).\n*   **RQ:** [P3(P0, C1)] (P3 כבר רץ ב-CPU2).\n*   **זמן מערכת = 17ms.**\n*   CPU1 state: Idle\n*   CPU2 state: P3(P0, C0)\n\n**T=17 (P1 מסיים I/O):**\n*   P1 הופך למוכן. **כלל ה-Boost חל:** פרץ ה-CPU הבא של P1 (C4) מקבל עדיפות 0.\n*   **CPU2:** P3 סיים את פרץ ה-CPU שלו (סה\"כ 2ms). P3 סיים את כל ביצועיו.\n*   P3 הופך ל\"סיים\" (Done).\n*   CPU2 מתפנה. (CS=1ms עבור התהליך הבא).\n*   **RQ:** [P1(P0, C4)]\n*   **CPU1:** P1 מתחיל. (CS=1ms)\n*   **זמן מערכת = 18ms.**\n*   CPU1 state: P1(P0, C3)\n*   CPU2 state: Idle\n\n**T=18:**\n*   P1 רץ ב-CPU1 (C_rem=3). CPU2: Idle.\n\n**T=19:**\n*   P1 רץ ב-CPU1 (C_rem=2). CPU2: Idle.\n\n**T=20:**\n*   P1 רץ ב-CPU1 (C_rem=1). CPU2: Idle.\n\n**T=21 (P1 מסיים את פרץ ה-CPU המוגבר):**\n*   P1 סיים את פרץ ה-CPU שלו (סה\"כ 4ms). P1 סיים את כל ביצועיו.\n*   P1 הופך ל\"סיים\" (Done).\n*   CPU1 מתפנה. (CS=1ms עבור התהליך הבא).\n*   **זמן מערכת = 22ms.**\n\n**כל התהליכים הסתיימו ב-T=22ms.**\nהזמן הכולל עד לסיום כל התהליכים הוא 22ms.",
      "difficulty_estimation": "Hard"
    }
  }
}