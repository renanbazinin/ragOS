{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Semaphores",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 20:38:49",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1032,
      "output_tokens": 884,
      "total_tokens": 4526
    }
  },
  "question": {
    "id": 4,
    "type": "MultipleChoice",
    "topic": [
      "Semaphores",
      "Synchronization"
    ],
    "content": {
      "text": "סמפור ספירה (counting semaphore) בשם S מאותחל לערך 2. בהמשך, מתבצעות הפעולות הבאות:\n1. שלושה תהליכים (T1, T2, T3) קוראים לפונקציה sem_wait(&S).\n2. לאחר מכן, שני תהליכים (T4, T5) קוראים לפונקציה sem_post(&S).\n\nבהנחה שהפעולות מתבצעות בסדר זה, מהו הערך הסופי של הסמפור S לאחר שכל הפעולות הושלמו, וכמה תהליכים נשארו חסומים (blocked)?",
      "code_snippet": null,
      "options": [
        "א. ערך סופי של S: 1, מספר תהליכים חסומים: 0",
        "ב. ערך סופי של S: 0, מספר תהליכים חסומים: 1",
        "ג. ערך סופי של S: 2, מספר תהליכים חסומים: 0",
        "ד. ערך סופי של S: -1, מספר תהליכים חסומים: 1",
        "ה. כל התשובות האחרות אינן נכונות."
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "א",
      "explanation": "נסקור את השלבים והשפעתם על ערך הסמפור ומספר התהליכים החסומים:\n\n1.  **אתחול**: הסמפור S מאותחל לערך 2.\n\n2.  **פעולות sem_wait**: שלושה תהליכים (T1, T2, T3) קוראים ל-sem_wait(&S):\n    *   T1 קורא ל-sem_wait: S יורד ל-1. T1 ממשיך.\n    *   T2 קורא ל-sem_wait: S יורד ל-0. T2 ממשיך.\n    *   T3 קורא ל-sem_wait: S יורד ל-1-. מכיוון שערך הסמפור הפך לשלילי, T3 נחסם.\n    בשלב זה: S = -1, ותהליך אחד (T3) חסום.\n\n3.  **פעולות sem_post**: שני תהליכים (T4, T5) קוראים ל-sem_post(&S):\n    *   T4 קורא ל-sem_post: S עולה ל-0. מכיוון שערך הסמפור היה לא חיובי (0 או שלילי), תהליך אחד חסום (T3) משוחרר (unblocked) ועובר למצב 'מוכן' (ready).\n    *   T5 קורא ל-sem_post: S עולה ל-1. מכיוון שאין תהליכים חסומים כרגע, אף תהליך לא משוחרר.\n\n**מצב סופי**: הערך הסופי של הסמפור S הוא 1. כל התהליכים שנחסמו (רק T3) שוחררו, ולכן אין תהליכים שנשארו חסומים בסוף.\n\nלכן, התשובה הנכונה היא: ערך סופי של S: 1, מספר תהליכים חסומים: 0."
    },
    "difficulty_estimation": "Medium"
  }
}