{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "CPU Scheduling",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 00:13:01",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2859,
      "output_tokens": 3092,
      "total_tokens": 12501
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "CPU Scheduling",
      "Multi-level Feedback Queue"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת במתזמן מעבד מסוג תור משוב רב-שכבתי (Multi-level feedback queue) עם 3 רמות עדיפות:\n- תור 0 (Q0): עדיפות עליונה, מבוסס Round Robin, קוונטום = 2ms.\n- תור 1 (Q1): עדיפות בינונית, מבוסס Round Robin, קוונטום = 4ms.\n- תור 2 (Q2): עדיפות נמוכה, מבוסס FCFS (First-Come, First-Served).\n\nכללי המעבר בין התורים והטיפול בתהליכים:\n1.  תהליכים חדשים מגיעים לתור 0.\n2.  תהליך שמשתמש בקוונטום המלא שלו בתור Q0 עובר לתור Q1.\n3.  תהליך שמשתמש בקוונטום המלא שלו בתור Q1 עובר לתור Q2.\n4.  תהליך שמבצע פעולת קלט/פלט (I/O) ומושלם, חוזר לתור 0 (Q0) עם סיום פעולת ה-I/O שלו.\n5.  תקורת החלפת הקשר (Context Switch Overhead) היא 1ms. תקורה זו חלה בכל מעבר בין תהליכים, ובנוסף בעת סיום תהליך (כאשר המעבד מתפנה).\n\nלהלן רשימת התהליכים שיש לטפל בהם:\n- P1: זמן הגעה 0ms, זמן מעבד כולל 10ms (ללא I/O).\n- P2: זמן הגעה 1ms, זמן מעבד כולל 8ms (ללא I/O).\n- P3: זמן הגעה 2ms, זמן מעבד כולל 12ms. התהליך מבצע פעולת I/O לאחר 3ms של זמן מעבד. פעולת ה-I/O אורכת 5ms. לאחר סיום ה-I/O, נותרו לו 9ms של זמן מעבד.\n- P4: זמן הגעה 3ms, זמן מעבד כולל 6ms (ללא I/O).\n\nחשב את זמן הסיום (Completion Time) של כל תהליך ואת זמן ההמתנה הממוצע (Average Waiting Time) של כל התהליכים במערכת. פרט את שלבי החישוב באופן ברור.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": 10,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "נבצע מעקב מפורט אחר ביצוע התהליכים על ציר הזמן:\n\n**מצב התחלתי:** כל התורים ריקים. זמן = 0ms.\n\n**0ms:** P1 מגיע. Q0: [P1]. המתזמן בוחר ב-P1. מתבצעת החלפת הקשר ל-P1 (1ms). P1 רץ 2ms (קוונטום).\n- זמן: 0 + 1 (CS) + 2 = 3ms.\n- P1 השתמש בקוונטום מלא, עובר ל-Q1. זמן מעבד נותר ל-P1: 8ms.\n- Q0: [], Q1: [P1], Q2: []\n\n**1ms:** P2 מגיע. Q0: [P2].\n**2ms:** P3 מגיע. Q0: [P2, P3].\n**3ms:** P4 מגיע. Q0: [P2, P3, P4].\n\n**3ms:** P1 סיים את הקוונטום. המתזמן בוחר ב-P2 (הראשון ב-Q0). החלפת קשר ל-P2 (1ms). P2 רץ 2ms (קוונטום).\n- זמן: 3 + 1 (CS) + 2 = 6ms.\n- P2 השתמש בקוונטום מלא, עובר ל-Q1. זמן מעבד נותר ל-P2: 6ms.\n- Q0: [P3, P4], Q1: [P1, P2], Q2: []\n\n**6ms:** המתזמן בוחר ב-P3 (הראשון ב-Q0). החלפת קשר ל-P3 (1ms). P3 רץ 2ms (קוונטום).\n- זמן: 6 + 1 (CS) + 2 = 9ms.\n- P3 השתמש בקוונטום מלא. P3 עדיין זקוק ל-1ms נוסף לפני ה-I/O. עובר ל-Q1. זמן מעבד נותר ל-P3: 10ms (1ms לפני I/O, 9ms אחרי I/O).\n- Q0: [P4], Q1: [P1, P2, P3], Q2: []\n\n**9ms:** המתזמן בוחר ב-P4 (הראשון ב-Q0). החלפת קשר ל-P4 (1ms). P4 רץ 2ms (קוונטום).\n- זמן: 9 + 1 (CS) + 2 = 12ms.\n- P4 השתמש בקוונטום מלא, עובר ל-Q1. זמן מעבד נותר ל-P4: 4ms.\n- Q0: [], Q1: [P1, P2, P3, P4], Q2: []\n\n**12ms:** Q0 ריק. המתזמן בוחר ב-P1 (הראשון ב-Q1). החלפת קשר ל-P1 (1ms). P1 רץ 4ms (קוונטום).\n- זמן: 12 + 1 (CS) + 4 = 17ms.\n- P1 השתמש בקוונטום מלא, עובר ל-Q2. זמן מעבד נותר ל-P1: 4ms.\n- Q0: [], Q1: [P2, P3, P4], Q2: [P1]\n\n**17ms:** המתזמן בוחר ב-P2 (הראשון ב-Q1). החלפת קשר ל-P2 (1ms). P2 רץ 4ms (קוונטום).\n- זמן: 17 + 1 (CS) + 4 = 22ms.\n- P2 השתמש בקוונטום מלא, עובר ל-Q2. זמן מעבד נותר ל-P2: 2ms.\n- Q0: [], Q1: [P3, P4], Q2: [P1, P2]\n\n**22ms:** המתזמן בוחר ב-P3 (הראשון ב-Q1). החלפת קשר ל-P3 (1ms). P3 זקוק ל-1ms נוסף לפני ה-I/O. P3 רץ 1ms.\n- זמן: 22 + 1 (CS) + 1 (P3 CPU) = 24ms.\n- P3 מסיים את פרץ המעבד הראשון שלו ויוזם פעולת I/O. זמן ה-I/O הוא 5ms. P3 עובר למצב חסום (Blocked).\n- זמן סיום I/O עבור P3: 24 + 5 = 29ms.\n- Q0: [], Q1: [P4], Q2: [P1, P2]\n\n**24ms:** P3 חסום. המתזמן בוחר ב-P4 (הראשון ב-Q1). החלפת קשר ל-P4 (1ms). P4 רץ 4ms (קוונטום).\n- זמן: 24 + 1 (CS) + 4 = 29ms.\n- P4 השתמש בקוונטום מלא. זמן מעבד נותר ל-P4: 0ms. P4 סיים את ריצתו. מתבצעת תקורה לסיום תהליך (1ms).\n- **זמן סיום P4: 29ms.**\n- Q0: [], Q1: [], Q2: [P1, P2]\n\n**29ms:** P4 סיים. **באותו רגע בדיוק**, I/O של P3 מסתיים. P3 חוזר לתור Q0. זמן מעבד נותר ל-P3: 9ms.\n- Q0: [P3], Q1: [], Q2: [P1, P2]\n\n**29ms:** המתזמן בוחר ב-P3 (הראשון ב-Q0). החלפת קשר ל-P3 (1ms). P3 רץ 2ms (קוונטום).\n- זמן: 29 + 1 (CS) + 2 = 32ms.\n- P3 השתמש בקוונטום מלא, עובר ל-Q1. זמן מעבד נותר ל-P3: 7ms.\n- Q0: [], Q1: [P3], Q2: [P1, P2]\n\n**32ms:** Q0 ריק. המתזמן בוחר ב-P1 (הראשון ב-Q2). החלפת קשר ל-P1 (1ms). P1 נמצא בתור FCFS, רץ עד לסיום. זמן מעבד נותר: 4ms.\n- זמן: 32 + 1 (CS) + 4 = 37ms.\n- P1 סיים את ריצתו. מתבצעת תקורה לסיום תהליך (1ms).\n- **זמן סיום P1: 37ms.**\n- Q0: [], Q1: [P3], Q2: [P2]\n\n**37ms:** P1 סיים. המתזמן בוחר ב-P2 (הראשון ב-Q2). החלפת קשר ל-P2 (1ms). P2 נמצא בתור FCFS, רץ עד לסיום. זמן מעבד נותר: 2ms.\n- זמן: 37 + 1 (CS) + 2 = 40ms.\n- P2 סיים את ריצתו. מתבצעת תקורה לסיום תהליך (1ms).\n- **זמן סיום P2: 40ms.**\n- Q0: [], Q1: [P3], Q2: []\n\n**40ms:** P2 סיים. המתזמן בוחר ב-P3 (הראשון ב-Q1). החלפת קשר ל-P3 (1ms). P3 רץ 4ms (קוונטום).\n- זמן: 40 + 1 (CS) + 4 = 45ms.\n- P3 השתמש בקוונטום מלא, עובר ל-Q2. זמן מעבד נותר ל-P3: 3ms.\n- Q0: [], Q1: [], Q2: [P3]\n\n**45ms:** Q1 ריק. המתזמן בוחר ב-P3 (הראשון ב-Q2). החלפת קשר ל-P3 (1ms). P3 נמצא בתור FCFS, רץ עד לסיום. זמן מעבד נותר: 3ms.\n- זמן: 45 + 1 (CS) + 3 = 49ms.\n- P3 סיים את ריצתו. מתבצעת תקורה לסיום תהליך (1ms).\n- **זמן סיום P3: 49ms.**\n- Q0: [], Q1: [], Q2: []\n\n**סיכום זמני סיום:**\n- P1: 37ms\n- P2: 40ms\n- P3: 49ms\n- P4: 29ms\n\n**חישוב זמן המתנה (Waiting Time = Completion Time - Arrival Time - Total CPU Burst - Total I/O Time):**\n- P1: זמן מעבד 10ms. זמן המתנה = 37 - 0 - 10 = 27ms.\n- P2: זמן מעבד 8ms. זמן המתנה = 40 - 1 - 8 = 31ms.\n- P3: זמן מעבד 12ms, זמן I/O 5ms. זמן המתנה = 49 - 2 - 12 - 5 = 30ms.\n- P4: זמן מעבד 6ms. זמן המתנה = 29 - 3 - 6 = 20ms.\n\n**זמן המתנה ממוצע:**\n(27 + 31 + 30 + 20) / 4 = 108 / 4 = 27ms."
    },
    "difficulty_estimation": "Hard"
  }
}