{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Copy-on-Write",
    "requested_type": "Open",
    "requested_difficulty": "Easy",
    "generated_at": "2026-02-08 08:56:02",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 4669,
      "output_tokens": 823,
      "total_tokens": 6920
    }
  },
  "question": {
    "id": 9,
    "type": "Open",
    "topic": [
      "Memory Management",
      "Copy-on-Write"
    ],
    "content": {
      "text": "הסבר בקצרה את העיקרון של Copy-on-Write (CoW) בהקשר של ניהול זיכרון. תאר תרחיש נפוץ שבו מערכת ההפעלה עושה שימוש ב-CoW, והסבר מדוע גישה זו מועילה באותו תרחיש.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "Copy-on-Write (CoW) היא אופטימיזציה בניהול זיכרון המאפשרת למספר תהליכים (או חלקים בתוך תהליך) לשתף עותק יחיד של נתוני זיכרון, במקום שלכל אחד יהיה עותק משלו. השיתוף נמשך כל עוד אף אחד מהתהליכים אינו מנסה לשנות את הנתונים. רק כאשר תהליך כלשהו מנסה לכתוב לבלוק זיכרון משותף, מערכת ההפעלה יוצרת עותק חדש של אותו בלוק ספציפי עבור התהליך הכותב, והתהליך הכותב מקבל גישה לעותק הפרטי שלו, בעוד שאר התהליכים ממשיכים לשתף את הבלוק המקורי.\n\nתרחיש נפוץ לשימוש ב-CoW הוא בעת יצירת תהליך חדש באמצעות קריאת המערכת fork(). כאשר תהליך אב יוצר תהליך בן, במקום להעתיק באופן מיידי את כל מרחב הכתובות של האב לבן, מערכת ההפעלה מסמנת את כל דפי הזיכרון של האב כ-read-only ומשתפת אותם בין האב לבן. אם אחד מהתהליכים (אב או בן) מנסה לכתוב לדף זיכרון משותף, נוצרת הפרעה (page fault). מנגנון ה-CoW בודק אם הדף אכן משותף, ובמקרה כזה, יוצר עותק פרטי של הדף עבור התהליך המנסה לכתוב, מאפשר לו לכתוב אליו, וממשיך את פעולת התהליך. הדף המקורי נשאר ללא שינוי עבור התהליך השני.\n\nגישה זו מועילה במיוחד מהסיבות הבאות:\n1.  **יעילות בביצועים**: יצירת תהליכים חדשים מהירה יותר באופן משמעותי, מכיוון שאין צורך להעתיק כמויות גדולות של נתונים מיד. זה חוסך זמן CPU וזמן גישה לזיכרון.\n2.  **חיסכון במשאבים**: נמנע בזבוז זיכרון על ידי שיתוף דפים שאינם משתנים. זה חשוב במיוחד כאשר תהליך הבן מבצע מיד קריאת exec() כדי לטעון תוכנית חדשה, ובכך מחליף את כל מרחב הכתובות שלו בכל מקרה. במצב כזה, אם לא היה CoW, העתקה מיותרת של הזיכרון הייתה מתבצעת."
    },
    "difficulty_estimation": "Easy"
  }
}