{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Paging",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 22:57:15",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 1641,
      "total_tokens": 8802
    }
  },
  "question": {
    "id": 101,
    "type": "MultipleChoice",
    "topic": [
      "Virtual Memory",
      "Paging",
      "Effective Access Time",
      "TLB",
      "Multi-level Paging",
      "Page Faults"
    ],
    "content": {
      "text": "מערכת הפעלה משתמשת בזיכרון וירטואלי עם טבלאות דפים דו-שכבתיות (two-level page tables).\n\nנתונים:\n*   זמן גישה ל-TLB: 20ns\n*   זמן גישה לזיכרון הראשי (RAM): 100ns\n*   שיעור פגיעות ב-TLB (Hit Rate): 98%\n*   שיעור כשל דף (Page Fault Rate): 0.01% (מתוך כל הגישות לזיכרון הווירטואלי שאינן TLB hit)\n*   זמן טיפול בכשל דף (כולל קריאה מהדיסק ועדכון טבלאות דפים, לא כולל גישת נתונים סופית): 10 מילי-שניות (ms)\n\nמהו זמן הגישה האפקטיבי הממוצע לזיכרון (Effective Memory Access Time) בננו-שניות (ns)?",
      "code_snippet": null,
      "options": [
        "א. 124 ns",
        "ב. 142 ns",
        "ג. 144 ns",
        "ד. 143.6 ns",
        "ה. אף אחת מהתשובות אינה נכונה."
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "נחשב את זמן הגישה האפקטיבי הממוצע (EAT) באמצעות הנוסחה הבאה:\nEAT = (שיעור פגיעות TLB) * (זמן גישת TLB + זמן גישת זיכרון לנתונים)\n      + (שיעור החמצות TLB) * [\n          זמן גישת TLB + \n          (שיעור כשל דף) * (מספר רמות טבלת דפים * זמן גישת זיכרון + זמן טיפול בכשל דף + זמן גישת זיכרון לנתונים)\n          + (1 - שיעור כשל דף) * (מספר רמות טבלת דפים * זמן גישת זיכרון + זמן גישת זיכרון לנתונים)\n        ]\n\nנתונים:\n*   t_tlb = 20ns\n*   t_mem = 100ns\n*   p_tlb = 0.98\n*   p_pf = 0.0001 (0.01%)\n*   t_pf_service = 10,000,000ns (10ms)\n*   N_levels = 2\n\nשלב 1: חישוב עבור פגיעת TLB (TLB Hit):\nזמן = p_tlb * (t_tlb + t_mem)\nזמן = 0.98 * (20ns + 100ns)\nזמן = 0.98 * 120ns = 117.6ns\n\nשלב 2: חישוב עבור החמצת TLB (TLB Miss):\nשיעור החמצה = 1 - p_tlb = 1 - 0.98 = 0.02\n\nבמקרה של החמצת TLB, עדיין נדרש זמן גישת TLB (t_tlb = 20ns).\nלאחר מכן, נצטרך לגשת לטבלאות הדפים בזיכרון הראשי. מכיוון שמדובר בטבלאות דו-שכבתיות, זה דורש 2 גישות זיכרון (N_levels * t_mem = 2 * 100ns = 200ns).\nבשלב זה, אנו מגלים אם יש כשל דף.\n\n  א. מקרה של כשל דף (Page Fault) לאחר החמצת TLB:\n     ההסתברות לכשל דף במקרה זה היא p_pf = 0.0001.\n     הזמן הכולל = N_levels * t_mem (לטבלאות דפים) + t_pf_service (לטיפול בכשל) + t_mem (לגישת נתונים סופית לאחר הטעינה)\n     זמן = 2 * 100ns + 10,000,000ns + 100ns = 200ns + 10,000,000ns + 100ns = 10,000,300ns\n     תרומה ל-EAT מגישה זו = p_pf * (10,000,300ns) = 0.0001 * 10,000,300ns = 1000.03ns\n\n  ב. מקרה ללא כשל דף (No Page Fault) לאחר החמצת TLB:\n     ההסתברות ללא כשל דף במקרה זה היא (1 - p_pf) = (1 - 0.0001) = 0.9999.\n     הזמן הכולל = N_levels * t_mem (לטבלאות דפים) + t_mem (לגישת נתונים)\n     זמן = 2 * 100ns + 100ns = 200ns + 100ns = 300ns\n     תרומה ל-EAT מגישה זו = (1 - p_pf) * (300ns) = 0.9999 * 300ns = 299.97ns\n\nשלב 3: שילוב כל החלקים לחישוב EAT סופי:\nEAT = (זמן מפגיעת TLB) + (שיעור החמצות TLB) * [זמן גישת TLB + (תרומה מכשל דף) + (תרומה ללא כשל דף)]\nEAT = 117.6ns + 0.02 * [20ns + 1000.03ns + 299.97ns]\nEAT = 117.6ns + 0.02 * [1320.0ns]\nEAT = 117.6ns + 26.4ns\nEAT = 144ns\n\nלכן, התשובה הנכונה היא ג'."
    },
    "difficulty_estimation": "Hard"
  }
}