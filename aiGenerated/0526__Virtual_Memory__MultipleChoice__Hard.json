{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 22:19:39",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 923,
      "total_tokens": 4060
    }
  },
  "question": {
    "id": 101,
    "type": "MultipleChoice",
    "topic": [
      "Virtual Memory",
      "Paging",
      "TLB",
      "Memory Access Time"
    ],
    "content": {
      "text": "מערכת הפעלה משתמשת בכתובות וירטואליות בגודל 64 ביט, גודל דף הוא 4KB, וטבלת הדפים היא בת 4 רמות. כל ערך בטבלת הדפים (PTE) הוא בגודל 8 בתים. לזיכרון ה-TLB (Translation Lookaside Buffer) יש שיעור פגיעה (Hit Rate) של 80%. זמן גישה ל-TLB הוא 20 ננו-שניות, וזמן גישה לזיכרון הראשי (RAM) הוא 100 ננו-שניות.\nבהנחה שדף הנתונים המבוקש תמיד נמצא בזיכרון הפיזי, מהו זמן הגישה האפקטיבי הממוצע לנתון בזיכרון?",
      "code_snippet": null,
      "options": [
        "א. 120 ננו-שניות",
        "ב. 200 ננו-שניות",
        "ג. 220 ננו-שניות",
        "ד. 500 ננו-שניות",
        "ה. 520 ננו-שניות"
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "זמן גישה אפקטיבי ממוצע מחושב כך:\n(שיעור פגיעה ב-TLB * זמן גישה בפגיעה) + (שיעור החמצה ב-TLB * זמן גישה בהחמצה)\n\n1.  **זמן גישה בפגיעה ב-TLB (TLB Hit):**\n    *   גישה ל-TLB: 20 ננו-שניות\n    *   גישה לזיכרון הראשי (לאחר קבלת הכתובת הפיזית מה-TLB): 100 ננו-שניות\n    *   סה\"כ זמן בפגיעה: 20 + 100 = 120 ננו-שניות\n\n2.  **זמן גישה בהחמצה ב-TLB (TLB Miss):**\n    *   גישה ל-TLB (החמצה): 20 ננו-שניות (עלות הבדיקה ב-TLB גם אם היא נכשלת).\n    *   הליכה בטבלת הדפים (Page Table Walk): ישנן 4 רמות בטבלת הדפים. כל רמה דורשת גישה לזיכרון הראשי כדי להביא את ה-PTE המתאים. לכן, 4 * 100 ננו-שניות = 400 ננו-שניות.\n    *   גישה לזיכרון הראשי (לאחר מציאת הכתובת הפיזית בטבלת הדפים): 100 ננו-שניות\n    *   סה\"כ זמן בהחמצה: 20 (TLB) + 400 (Page Table Walk) + 100 (Data Access) = 520 ננו-שניות\n\n3.  **חישוב זמן הגישה האפקטיבי הממוצע:**\n    *   (0.80 * 120 ננו-שניות) + (0.20 * 520 ננו-שניות)\n    *   96 ננו-שניות + 104 ננו-שניות = 200 ננו-שניות"
    },
    "difficulty_estimation": "Hard"
  }
}