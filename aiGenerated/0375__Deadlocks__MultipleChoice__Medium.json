{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Deadlocks",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 21:09:19",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1159,
      "output_tokens": 675,
      "total_tokens": 4184
    },
    "subject": "Concurrency"
  },
  "question": {
    "id": 101,
    "type": "MultipleChoice",
    "topic": [
      "Deadlocks",
      "Deadlock Prevention",
      "Concurrency"
    ],
    "content": {
      "text": "מערכת הפעלה מתמודדת עם האפשרות לקיפאון (deadlock) בין תהליכים. איזו אסטרטגיה נועדה למנוע באופן ישיר מצב של המתנה מעגלית (circular wait)?",
      "code_snippet": null,
      "options": [
        "א. ויתור על תנאי ההדרה ההדדית (mutual exclusion) על ידי הפיכת כל המשאבים לניתנים לשיתוף.",
        "ב. דרישה מכל תהליך לבקש את כל המשאבים הנדרשים לו בתחילת פעולתו, או לא לבקש כלל.",
        "ג. הגדרת סדר מוחלט (total ordering) לכל סוגי המשאבים, ודרישה מכל תהליך לבקש משאבים אך ורק בסדר עולה.",
        "ד. מתן אפשרות למערכת להפקיע משאבים מתהליך שמחזיק בהם וביקש משאבים נוספים שאינם זמינים."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "המתנה מעגלית (circular wait) מתרחשת כאשר קיימת שרשרת תהליכים, כאשר כל תהליך בשרשרת ממתין למשאב שמוחזק על ידי התהליך הבא בשרשרת. הגדרת סדר מוחלט לקבלת משאבים ודרישה מכל התהליכים לבקש משאבים רק בסדר עולה (למשל, ממשאב R1 למשאב R2, וכו') מונעת באופן ישיר היווצרות של מעגל המתנה. אם תהליך מחזיק במשאב R_i, הוא יכול לבקש רק משאבים R_j כאשר j > i. לכן, לא ניתן ליצור שרשרת שבה תהליך ממתין למשאב שמוחזק על ידי תהליך קודם בשרשרת, ובכך נמנעת המתנה מעגלית. אפשרות א' מונעת הדרה הדדית, ב' מונעת 'החזק והמתן' (hold and wait), ו-ד' מונעת 'אי-הפקעה' (no preemption). כל אלו הן אסטרטגיות למניעת קיפאון, אך ג' היא זו שמכוונת ישירות למניעת המתנה מעגלית."
    },
    "difficulty_estimation": "Medium"
  }
}