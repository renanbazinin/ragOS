{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "CPU Scheduling",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 23:58:42",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 2413,
      "total_tokens": 12840
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "CPU Scheduling",
      "Multilevel Feedback Queue"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת במתזמן CPU מסוג Multilevel Feedback Queue (MLFQ) עם שלוש רמות תור:\n*   **Q0:** Round Robin עם קוונטום זמן של 2 יחידות.\n*   **Q1:** Round Robin עם קוונטום זמן של 4 יחידות.\n*   **Q2:** First Come, First Served (FCFS).\n\nכל התהליכים מתחילים בתור Q0.\n*   אם תהליך מנצל את כל קוונטום הזמן שלו (ונשאר לו זמן ריצה נוסף), הוא עובר לתור הבא בעדיפות נמוכה יותר.\n*   אם תהליך מסיים את ריצתו או מפנה את המעבד (לדוגמה, עבור I/O) לפני תום קוונטום הזמן שלו, הוא נשאר באותו תור (וממוקם בסופו).\n*   תורים בעלי עדיפות גבוהה יותר (Q0 > Q1 > Q2) מוגשים תמיד ראשונים.\n\nנתונים ארבעה תהליכים:\n| תהליך | זמן הגעה | זמן ריצה (Burst Time) |\n|---|---|---|\n| P1 | 0 | 7 |\n| P2 | 1 | 3 |\n| P3 | 2 | 2 |\n| P4 | 3 | 8 |\n\nמהו זמן ההמתנה הממוצע (Average Waiting Time) של כל התהליכים במערכת?",
      "code_snippet": null,
      "options": [
        "א. 5.75",
        "ב. 6.00",
        "ג. 6.25",
        "ד. 6.50",
        "ה. אף אחת מהתשובות אינה נכונה."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ה",
      "explanation": "נשרטט את תרשים גאנט ונחשב את זמני ההמתנה בהתאם לכללים:\n\n**כלל מעבר בין תורים:** אם תהליך מנצל את כל קוונטום הזמן שלו (ויש לו עדיין זמן ריצה נוסף), הוא עובר לתור הבא בעדיפות נמוכה יותר. אם הוא מסיים את ריצתו או מפנה את המעבד לפני תום הקוונטום, הוא נשאר באותו תור.\n\n**מעקב אחר ריצת התהליכים:**\n\n1.  **זמן 0-2 (Q0, P1):**\n    *   P1 מתחיל (Burst=7). רץ למשך 2 יחידות (קוונטום Q0).\n    *   Burst P1 נשאר 5. P1 ניצל את כל הקוונטום ויש לו עוד עבודה, לכן עובר ל-Q1.\n    *   מצב תורים: Q0: [], Q1: [P1(5)]\n\n2.  **זמן 2-4 (Q0, P2):**\n    *   P2 מגיע בזמן 1. P3 מגיע בזמן 2.\n    *   Q0: [P2(3), P3(2)]. מתזמן בוחר את P2 (הגיע קודם ל-Q0).\n    *   P2 רץ למשך 2 יחידות (קוונטום Q0).\n    *   Burst P2 נשאר 1. P2 ניצל את כל הקוונטום ויש לו עוד עבודה, לכן עובר ל-Q1.\n    *   מצב תורים: Q0: [P3(2)], Q1: [P1(5), P2(1)] (P1 הגיע ל-Q1 ב-2, P2 הגיע ל-Q1 ב-4)\n\n3.  **זמן 4-6 (Q0, P3):**\n    *   P4 מגיע בזמן 3.\n    *   Q0: [P3(2), P4(8)]. מתזמן בוחר את P3.\n    *   P3 רץ למשך 2 יחידות (קוונטום Q0).\n    *   Burst P3 נשאר 0. P3 סיים את ריצתו. הוא לא עובר תור.\n    *   **P3 Completion Time = 6.**\n    *   מצב תורים: Q0: [P4(8)], Q1: [P1(5), P2(1)]\n\n4.  **זמן 6-8 (Q0, P4):**\n    *   Q0: [P4(8)]. מתזמן בוחר את P4.\n    *   P4 רץ למשך 2 יחידות (קוונטום Q0).\n    *   Burst P4 נשאר 6. P4 ניצל את כל הקוונטום ויש לו עוד עבודה, לכן עובר ל-Q1.\n    *   מצב תורים: Q0: [], Q1: [P1(5), P2(1), P4(6)] (P4 הגיע ל-Q1 ב-8)\n\n5.  **זמן 8-12 (Q1, P1):**\n    *   Q0 ריק. מתזמן בוחר מ-Q1.\n    *   Q1: [P1(5), P2(1), P4(6)]. מתזמן בוחר את P1 (הגיע ראשון ל-Q1).\n    *   P1 רץ למשך 4 יחידות (קוונטום Q1).\n    *   Burst P1 נשאר 1. P1 ניצל את כל הקוונטום ויש לו עוד עבודה, לכן עובר ל-Q2.\n    *   מצב תורים: Q0: [], Q1: [P2(1), P4(6)], Q2: [P1(1)]\n\n6.  **זמן 12-13 (Q1, P2):**\n    *   Q0 ריק. מתזמן בוחר מ-Q1.\n    *   Q1: [P2(1), P4(6)]. מתזמן בוחר את P2.\n    *   P2 רץ למשך 1 יחידה (פחות מקוונטום Q1).\n    *   Burst P2 נשאר 0. P2 סיים את ריצתו. הוא לא עובר תור.\n    *   **P2 Completion Time = 13.**\n    *   מצב תורים: Q0: [], Q1: [P4(6)], Q2: [P1(1)]\n\n7.  **זמן 13-17 (Q1, P4):**\n    *   Q0 ריק. מתזמן בוחר מ-Q1.\n    *   Q1: [P4(6)]. מתזמן בוחר את P4.\n    *   P4 רץ למשך 4 יחידות (קוונטום Q1).\n    *   Burst P4 נשאר 2. P4 ניצל את כל הקוונטום ויש לו עוד עבודה, לכן עובר ל-Q2.\n    *   מצב תורים: Q0: [], Q1: [], Q2: [P1(1), P4(2)] (P4 הגיע ל-Q2 ב-17)\n\n8.  **זמן 17-18 (Q2, P1):**\n    *   Q0, Q1 ריקים. מתזמן בוחר מ-Q2.\n    *   Q2: [P1(1), P4(2)]. מתזמן בוחר את P1 (FCFS).\n    *   P1 רץ למשך 1 יחידה (FCFS עד הסוף).\n    *   Burst P1 נשאר 0. P1 סיים את ריצתו.\n    *   **P1 Completion Time = 18.**\n    *   מצב תורים: Q0: [], Q1: [], Q2: [P4(2)]\n\n9.  **זמן 18-20 (Q2, P4):**\n    *   Q0, Q1 ריקים. מתזמן בוחר מ-Q2.\n    *   Q2: [P4(2)]. מתזמן בוחר את P4.\n    *   P4 רץ למשך 2 יחידות (FCFS עד הסוף).\n    *   Burst P4 נשאר 0. P4 סיים את ריצתו.\n    *   **P4 Completion Time = 20.**\n\n**סיכום זמני השלמה, זמן מחזור וזמן המתנה:**\n\n| תהליך | זמן הגעה | זמן ריצה | זמן השלמה | זמן מחזור (Completion - Arrival) | זמן המתנה (Turnaround - Burst) |\n|---|---|---|---|---|---|\n| P1 | 0 | 7 | 18 | 18 - 0 = 18 | 18 - 7 = 11 |\n| P2 | 1 | 3 | 13 | 13 - 1 = 12 | 12 - 3 = 9 |\n| P3 | 2 | 2 | 6 | 6 - 2 = 4 | 4 - 2 = 2 |\n| P4 | 3 | 8 | 20 | 20 - 3 = 17 | 17 - 8 = 9 |\n\n**זמן ההמתנה הממוצע** = (11 + 9 + 2 + 9) / 4 = 31 / 4 = 7.75\n\nלכן, התשובה הנכונה היא ה'."
    },
    "difficulty_estimation": "Hard"
  }
}