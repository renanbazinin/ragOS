{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Context Switching",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 07:09:44",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2388,
      "output_tokens": 1011,
      "total_tokens": 6464
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "Context Switching",
      "Processes",
      "Threads"
    ],
    "content": {
      "text": "הסבר את ההבדלים במנגנון החלפת הקשר (Context Switch) בין שני תהליכים (processes) שונים לבין שני תהליכונים (threads) השייכים לאותו תהליך. מהן ההשלכות של הבדלים אלה על ביצועי המערכת?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "החלפת קשר בין תהליכים (Process Context Switch):\nכאשר מערכת ההפעלה מבצעת החלפת קשר בין שני תהליכים שונים, עליה לשמור את כל מצבו של התהליך הנוכחי ולטעון את כל מצבו של התהליך הבא. מצב זה כולל:\n1.  אוגרי מעבד (CPU Registers): כולל Program Counter (PC), Stack Pointer (SP), ואוגרים כלליים.\n2.  מידע ניהול זיכרון: זהו ההבדל המהותי ביותר. לכל תהליך יש מרחב כתובות וירטואלי משלו, הממופה לזיכרון פיזי באמצעות טבלאות דפים. לכן, בעת החלפת תהליכים, יש לעדכן את אוגר טבלת הדפים הבסיסי (Page Table Base Register) ב-MMU (Memory Management Unit) כך שיצביע על טבלאות הדפים של התהליך החדש. פעולה זו גוררת בדרך כלל גם ניקוי של ה-TLB (Translation Lookaside Buffer) – מטמון תרגום הכתובות – מה שמוסיף לעלות.\n3.  מצב מערכת ההפעלה: מידע ב-Process Control Block (PCB) כגון קבצים פתוחים, אותות (signals), מידע תזמון, ועוד.\n4.  מחסנית (Stack): המחסנית של מצב הליבה של התהליך.\n\nהחלפת קשר בין תהליכונים (Thread Context Switch) השייכים לאותו תהליך:\nכאשר מערכת ההפעלה מבצעת החלפת קשר בין שני תהליכונים השייכים לאותו תהליך, היא צריכה לשמור ולטעון פחות מידע:\n1.  אוגרי מעבד (CPU Registers): כולל Program Counter (PC), Stack Pointer (SP), ואוגרים כלליים – אלה ספציפיים לכל תהליכון.\n2.  מחסנית (Stack): לכל תהליכון יש מחסנית משלו, ולכן יש לשמור ולטעון אותה.\n\nהבדלים והשלכות:\n*   מרחב כתובות משותף: ההבדל המרכזי הוא שתהליכונים באותו תהליך חולקים את אותו מרחב כתובות וירטואלי. לכן, בעת החלפת קשר בין תהליכונים, אין צורך להחליף את טבלאות הדפים או לנקות את ה-TLB.\n*   עלות (Overhead): החלפת קשר בין תהליכים היא פעולה יקרה ומורכבת יותר מהחלפת קשר בין תהליכונים. העלות הגבוהה נובעת בעיקר מהצורך לטפל בניהול הזיכרון (החלפת טבלאות דפים וניקוי TLB) ומכמות המידע הגדולה יותר שיש לשמור ולשחזר.\n*   ביצועים: בגלל העלות הנמוכה יותר, תהליכונים מאפשרים יצירת מקביליות יעילה יותר בתוך תהליך אחד, במיוחד ביישומים הדורשים שיתוף נתונים תכוף ומינימום תקורה. זו הסיבה שתהליכונים מועדפים לעיתים קרובות על פני תהליכים נפרדים כאשר המטרה היא להשיג מקביליות בתוך אותו יישום."
    },
    "difficulty_estimation": "Medium"
  }
}