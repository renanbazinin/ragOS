{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Paging",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 22:56:44",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 1093,
      "total_tokens": 5055
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "Paging",
      "Virtual Memory",
      "Multi-level Page Tables"
    ],
    "content": {
      "text": "במערכת הפעלה המשתמשת בזיכרון וירטואלי ובטבלאות דפים רב-שכבתיות, נתונים הפרטים הבאים:\n*   גודל כתובת וירטואלית: 64 ביטים.\n*   גודל דף: 4KB.\n*   גודל כניסה בטבלת דפים (PTE): 8 בתים.\n*   כל טבלת דפים (או ספריית דפים) ממלאת דף אחד בדיוק.\n\nכמה גישות לזיכרון פיזי נדרשות, במקרה הגרוע ביותר (TLB miss), כדי לתרגם כתובת וירטואלית ולגשת לנתון בזיכרון, בהנחה שהדף הנדרש כבר נמצא בזיכרון הפיזי (אין page fault)?",
      "code_snippet": null,
      "options": [
        "א. 5",
        "ב. 6",
        "ג. 7",
        "ד. 8",
        "ה. 9"
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "נחשב תחילה את מספר הביטים המוקצים ל-offset ואת מספר הביטים עבור הכתובת הוירטואלית של הדף (VPN):\n*   גודל דף = 4KB = 2^12 בתים. לכן, ה-offset הוא 12 ביטים.\n*   גודל כתובת וירטואלית = 64 ביטים.\n*   מספר ביטים ל-VPN = 64 - 12 = 52 ביטים.\n\nנחשב כמה כניסות (PTEs) יש בכל טבלת דפים וכמה ביטים נדרשים לאינדקס בכל רמה:\n*   גודל טבלת דפים = גודל דף = 4KB.\n*   גודל כניסה בטבלת דפים (PTE) = 8 בתים.\n*   מספר כניסות בטבלת דפים = 4KB / 8 בתים = 4096 / 8 = 512 כניסות.\n*   מספר ביטים לאינדקס בכל רמה = log2(512) = 9 ביטים.\n\nכעת נחשב את מספר הרמות בטבלת הדפים הרב-שכבתית:\n*   יש לנו 52 ביטים עבור ה-VPN.\n*   כל רמה משתמשת ב-9 ביטים.\n*   52 / 9 = 5 עם שארית 7.\n*   לכן, יהיו 5 רמות שכל אחת מהן משתמשת ב-9 ביטים (5 * 9 = 45 ביטים), ורמה נוספת (הרמה הגבוהה ביותר) שתשתמש ב-7 הביטים הנותרים.\n*   סה\"כ 6 רמות של טבלאות דפים.\n\nבמקרה של TLB miss ואין page fault, נדרשות הגישות הבאות:\n1.  גישה לטבלת הדפים ברמה 1 (PD1). (גישת זיכרון אחת)\n2.  גישה לטבלת הדפים ברמה 2 (PD2). (גישת זיכרון אחת)\n3.  גישה לטבלת הדפים ברמה 3 (PD3). (גישת זיכרון אחת)\n4.  גישה לטבלת הדפים ברמה 4 (PD4). (גישת זיכרון אחת)\n5.  גישה לטבלת הדפים ברמה 5 (PD5). (גישת זיכרון אחת)\n6.  גישה לטבלת הדפים ברמה 6 (PT6) כדי למצוא את ה-PTE של דף הנתונים. (גישת זיכרון אחת)\n    עד כה, 6 גישות זיכרון לטבלאות הדפים.\n7.  גישה לנתון עצמו בזיכרון הפיזי. (גישת זיכרון אחת)\n\nסה\"כ גישות לזיכרון פיזי = 6 (לתרגום הכתובת) + 1 (לגישה לנתון) = 7 גישות."
    },
    "difficulty_estimation": "Hard"
  }
}