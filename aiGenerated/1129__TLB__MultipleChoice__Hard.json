{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "TLB",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 08:08:53",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 914,
      "total_tokens": 5307
    }
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "TLB",
      "Virtual Memory",
      "Performance"
    ],
    "content": {
      "text": "מערכת הפעלה משתמשת בטבלת דפים מרובת רמות וב-TLB (Translation Lookaside Buffer) עם 32 כניסות (entries) ובמדיניות החלפה LRU. גודל הדף הוא 4KB. תהליך מבצע לולאה אינסופית שבה הוא ניגש לסירוגין לשני אזורי זיכרון וירטואליים נפרדים, A ו-B. כל אזור בגודל 1MB. התהליך מבצע 1000 גישות אקראיות בתוך אזור A, ולאחר מכן 1000 גישות אקראיות בתוך אזור B, וחוזר חלילה. בהנחה שה-TLB ריק בתחילת הריצה, ושהגישות אקראיות מספיק כדי לגעת בדפים שונים בתוך האזור:\n\nמה תהיה ההשפעה העיקרית על ביצועי ה-TLB לאחר מספר רב של מחזורים (גישות ל-A ואז ל-B)?",
      "code_snippet": null,
      "options": [
        "א. קצב הפגיעות (hit rate) של ה-TLB יהיה גבוה מאוד מכיוון שכל אזור קטן מספיק כדי להיות מוכל ב-TLB.",
        "ב. קצב הפגיעות של ה-TLB יהיה בינוני, מכיוון שה-TLB יכיל לסירוגין את הדפים הפעילים ביותר מכל אזור.",
        "ג. קצב הפגיעות של ה-TLB יהיה נמוך מאוד עקב כשלים רבים ב-TLB (TLB thrashing), כאשר כל מעבר בין אזור A לאזור B יגרום לריקון אפקטיבי של ה-TLB.",
        "ד. ה-TLB לא ישפיע כלל על הביצועים, מכיוון שהגישות אקראיות ומונעות את יעילותו."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "ג. כל אזור זיכרון (A או B) הוא בגודל 1MB, מה ששווה ל-256 דפים (1MB / 4KB). מכיוון של-TLB יש רק 32 כניסות, אף אחד מהאזורים לא יכול להיכנס במלואו ל-TLB. כאשר התהליך ניגש לאזור A, ה-TLB יתמלא בדפים מ-A. מכיוון שהגישות אקראיות ומתפרסות על פני 256 דפים, ה-TLB יחווה כשלים רבים (misses) והחלפות תכופות של כניסות (thrashing) בתוך אזור A. כאשר התהליך עובר לאזור B, כל הכניסות ב-TLB הן עבור דפים מ-A. כל גישה לדף מ-B תהיה כשל ב-TLB, ודפים מ-B יתחילו להחליף את דפי A. לאחר מספר גישות, ה-TLB יתמלא בדפים מ-B, וכניסות A ייפלטו. המעבר חזרה ל-A יחזור על התהליך. מצב זה, שבו ה-TLB \"מתרוקן\" למעשה בכל מעבר בין האזורים הגדולים הללו, מוביל לקצב פגיעות נמוך מאוד ולביצועים ירודים עקב ריבוי כשלים ב-TLB."
    },
    "difficulty_estimation": "Hard"
  }
}