{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Memory Management",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 21:53:48",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1964,
      "output_tokens": 981,
      "total_tokens": 5629
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "Memory Management",
      "Virtual Memory",
      "Paging"
    ],
    "content": {
      "text": "נתונה מערכת עם זיכרון וירטואלי של 2GB, גודל דף של 8KB, וזיכרון פיזי של 16GB.\nמהם הגדלים של ה-VPN, ה-PFN, וכמה זיכרון פיזי תתפוס טבלת דפים (לינארית) של תהליך, במינימום?\nגודל VPN: ________ גודל PFN: ________ גודל טבלה: ________",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "1.   **חישוב גודל VPN (Virtual Page Number):**\n    *   זיכרון וירטואלי הוא 2GB. בביטים, זה 2 * 2^30 = 2^31 בתים. לכן, אורך הכתובת הוירטואלית הוא 31 ביטים.\n    *   גודל דף הוא 8KB. בביטים, זה 8 * 2^10 = 2^3 * 2^10 = 2^13 בתים. לכן, אורך ההיסט (Offset) בתוך הדף הוא 13 ביטים.\n    *   גודל ה-VPN הוא אורך הכתובת הוירטואלית פחות אורך ההיסט: 31 ביטים - 13 ביטים = 18 ביטים.\n\n2.   **חישוב גודל PFN (Physical Frame Number):**\n    *   זיכרון פיזי הוא 16GB. בביטים, זה 16 * 2^30 = 2^4 * 2^30 = 2^34 בתים. לכן, אורך הכתובת הפיזית הוא 34 ביטים.\n    *   אורך ההיסט (Offset) זהה לזה שבכתובת הוירטואלית: 13 ביטים.\n    *   גודל ה-PFN הוא אורך הכתובת הפיזית פחות אורך ההיסט: 34 ביטים - 13 ביטים = 21 ביטים.\n\n3.   **חישוב גודל טבלת דפים לינארית (במינימום):**\n    *   מספר הדפים הוירטואליים הכולל בתהליך הוא גודל הזיכרון הוירטואלי חלקי גודל הדף: 2GB / 8KB = (2^31 בתים) / (2^13 בתים) = 2^(31-13) = 2^18 דפים.\n    *   טבלת דפים לינארית מכילה רשומה אחת (PTE) עבור כל דף וירטואלי, ולכן יש בה 2^18 רשומות.\n    *   כל רשומת PTE צריכה להכיל לפחות את ה-PFN. גודל ה-PFN הוא 21 ביטים. כדי לאחסן 21 ביטים, נדרשים 3 בתים (שכן 2 בתים מכילים 16 ביטים ו-3 בתים מכילים 24 ביטים, וזה המספר המינימלי של בתים הנדרש).\n    *   גודל טבלת הדפים הכולל הוא מספר הרשומות כפול גודל רשומה: 2^18 רשומות * 3 בתים/רשומה = 262,144 * 3 בתים = 786,432 בתים.\n    *   להמרה ל-KB: 786,432 בתים / 1024 בתים/KB = 768KB."
    },
    "difficulty_estimation": "Medium"
  }
}