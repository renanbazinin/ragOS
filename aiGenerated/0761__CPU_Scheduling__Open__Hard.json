{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "CPU Scheduling",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 00:07:45",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2859,
      "output_tokens": 2747,
      "total_tokens": 16949
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "CPU Scheduling",
      "Preemptive Priority",
      "Process Management"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת באלגוריתם תזמון מעבד מסוג Preemptive Priority (עדיפות נמוכה יותר = עדיפות גבוהה יותר) עם תקורה של החלפת הקשר (Context Switch) של 1ms. במקרה של שוויון עדיפויות, התהליך בעל מזהה נמוך יותר (PID) יקבל קדימות. להלן רשימת תהליכים עם זמני הגעה, עדיפויות ורצפי פעולות (CPU burst, I/O burst):\n\n*   P1: (זמן הגעה 0ms, עדיפות 3, רצף: CPU 5ms, I/O 3ms, CPU 3ms)\n*   P2: (זמן הגעה 2ms, עדיפות 1, רצף: CPU 4ms, I/O 2ms, CPU 2ms)\n*   P3: (זמן הגעה 4ms, עדיפות 2, רצף: CPU 6ms)\n*   P4: (זמן הגעה 6ms, עדיפות 4, רצף: CPU 2ms, I/O 1ms, CPU 1ms)\n\nיש להניח כי תהליך שסיים פעולת I/O חוזר לתור המוכנים (Ready Queue) עם אותה עדיפות מקורית. נדרש לחשב ולפרט את כל השלבים והחישובים:\n\n1.  זמן ההמתנה הממוצע (Average Waiting Time) של התהליכים.\n2.  זמן המחזור הממוצע (Average Turnaround Time) של התהליכים.\n3.  ניצולת המעבד (CPU Utilization) הכוללת.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "נבצע סימולציה מפורטת של תזמון המעבד:\n\n**נתונים:**\n*   P1: הגעה 0, עדיפות 3, CPU [5], I/O [3], CPU [3]\n*   P2: הגעה 2, עדיפות 1, CPU [4], I/O [2], CPU [2]\n*   P3: הגעה 4, עדיפות 2, CPU [6]\n*   P4: הגעה 6, עדיפות 4, CPU [2], I/O [1], CPU [1]\n*   תקורה החלפת קשר (CS): 1ms\n*   עדיפות נמוכה יותר = גבוהה יותר (1=הכי גבוה).\n*   שוויון עדיפויות: PID נמוך יותר קודם.\n\n**מעקב אחר מצב המערכת (גאנט צ'ארט מפורט):**\n\n*   **זמן 0:** P1 מגיע. P1 מתחיל לרוץ.\n    *   CPU: P1 (5ms) (נותר: 5)\n*   **זמן 2:** P2 מגיע (עדיפות 1). P2 גבוה יותר מ-P1 (עדיפות 3).\n    *   P1 נקטע (רץ 2ms). P1 נותר: 3ms.\n    *   CS (P1 -> P2): 1ms.\n*   **זמן 3:** P2 מתחיל לרוץ.\n    *   CPU: P2 (4ms) (נותר: 4)\n*   **זמן 4:** P3 מגיע (עדיפות 2). P2 ממשיך לרוץ (עדיפות 1).\n*   **זמן 6:** P4 מגיע (עדיפות 4). P2 ממשיך לרוץ (עדיפות 1).\n*   **זמן 7:** P2 מסיים CPU burst ראשון (4ms). P2 עובר ל-I/O (2ms). יסיים I/O ב-7+2=9ms. P2 נותר CPU: 2ms.\n    *   CS (P2 -> P3): 1ms (P3 בעדיפות הגבוהה ביותר בתור המוכנים).\n*   **זמן 8:** P3 מתחיל לרוץ.\n    *   CPU: P3 (6ms) (נותר: 6)\n*   **זמן 9:** P2 מסיים I/O וחוזר לתור המוכנים (עדיפות 1). P2 גבוה מ-P3 (עדיפות 2).\n    *   P3 נקטע (רץ 1ms). P3 נותר: 5ms.\n    *   CS (P3 -> P2): 1ms.\n*   **זמן 10:** P2 מתחיל לרוץ (CPU burst שני).\n    *   CPU: P2 (2ms) (נותר: 2)\n*   **זמן 12:** P2 מסיים CPU burst שני. P2 מסיים.\n    *   CS (P2 -> P3): 1ms (P3 בעדיפות הגבוהה ביותר בתור המוכנים).\n*   **זמן 13:** P3 ממשיך לרוץ.\n    *   CPU: P3 (5ms) (נותר: 5)\n*   **זמן 18:** P3 מסיים CPU burst. P3 מסיים.\n    *   CS (P3 -> P1): 1ms (P1 בעדיפות הגבוהה ביותר בתור המוכנים, P=3. P4 הוא P=4).\n*   **זמן 19:** P1 ממשיך לרוץ (CPU burst ראשון).\n    *   CPU: P1 (3ms) (נותר: 3)\n*   **זמן 22:** P1 מסיים CPU burst ראשון (סה\"כ 5ms). P1 עובר ל-I/O (3ms). יסיים I/O ב-22+3=25ms. P1 נותר CPU: 3ms.\n    *   CS (P1 -> P4): 1ms (P4 בעדיפות הגבוהה ביותר בתור המוכנים).\n*   **זמן 23:** P4 מתחיל לרוץ (CPU burst ראשון).\n    *   CPU: P4 (2ms) (נותר: 2)\n*   **זמן 25:** P1 מסיים I/O וחוזר לתור המוכנים (עדיפות 3). P1 גבוה מ-P4 (עדיפות 4).\n    *   P4 נקטע (רץ 2ms). P4 עובר ל-I/O (1ms). יסיים I/O ב-25+1=26ms. P4 נותר CPU: 1ms.\n    *   CS (P4 -> P1): 1ms.\n*   **זמן 26:** P1 מתחיל לרוץ (CPU burst שני).\n    *   CPU: P1 (3ms) (נותר: 3)\n*   **זמן 27:** P4 מסיים I/O וחוזר לתור המוכנים (עדיפות 4). P1 ממשיך לרוץ (עדיפות 3).\n*   **זמן 29:** P1 מסיים CPU burst שני. P1 מסיים.\n    *   CS (P1 -> P4): 1ms.\n*   **זמן 30:** P4 מתחיל לרוץ (CPU burst שני).\n    *   CPU: P4 (1ms) (נותר: 1)\n*   **זמן 31:** P4 מסיים CPU burst שני. P4 מסיים.\n\n**חישוב מדדים:**\n\n**P1:**\n*   זמן הגעה (AT): 0\n*   זמן סיום (CT): 29\n*   זמן CPU כולל: 5 + 3 = 8ms\n*   זמן המתנה (WT) = (2-2) + (19-2) + (25-26) = 0 + 17 + 1 = 18ms\n*   זמן מחזור (TAT) = CT - AT = 29 - 0 = 29ms\n\n**P2:**\n*   זמן הגעה (AT): 2\n*   זמן סיום (CT): 12\n*   זמן CPU כולל: 4 + 2 = 6ms\n*   זמן המתנה (WT) = (3-2) + (10-9) = 1 + 1 = 2ms\n*   זמן מחזור (TAT) = CT - AT = 12 - 2 = 10ms\n\n**P3:**\n*   זמן הגעה (AT): 4\n*   זמן סיום (CT): 18\n*   זמן CPU כולל: 1 + 5 = 6ms\n*   זמן המתנה (WT) = (8-4) + (13-9) = 4 + 4 = 8ms\n*   זמן מחזור (TAT) = CT - AT = 18 - 4 = 14ms\n\n**P4:**\n*   זמן הגעה (AT): 6\n*   זמן סיום (CT): 31\n*   זמן CPU כולל: 2 + 1 = 3ms\n*   זמן המתנה (WT) = (23-6) + (30-26) = 17 + 4 = 21ms\n*   זמן מחזור (TAT) = CT - AT = 31 - 6 = 25ms\n\n**סיכום מדדים:**\n\n1.  **זמן ההמתנה הממוצע (Average Waiting Time):**\n    (18 + 2 + 8 + 21) / 4 = 49 / 4 = **12.25ms**\n\n2.  **זמן המחזור הממוצע (Average Turnaround Time):**\n    (29 + 10 + 14 + 25) / 4 = 78 / 4 = **19.5ms**\n\n3.  **ניצולת המעבד (CPU Utilization):**\n    *   זמן ריצת CPU כולל (ללא CS): 8 (P1) + 6 (P2) + 6 (P3) + 3 (P4) = 23ms\n    *   זמן החלפות קשר (CS) כולל: 8 החלפות * 1ms/החלפה = 8ms\n    *   זמן סיום סימולציה כולל: 31ms\n    *   זמן סרק (Idle Time): 0ms (המעבד היה תמיד עסוק בתהליך או ב-CS מרגע הגעת התהליך הראשון ועד סיום האחרון).\n    *   ניצולת מעבד = (זמן ריצת CPU כולל) / (זמן סיום סימולציה כולל) = 23 / 31 = **74.19%**"
    },
    "difficulty_estimation": "Hard"
  }
}