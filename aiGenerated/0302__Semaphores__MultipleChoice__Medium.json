{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Semaphores",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 20:38:32",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1032,
      "output_tokens": 484,
      "total_tokens": 3829
    },
    "subject": "Concurrency"
  },
  "question": {
    "id": 4,
    "type": "MultipleChoice",
    "topic": [
      "Semaphores",
      "Synchronization"
    ],
    "content": {
      "text": "נתון סמפור (semaphore) בשם `my_semaphore` אשר איתחלנו לערך 3. חמישה תהליכים (threads) מנסים לבצע פעולת `sem_wait(&my_semaphore)`. כמה תהליכים לכל היותר יוכלו לעבור את פעולת ה-`sem_wait` ולהיכנס לקטע הקריטי באופן מיידי, בטרם יתבצעו פעולות `sem_post` כלשהן?",
      "code_snippet": "sem_t my_semaphore;\nsem_init(&my_semaphore, 0, 3); // Initial value is 3\n\n// Five threads concurrently try to execute:\n// sem_wait(&my_semaphore);\n// // Critical section code\n// sem_post(&my_semaphore);",
      "options": [
        "א. 1",
        "ב. 2",
        "ג. 3",
        "ד. 5",
        "ה. אף תשובה אינה נכונה"
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "סמפור המאותחל לערך N מאפשר ל-N תהליכים להיכנס לקטע קריטי (או להשתמש במשאב) באופן מיידי. במקרה זה, הסמפור אותחל לערך 3, ולכן שלושה תהליכים יוכלו לבצע `sem_wait` בהצלחה ולעבור לקטע הקריטי. התהליכים הרביעי והחמישי יחסמו עד שאחד מהתהליכים שכבר נכנסו יבצע `sem_post` וישחרר 'אישור' (permit)."
    },
    "difficulty_estimation": "Medium"
  }
}