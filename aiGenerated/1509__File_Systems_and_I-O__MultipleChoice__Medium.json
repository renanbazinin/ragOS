{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems and I/O",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 10:58:56",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1233,
      "output_tokens": 711,
      "total_tokens": 4423
    }
  },
  "question": {
    "id": 6,
    "type": "MultipleChoice",
    "topic": [
      "File Systems",
      "I/O",
      "System Calls",
      "Buffering"
    ],
    "content": {
      "text": "נתון קובץ בגודל 1MB. איזו מהטענות הבאות נכונה לגבי מספר קריאות המערכת (system calls) לליבה בעת קריאת כל תוכנו, בהשוואה בין שימוש בפונקציה `read()` לקריאת תו בודד בכל פעם, לבין שימוש בפונקציה `fgetc()`?",
      "code_snippet": null,
      "options": [
        "א. `read()` תבצע קריאת מערכת אחת בלבד, בעוד ש-`fgetc()` תבצע קריאת מערכת אחת לכל תו.",
        "ב. אם `read()` נקראת לקריאת תו בודד בכל פעם, היא תבצע קריאת מערכת אחת לכל תו, בעוד ש-`fgetc()` תבצע מספר קטן משמעותית של קריאות מערכת.",
        "ג. שתי הפונקציות יבצעו מספר דומה של קריאות מערכת, אך `fgetc()` תהיה מהירה יותר.",
        "ד. שתי הפונקציות יבצעו מספר קטן של קריאות מערכת, אך `read()` תהיה מהירה יותר.",
        "ה. כל התשובות האחרות אינן נכונות."
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "ב. הפונקציה `read()` היא קריאת מערכת (system call) ישירה לליבה. אם היא נקראת עם גודל של תו בודד (לדוגמה, `read(fd, &c, 1)`), היא תבצע קריאת מערכת לכל תו שנקרא מהקובץ. עבור קובץ בגודל 1MB, זה יתורגם למיליון קריאות מערכת. לעומת זאת, הפונקציה `fgetc()` היא פונקציה מספריית Standard I/O שמבצעת אגירה (buffering) בצד המשתמש (user-space). היא קוראת בלוקים גדולים יותר של נתונים מהליבה (לדוגמה, 4KB או 8KB) באמצעות קריאת מערכת אחת, ולאחר מכן מחזירה תווים מהמאגר הפנימי שלה. לכן, עבור קובץ גדול, `fgetc()` תבצע מספר קטן בהרבה של קריאות מערכת לליבה בהשוואה לשימוש ב-`read()` לקריאת תו בודד בכל פעם. זהו יתרון ביצועים משמעותי של ספריות I/O סטנדרטיות."
    },
    "difficulty_estimation": "Medium"
  }
}