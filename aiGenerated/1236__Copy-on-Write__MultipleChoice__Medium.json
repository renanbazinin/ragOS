{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Copy-on-Write",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 08:52:32",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1142,
      "output_tokens": 763,
      "total_tokens": 4080
    }
  },
  "question": {
    "id": 6,
    "type": "MultipleChoice",
    "topic": [
      "Copy-on-Write",
      "Virtual Memory",
      "Processes"
    ],
    "content": {
      "text": "נתון תהליך אב המבצע קריאה וכתיבה לכתובת זיכרון מסוימת. לאחר מכן, תהליך האב מבצע קריאת מערכת `fork()`. מיד לאחר ה-`fork()`, הן תהליך האב והן תהליך הבן מנסים לכתוב לכתובת הזיכרון המקורית (שכעת משותפת) פעמיים כל אחד. כמה העתקות של דף הזיכרון המכיל כתובת זו יתרחשו בסך הכל כתוצאה מפעולות הכתיבה הללו, בהנחה שמערכת ההפעלה משתמשת במנגנון Copy-on-Write?",
      "code_snippet": null,
      "options": [
        "א. 0",
        "ב. 1",
        "ג. 2",
        "ד. 4",
        "ה. תלוי בארכיטקטורת המעבד"
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ג",
      "explanation": "ג. 2. כאשר תהליך האב מבצע `fork()`, דף הזיכרון המשותף מסומן כקריאה בלבד (read-only) עבור שני התהליכים.\n1.  הכתיבה הראשונה של תהליך האב: גורמת ל-page fault. מערכת ההפעלה מעתיקה את הדף, מעדכנת את טבלת הדפים של האב כך שתצביע על העותק החדש, ומסמנת אותו כניתן לכתיבה עבור האב. הדף המקורי נשאר מסומן כקריאה בלבד עבור הבן. (סה\"כ: העתקה 1)\n2.  הכתיבה השנייה של תהליך האב: לא גורמת ל-page fault, שכן לאב כבר יש עותק משלו וניתן לכתיבה. (סה\"כ: 0 העתקות נוספות)\n3.  הכתיבה הראשונה של תהליך הבן: גורמת ל-page fault (שכן הדף שלו עדיין מסומן כקריאה בלבד). מערכת ההפעלה מעתיקה את הדף המקורי (שעדיין מסומן כקריאה בלבד), מעדכנת את טבלת הדפים של הבן שתצביע על העותק החדש, ומסמנת אותו כניתן לכתיבה עבור הבן. (סה\"כ: העתקה 1 נוספת)\n4.  הכתיבה השנייה של תהליך הבן: לא גורמת ל-page fault, שכן לבן כבר יש עותק משלו וניתן לכתיבה. (סה\"כ: 0 העתקות נוספות)\nבסך הכל, מתרחשות 2 העתקות של דף הזיכרון."
    },
    "difficulty_estimation": "Medium"
  }
}