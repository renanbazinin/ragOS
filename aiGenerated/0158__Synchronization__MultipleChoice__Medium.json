{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Synchronization",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 19:45:55",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1118,
      "output_tokens": 518,
      "total_tokens": 3568
    }
  },
  "question": {
    "id": 101,
    "type": "MultipleChoice",
    "topic": [
      "Synchronization",
      "Mutexes",
      "POSIX Threads"
    ],
    "content": {
      "text": "חוט ביצוע (thread) מנסה לרכוש מנעול (mutex) מסוג PTHREAD_MUTEX_NORMAL (הגדרת ברירת מחדל של POSIX mutex) שכבר נרכש על ידו, מבלי לשחרר אותו קודם. מהי התוצאה הסבירה ביותר של הניסיון השני לרכישת המנעול?",
      "code_snippet": null,
      "options": [
        "א. החוט ירכוש את המנעול שוב בהצלחה וימשיך בביצוע.",
        "ב. החוט ייתקע (deadlock) בניסיון הרכישה השני.",
        "ג. קריאת ה-`pthread_mutex_lock` השנייה תחזיר שגיאה.",
        "ד. המערכת תבצע החלפת הקשר לחוט אחר ותיתן לו הזדמנות לרכוש את המנעול."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "מנעול מסוג PTHREAD_MUTEX_NORMAL (התנהגות ברירת המחדל של POSIX mutex) אינו מאפשר רכישה חוזרת על ידי אותו חוט שכבר מחזיק בו. אם חוט מנסה לרכוש מנעול כזה פעם שנייה מבלי לשחרר אותו קודם, הוא ייחסם בניסיון הרכישה השני, מה שיוביל ל-deadlock עצמי (self-deadlock). זוהי התנהגות מוגדרת בתקן POSIX כדי למנוע טעויות תכנות נפוצות. מנעולים רקורסיביים (PTHREAD_MUTEX_RECURSIVE) מאפשרים רכישה חוזרת, אך זה לא המקרה כאן."
    },
    "difficulty_estimation": "Medium"
  }
}