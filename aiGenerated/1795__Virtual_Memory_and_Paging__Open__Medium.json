{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory and Paging",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 20:50:57",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2075,
      "output_tokens": 1523,
      "total_tokens": 7606
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "Virtual Memory",
      "Paging",
      "Memory Management"
    ],
    "content": {
      "text": "נתונה מערכת עם זיכרון וירטואלי של 2GB, זיכרון פיזי של 512MB, וגודל דף של 4KB.\nכל כניסה בטבלת הדפים (PTE) מכילה מספר מסגרת פיזית (PFN) ושלושה ביטים נוספים: valid, dirty, ו-accessed.\n\n1. מהם הגדלים של ה-VPN וה-PFN (בביטים)?\n    גודל VPN: ________ ביטים\n    גודל PFN: ________ ביטים\n\n2. בהנחה שכל PTE מעוגל לגודל הבייט השלם הקרוב ביותר בחזקת 2 (לדוגמה, 10 ביטים יעוגלו ל-2 בתים), מהו גודל טבלת הדפים הלינארית של תהליך בודד (בבתים)?\n    גודל טבלה: ________ בתים\n\n3. המערכת אינה תומכת בהחלפה (swapping). רבע מהזיכרון הפיזי שמור למערכת ההפעלה. כל תהליך משתמש ב-10 דפים עבור קוד (משותף לכל התהליכים), 5 דפים עבור נתונים (פרטי), ו-3 דפים עבור מחסנית (פרטי).\n    כמה תהליכי משתמש יכולים לרוץ במקביל במערכת, כולל התהליך הראשי?\n    מספר תהליכים: ________",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "1.  **חישוב VPN ו-PFN:**\n    *   **זיכרון וירטואלי:** 2GB = 2^31 בתים. לכן, כתובת וירטואלית היא באורך 31 ביטים.\n    *   **גודל דף:** 4KB = 2^12 בתים. לכן, ההיסט (offset) הוא באורך 12 ביטים.\n    *   **גודל VPN:** כתובת וירטואלית (31 ביטים) - היסט (12 ביטים) = 19 ביטים.\n    *   **זיכרון פיזי:** 512MB = 2^29 בתים. לכן, כתובת פיזית היא באורך 29 ביטים.\n    *   **גודל PFN:** כתובת פיזית (29 ביטים) - היסט (12 ביטים) = 17 ביטים.\n    *   **תשובה:** VPN = 19 ביטים, PFN = 17 ביטים.\n\n2.  **חישוב גודל טבלת דפים:**\n    *   כל PTE מכיל 17 ביטים עבור PFN + 3 ביטים (valid, dirty, accessed) = 20 ביטים בסך הכל.\n    *   בהתאם לדרישת העיגול, 20 ביטים יעוגלו ל-4 בתים (32 ביטים), שהיא חזקה קרובה של 2 (2^2 בתים).\n    *   מספר הדפים הוירטואליים הכולל הוא 2^VPN = 2^19 דפים.\n    *   גודל טבלת הדפים = (מספר הדפים הוירטואליים) * (גודל PTE) = 2^19 * 4 בתים = 2^19 * 2^2 בתים = 2^21 בתים = 2MB.\n    *   **תשובה:** 2MB (או 2^21 בתים).\n\n3.  **חישוב מספר תהליכי משתמש:**\n    *   **מספר מסגרות פיזיות כולל:** 512MB / 4KB = 2^29 / 2^12 = 2^17 = 131072 מסגרות.\n    *   **מסגרות שמורות למערכת ההפעלה:** רבע מהזיכרון הפיזי, כלומר 1/4 מ-131072 מסגרות = 32768 מסגרות.\n    *   **מסגרות זמינות לתהליכי משתמש:** 131072 - 32768 = 98304 מסגרות.\n    *   **שימוש במסגרות לכל תהליך:**\n        *   טבלת הדפים של תהליך: 2MB / 4KB = 512 מסגרות (פרטי לכל תהליך).\n        *   קוד: 10 דפים (משותף לכל התהליכים, נתפס פעם אחת בסך הכל).\n        *   נתונים: 5 דפים (פרטי לכל תהליך).\n        *   מחסנית: 3 דפים (פרטי לכל תהליך).\n        *   סה\"כ מסגרות פרטיות לכל תהליך (כולל טבלת דפים) = 512 (טבלת דפים) + 5 (נתונים) + 3 (מחסנית) = 520 מסגרות.\n    *   **חישוב מספר התהליכים (N):**\n        *   מסגרות משותפות (קוד) + N * מסגרות פרטיות <= מסגרות זמינות\n        *   10 + N * 520 <= 98304\n        *   N * 520 <= 98304 - 10\n        *   N * 520 <= 98294\n        *   N <= 98294 / 520\n        *   N <= 189.02...\n    *   לכן, ניתן להריץ לכל היותר 189 תהליכי משתמש.\n    *   **תשובה:** 189 תהליכים."
    },
    "difficulty_estimation": "Medium"
  }
}