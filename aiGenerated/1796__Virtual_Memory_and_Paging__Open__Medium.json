{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory and Paging",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 20:51:17",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2075,
      "output_tokens": 1227,
      "total_tokens": 6796
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "Virtual Memory",
      "Paging",
      "Two-Level Paging",
      "Memory Management"
    ],
    "content": {
      "text": "נתונה מערכת עם זיכרון וירטואלי של 4GB, זיכרון פיזי של 512MB, וגודל דף של 4KB. המערכת משתמשת בטבלאות דפים דו-שכבתיות (Two-Level Page Table), כאשר כל כניסה בטבלת דפים (PTE) היא בגודל 4 בתים.\n\nא. מהם הגדלים (בביטים) של השדות P1, P2 וה-Offset בכתובת וירטואלית?\n   P1: ________ P2: ________ Offset: ________\nב. מה גודל ה-PFN (בביטים)?\n   PFN: ________\nג. מה גודל טבלת הדפים הראשית (Page Directory) בבתים?\n   גודל: ________\nד. מה גודל טבלת דפים משנית אחת (בבתים)?\n   גודל: ________\nה. נניח שתהליך מסוים משתמש ב-1000 דפים וירטואליים. דפים אלו מפוזרים באופן כזה שהם דורשים 5 טבלאות דפים משניות שונות. כמה זיכרון פיזי (בבתים) תופסות כל טבלאות הדפים עבור תהליך זה?\n   זיכרון: ________",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "א. חישוב שדות הכתובת הווירטואלית:\n   *   זיכרון וירטואלי 4GB = 2^32 בתים, לכן כתובת וירטואלית היא באורך 32 ביטים.\n   *   גודל דף 4KB = 2^12 בתים, לכן ה-Offset הוא באורך 12 ביטים.\n   *   מספר דף וירטואלי (VPN) = 32 - 12 = 20 ביטים.\n   *   כל כניסה בטבלת דפים (PTE) היא בגודל 4 בתים.\n   *   מספר הכניסות בטבלת דפים שיכולות להיכנס לדף אחד (4KB) הוא 4KB / 4B = 1024 כניסות.\n   *   לכן, P1 ו-P2 (שניהם אינדקסים לטבלאות דפים) צריכים להיות באורך log2(1024) = 10 ביטים כל אחד.\n   *   P1: 10 ביטים, P2: 10 ביטים, Offset: 12 ביטים.\n\nב. חישוב ה-PFN:\n   *   זיכרון פיזי 512MB = 2^29 בתים, לכן כתובת פיזית היא באורך 29 ביטים.\n   *   ה-Offset זהה לזה שבכתובת הווירטואלית: 12 ביטים.\n   *   מספר מסגרת פיזית (PFN) = 29 - 12 = 17 ביטים.\n\nג. גודל טבלת הדפים הראשית (Page Directory):\n   *   טבלת הדפים הראשית מכילה 2^P1 כניסות. P1 הוא 10 ביטים, לכן 2^10 = 1024 כניסות.\n   *   כל כניסה היא בגודל 4 בתים.\n   *   גודל טבלת הדפים הראשית = 1024 כניסות * 4 בתים/כניסה = 4096 בתים (4KB).\n\nד. גודל טבלת דפים משנית אחת:\n   *   טבלת דפים משנית מכילה 2^P2 כניסות. P2 הוא 10 ביטים, לכן 2^10 = 1024 כניסות.\n   *   כל כניסה היא בגודל 4 בתים.\n   *   גודל טבלת דפים משנית אחת = 1024 כניסות * 4 בתים/כניסה = 4096 בתים (4KB).\n\nה. זיכרון פיזי שתופסות טבלאות הדפים עבור התהליך:\n   *   תהליך דורש טבלת דפים ראשית אחת: 4KB.\n   *   התהליך דורש 5 טבלאות דפים משניות: 5 * 4KB = 20KB.\n   *   סה\"כ זיכרון פיזי לטבלאות הדפים = 4KB + 20KB = 24KB."
    },
    "difficulty_estimation": "Medium"
  }
}