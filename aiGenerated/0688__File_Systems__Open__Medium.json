{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 23:34:28",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2275,
      "output_tokens": 1837,
      "total_tokens": 7947
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "File Systems",
      "Fragmentation",
      "Disk Allocation"
    ],
    "content": {
      "text": "נתונה מערכת קבצים פשוטה המשתמשת בהקצאה רציפה (contiguous allocation) של בלוקים. גודל בלוק הוא 4KB. הדיסק כולל 100 בלוקים זמינים של DATA, ומערכת הקבצים מתחילה כאשר כל הבלוקים פנויים ורצופים (בלוקים 0-99). בוצעו הפעולות הבאות:\n1. נוצר קובץ A בגודל 10KB.\n2. נוצר קובץ B בגודל 5KB.\n3. נוצר קובץ C בגודל 14KB.\n4. קובץ B נמחק.\n5. נוצר קובץ D בגודל 7KB.\n\nא. תאר את מצב בלוקי ה-DATA הפנויים והתפוסים לאחר כל שלב. ציין במפורש את מספרי הבלוקים.\nב. האם נוצרה פרגמנטציה פנימית או חיצונית? אם כן, היכן ומתי? חשב את גודל הפרגמנטציה הפנימית עבור כל קובץ שנוצר.\nג. האם קובץ D הצליח להיווצר? אם כן, היכן הוא ממוקם? אם לא, מדוע?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": false,
      "correct_option": null,
      "explanation": "פתרון:\n\nגודל בלוק: 4KB.\nסה\"כ בלוקים: 100 (ממוספרים 0-99).\n\nא. מצב בלוקי ה-DATA לאחר כל שלב:\n\n**מצב התחלתי:**\n*   בלוקים פנויים: 0-99 (100 בלוקים).\n*   בלוקים תפוסים: אין.\n\n**לאחר שלב 1 (קובץ A, גודל 10KB):**\n*   קובץ A דורש ceil(10KB / 4KB) = 3 בלוקים. הוא מקבל את הבלוקים הרצופים הראשונים הזמינים.\n*   בלוקים תפוסים: A תופס את בלוקים 0, 1, 2.\n*   בלוקים פנויים: 3-99 (97 בלוקים).\n\n**לאחר שלב 2 (קובץ B, גודל 5KB):**\n*   קובץ B דורש ceil(5KB / 4KB) = 2 בלוקים.\n*   בלוקים תפוסים: A תופס 0, 1, 2. B תופס 3, 4.\n*   בלוקים פנויים: 5-99 (95 בלוקים).\n\n**לאחר שלב 3 (קובץ C, גודל 14KB):**\n*   קובץ C דורש ceil(14KB / 4KB) = 4 בלוקים.\n*   בלוקים תפוסים: A תופס 0, 1, 2. B תופס 3, 4. C תופס 5, 6, 7, 8.\n*   בלוקים פנויים: 9-99 (91 בלוקים).\n\n**לאחר שלב 4 (קובץ B נמחק):**\n*   הבלוקים של קובץ B (3, 4) משתחררים.\n*   בלוקים תפוסים: A תופס 0, 1, 2. C תופס 5, 6, 7, 8.\n*   בלוקים פנויים: 3, 4 (2 בלוקים) ו-9-99 (91 בלוקים). סה\"כ 93 בלוקים פנויים.\n\n**לאחר שלב 5 (קובץ D, גודל 7KB):**\n*   קובץ D דורש ceil(7KB / 4KB) = 2 בלוקים. מערכת הקבצים תחפש מקום רציף של 2 בלוקים.\n*   היא תמצא את הבלוקים 3, 4 שהתפנו.\n*   בלוקים תפוסים: A תופס 0, 1, 2. D תופס 3, 4. C תופס 5, 6, 7, 8.\n*   בלוקים פנויים: 9-99 (91 בלוקים). סה\"כ 91 בלוקים פנויים.\n\nב. פרגמנטציה:\n\n**פרגמנטציה פנימית (Internal Fragmentation):** נוצרת כאשר גודל הקובץ אינו כפולה מדויקת של גודל הבלוק, ובלוקים מוקצים לקובץ אך לא מנוצלים במלואם.\n*   **קובץ A (10KB):** הוקצו 3 בלוקים (12KB). פרגמנטציה פנימית: 12KB - 10KB = 2KB.\n*   **קובץ B (5KB):** הוקצו 2 בלוקים (8KB). פרגמנטציה פנימית: 8KB - 5KB = 3KB.\n*   **קובץ C (14KB):** הוקצו 4 בלוקים (16KB). פרגמנטציה פנימית: 16KB - 14KB = 2KB.\n*   **קובץ D (7KB):** הוקצו 2 בלוקים (8KB). פרגמנטציה פנימית: 8KB - 7KB = 1KB.\n\n**פרגמנטציה חיצונית (External Fragmentation):** נוצרת כאשר קיימים מספיק בלוקים פנויים בסך הכל כדי לאחסן קובץ, אך הם אינם רצופים (כלומר, קיימים בלוקים תפוסים המפרידים בין בלוקים פנויים), ולכן לא ניתן להקצות מקום לקובץ המצריך מקטע רציף גדול יותר.\n*   פרגמנטציה חיצונית נוצרה **לאחר שלב 4**, כאשר קובץ B נמחק. לפני מחיקת B, כל הבלוקים הפנויים (9-99) היוו מקטע רציף אחד. לאחר מחיקת B, נוצרו שני מקטעים פנויים רצופים נפרדים: (3, 4) ו-(9-99). למרות שסה\"כ יש 93 בלוקים פנויים, הם אינם יוצרים מקטע רציף אחד של 93 בלוקים.\n\nג. יצירת קובץ D:\n\nכן, קובץ D **הצליח להיווצר**.\nקובץ D דורש 2 בלוקים רצופים. לאחר מחיקת קובץ B בשלב 4, הבלוקים 3 ו-4 התפנו ויצרו מקטע רציף של 2 בלוקים. מערכת הקבצים השתמשה במקטע זה כדי לאחסן את קובץ D. לכן, קובץ D ממוקם בבלוקים 3, 4."
    },
    "difficulty_estimation": "Medium"
  }
}