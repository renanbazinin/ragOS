{
  "metadata": {
    "source": "ai_generated",
    "topic_hint": "Semaphores",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 20:36:22",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1032,
      "output_tokens": 757,
      "total_tokens": 5349
    },
    "subject": "Concurrency"
  },
  "question": {
    "id": 1,
    "type": "MultipleChoice",
    "topic": [
      "Semaphores",
      "Synchronization"
    ],
    "content": {
      "text": "נתון סמפור מונה (counting semaphore) בשם `resource_access` אשר מאותחל לערך `3`. מספר תהליכים מנסים לגשת למשאב משותף המוגן על ידי סמפור זה. כל תהליך מבצע `wait(&resource_access)` לפני הכניסה לאזור קריטי ו-`signal(&resource_access)` ביציאה ממנו.\nבהינתן ש-2 תהליכים כבר נמצאים בתוך האזור הקריטי, וכעת 5 תהליכים *נוספים* מנסים להיכנס לאזור הקריטי (כלומר, מבצעים `wait()`), מה יהיה ערכו הסופי של הסמפור `resource_access` מיד לאחר שכל 5 התהליכים הנוספים ינסו לבצע `wait()`?",
      "code_snippet": null,
      "options": [
        "א. 1",
        "ב. 0",
        "ג. -2",
        "ד. -4",
        "ה. אף אחת מהתשובות אינה נכונה."
      ]
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ד",
      "explanation": "הסמפור `resource_access` מאותחל לערך 3.\nכאשר 2 תהליכים כבר נמצאים באזור הקריטי, פירוש הדבר שהם ביצעו בהצלחה פעולת `wait()` מבלי לבצע עדיין `signal()`.\nלכן, ערכו של הסמפור יורד ב-2: `3 - 2 = 1`.\n\nכעת, 5 תהליכים *נוספים* מנסים להיכנס לאזור הקריטי (מבצעים `wait()`):\n1. התהליך הראשון מתוך ה-5 מבצע `wait()`: ערך הסמפור יורד ל-`1 - 1 = 0`. תהליך זה נכנס לאזור הקריטי.\n2. התהליך השני מתוך ה-5 מבצע `wait()`: ערך הסמפור יורד ל-`0 - 1 = -1`. תהליך זה נחסם (blocked).\n3. התהליך השלישי מתוך ה-5 מבצע `wait()`: ערך הסמפור יורד ל-`-1 - 1 = -2`. תהליך זה נחסם.\n4. התהליך הרביעי מתוך ה-5 מבצע `wait()`: ערך הסמפור יורד ל-`-2 - 1 = -3`. תהליך זה נחסם.\n5. התהליך החמישי מתוך ה-5 מבצע `wait()`: ערך הסמפור יורד ל-`-3 - 1 = -4`. תהליך זה נחסם.\n\nלכן, הערך הסופי של הסמפור `resource_access` יהיה -4."
    },
    "difficulty_estimation": "Medium"
  }
}