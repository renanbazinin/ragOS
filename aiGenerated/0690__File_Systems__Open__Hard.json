{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 23:35:53",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 4084,
      "output_tokens": 2118,
      "total_tokens": 12878
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "File Systems",
      "I/O",
      "Disk Scheduling"
    ],
    "content": {
      "text": "נתונה מערכת קבצים חדשה בשם FlexFS. במערכת זו:\n- גודל בלוק (Block Size) הוא 4KB.\n- גודל Inode הוא 256 בתים.\n- קבצים קטנים מאוד (עד 60 בתים) נשמרים ישירות בתוך ה-inode.\n- עבור קבצים גדולים יותר, FlexFS משתמשת באלוקציה מבוססת Extents. Extent הוא רצף רציף של בלוקים פיזיים על הדיסק.\n- כל inode מכיל 10 תיאורי Extent ישירים. כל תיאור Extent הוא בגודל 16 בתים (8 בתים לכתובת הבלוק הפיזי הראשון, 8 בתים למספר הבלוקים ב-Extent).\n- אם קובץ דורש יותר Extents ממה שנכנס ב-inode, המערכת משתמשת בבלוק 'Indirect Extent Block' שיכול להכיל תיאורי Extents נוספים.\n\nנתון דיסק קשיח עם המאפיינים הבאים:\n- מהירות סיבוב (RPM): 10000.\n- זמן Seek ממוצע: 8ms.\n- קצב העברה מקסימלי: 50 MB/s.\n\nקובץ בשם `/home/user/mydata.txt` בגודל 500KB נשמר במערכת FlexFS. עקב פעולות כתיבה קודמות, הקובץ מפוצל כעת לשלושה Extents נפרדים על הדיסק, אשר אינם סמוכים זה לזה:\n- Extent A: מכיל את הנתונים מ-Offset 0KB עד 199KB (סה\"כ 200KB).\n- Extent B: מכיל את הנתונים מ-Offset 200KB עד 399KB (סה\"כ 200KB).\n- Extent C: מכיל את הנתונים מ-Offset 400KB עד 499KB (סה\"כ 100KB).\n\nיש לבצע פעולת קריאה של הנתונים מהקובץ בטווח Offsets שבין 150KB ל-450KB (כולל).\nהניחו שבלוק ה-inode של הקובץ כבר נמצא בזיכרון הראשי (cache). כמו כן, הניחו שכל גישה ל-Extent חדש דורשת פעולת Seek וזמן Latency סיבובי ממוצע, מכיוון שה-Extents מרוחקים זה מזה פיזית על הדיסק.\nפרטו את כל החישובים וההנחות באופן מלא.\n\nמהו הזמן המינימלי שתיקח פעולת הקריאה?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "פתרון:\n\nראשית נחשב את הפרמטרים של הדיסק:\n- זמן סיבוב מלא: 60 שניות / 10000 סיבובים לדקה = 0.006 שניות = 6ms.\n- זמן Latency סיבובי ממוצע: חצי מזמן סיבוב מלא = 0.5 * 6ms = 3ms.\n- זמן Seek ממוצע: 8ms (נתון).\n- קצב העברה: 50 MB/s = 50 * 1024 KB/s = 51200 KB/s.\n- גודל בלוק: 4KB.\n\nנדרש לקרוא נתונים מהקובץ בטווח Offsets שבין 150KB ל-450KB. נפרק את הקריאה לפי ה-Extents השונים:\n\n1.  **קריאה מ-Extent A (Offsets 150KB - 199KB):**\n    - ה-Extent A מכיל נתונים מ-0KB עד 199KB. הקריאה מתחילה ב-Offset 150KB בתוך הקובץ.\n    - כמות הנתונים לקריאה מ-Extent A: (199 - 150 + 1)KB = 50KB.\n    - מספר הבלוקים שיש לקרוא מ-Extent A: 50KB / 4KB = 12.5 בלוקים. מאחר שקריאה מתבצעת בבלוקים שלמים, יש לקרוא 13 בלוקים (החל מהבלוק המכיל את 150KB ועד הבלוק המכיל את 199KB).\n    - זמן העברה ל-13 בלוקים: (13 בלוקים * 4KB/בלוק) / 51200 KB/s = 52KB / 51200 KB/s ≈ 0.001015625 שניות = 1.016ms (מעוגל).\n    - זמן גישה ל-Extent A: זמן Seek + זמן Latency סיבובי ממוצע + זמן העברה = 8ms + 3ms + 1.016ms = 12.016ms.\n\n2.  **קריאה מ-Extent B (Offsets 200KB - 399KB):**\n    - ה-Extent B מכיל נתונים מ-200KB עד 399KB. נדרשת קריאה של כל ה-Extent.\n    - כמות הנתונים לקריאה מ-Extent B: (399 - 200 + 1)KB = 200KB.\n    - מספר הבלוקים שיש לקרוא מ-Extent B: 200KB / 4KB = 50 בלוקים.\n    - זמן העברה ל-50 בלוקים: (50 בלוקים * 4KB/בלוק) / 51200 KB/s = 200KB / 51200 KB/s ≈ 0.00390625 שניות = 3.906ms (מעוגל).\n    - זמן גישה ל-Extent B: זמן Seek + זמן Latency סיבובי ממוצע + זמן העברה = 8ms + 3ms + 3.906ms = 14.906ms.\n\n3.  **קריאה מ-Extent C (Offsets 400KB - 450KB):**\n    - ה-Extent C מכיל נתונים מ-400KB עד 499KB. הקריאה מסתיימת ב-Offset 450KB בתוך הקובץ.\n    - כמות הנתונים לקריאה מ-Extent C: (450 - 400 + 1)KB = 51KB.\n    - מספר הבלוקים שיש לקרוא מ-Extent C: 51KB / 4KB = 12.75 בלוקים. מאחר שקריאה מתבצעת בבלוקים שלמים, יש לקרוא 13 בלוקים (החל מהבלוק המכיל את 400KB ועד הבלוק המכיל את 450KB).\n    - זמן העברה ל-13 בלוקים: (13 בלוקים * 4KB/בלוק) / 51200 KB/s = 52KB / 51200 KB/s ≈ 0.001015625 שניות = 1.016ms (מעוגל).\n    - זמן גישה ל-Extent C: זמן Seek + זמן Latency סיבובי ממוצע + זמן העברה = 8ms + 3ms + 1.016ms = 12.016ms.\n\n**סה\"כ זמן מינימלי לקריאה:**\nמאחר שה-Extents מרוחקים זה מזה, כל גישה ל-Extent חדש דורשת פעולת Seek וזמן Latency סיבובי. לכן, נסכום את זמני הגישה לכל Extent:\nסה\"כ זמן = זמן גישה ל-Extent A + זמן גישה ל-Extent B + זמן גישה ל-Extent C\nסה\"כ זמן = 12.016ms + 14.906ms + 12.016ms = 38.938ms.\n\nהזמן המינימלי שתיקח פעולת הקריאה הוא 38.938ms."
    },
    "difficulty_estimation": "Hard"
  }
}