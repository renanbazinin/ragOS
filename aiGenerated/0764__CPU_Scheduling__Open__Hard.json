{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "CPU Scheduling",
    "requested_type": "Open",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-08 00:10:31",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2859,
      "output_tokens": 3730,
      "total_tokens": 24677
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "CPU Scheduling",
      "Scheduling Algorithms",
      "Round Robin",
      "Priority Scheduling"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת במתזמן מעבדים היברידי בעל שתי רמות עדיפות, המשלב עדיפות דינמית עם Round Robin. המתזמן פועל לפי הכללים הבאים:\n1. קיימים שני תורים: תור עדיפות גבוהה (High-Priority Queue - HPQ) ותור עדיפות נמוכה (Low-Priority Queue - LPQ).\n2. תהליכים חדשים מגיעים תחילה ל-LPQ.\n3. תהליכים ב-HPQ מקבלים קוואנטום זמן של `Q_HP = 2ms` ומופעלים במנגנון Round Robin.\n4. תהליכים ב-LPQ מקבלים קוואנטום זמן של `Q_LP = 4ms` ומופעלים במנגנון Round Robin, אך רק כאשר ה-HPQ ריק.\n5. תהליך שסיים פעולת קלט/פלט (I/O) עובר אוטומטית ל-HPQ.\n6. אם תהליך ב-LPQ רץ והגיע תהליך חדש ל-HPQ (או תהליך עבר ל-HPQ), התהליך הרץ מה-LPQ נדחק (preempted) מיד ועובר לסוף ה-LPQ.\n7. זמן החלפת קשר (Context Switch Time) הוא `1ms` בכל פעם שהמעבד עובר מתהליך אחד לאחר (כולל בין תהליכים באותו תור או בין תורים).\n8. פעולות I/O אינן דורשות מהמעבד, ומתבצעות במקביל לעבודת המעבד אם יש תהליכים אחרים זמינים. תהליך שמבצע I/O אינו נמצא בתור ה-Ready ואינו יכול לרוץ על המעבד עד לסיום ה-I/O.\n\nנתונים התהליכים הבאים:\n*   **P1**: זמן הגעה `0ms`. רצף פעולות: `CPU (5ms) -> I/O (3ms) -> CPU (3ms)`\n*   **P2**: זמן הגעה `1ms`. רצף פעולות: `CPU (4ms) -> I/O (2ms) -> CPU (2ms)`\n*   **P3**: זמן הגעה `2ms`. רצף פעולות: `CPU (6ms) -> I/O (4ms) -> CPU (1ms)`\n\nיש לשרטט את גאנט צ'ארט (Gantt Chart) המלא של ביצוע התהליכים, ולחשב עבור כל תהליך את זמן ההמתנה (Waiting Time) ואת זמן המחזור (Turnaround Time). יש להציג את כל החישובים וההנחות בפירוט.",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": 15,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "נתונים:\n*   זמן החלפת קשר (CS) = 1ms\n*   קוואנטום לתור עדיפות גבוהה (Q_HP) = 2ms\n*   קוואנטום לתור עדיפות נמוכה (Q_LP) = 4ms\n\nמעקב צעד אחר צעד:\n*   **t=0**: P1 מגיע. LPQ = [P1]. HPQ = [].\n*   **t=0-1**: CPU מבצע החלפת קשר (CS) ל-P1.\n*   **t=1**: P1 מתחיל לרוץ (P1 פרץ CPU ראשון: 5ms). זמן ריצה עד כה: 0ms.\n*   **t=1**: P2 מגיע. LPQ = [P1, P2].\n*   **t=2**: P3 מגיע. LPQ = [P1, P2, P3].\n*   **t=5**: P1 השלים 4ms (קוואנטום LPQ). נשאר ל-P1 (CPU:1ms). P1 עובר לסוף LPQ. LPQ = [P2, P3, P1].\n*   **t=5-6**: CPU מבצע החלפת קשר (CS).\n*   **t=6-7**: CPU מבצע החלפת קשר (CS) ל-P2.\n*   **t=7**: P2 מתחיל לרוץ (P2 פרץ CPU ראשון: 4ms). זמן ריצה עד כה: 0ms.\n*   **t=11**: P2 השלים 4ms (קוואנטום LPQ). נשאר ל-P2 (CPU:0ms). P2 מסיים פרץ CPU ראשון ומתחיל I/O (2ms). P2 יסיים I/O ב-t=11+2=13ms.\n*   **t=11-12**: CPU מבצע החלפת קשר (CS).\n*   **t=12-13**: CPU מבצע החלפת קשר (CS) ל-P3.\n*   **t=13**: P3 מתחיל לרוץ (P3 פרץ CPU ראשון: 6ms). זמן ריצה עד כה: 0ms.\n*   **t=13**: P2 מסיים I/O. P2 עובר ל-HPQ. HPQ = [P2].\n*   **t=13**: P3 (מתור LPQ) נדחק ע\"י P2 (מתור HPQ). נשאר ל-P3 (CPU:6ms). P3 עובר לסוף LPQ. LPQ = [P1, P3].\n*   **t=13-14**: CPU מבצע החלפת קשר (CS).\n*   **t=14-15**: CPU מבצע החלפת קשר (CS) ל-P2.\n*   **t=15**: P2 מתחיל לרוץ (P2 פרץ CPU שני: 2ms). זמן ריצה עד כה: 0ms.\n*   **t=17**: P2 השלים 2ms (קוואנטום HPQ). נשאר ל-P2 (CPU:0ms). P2 מסיים את כל פרצי ה-CPU שלו. P2 מסתיים. זמן סיום P2 = 17ms.\n*   **t=17-18**: CPU מבצע החלפת קשר (CS).\n*   **t=18-19**: CPU מבצע החלפת קשר (CS) ל-P1.\n*   **t=19**: P1 מתחיל לרוץ (P1 פרץ CPU ראשון: 1ms נותר). זמן ריצה עד כה: 0ms.\n*   **t=20**: P1 השלים 1ms. נשאר ל-P1 (CPU:0ms). P1 מסיים פרץ CPU ראשון ומתחיל I/O (3ms). P1 יסיים I/O ב-t=20+3=23ms.\n*   **t=20-21**: CPU מבצע החלפת קשר (CS).\n*   **t=21-22**: CPU מבצע החלפת קשר (CS) ל-P3.\n*   **t=22**: P3 מתחיל לרוץ (P3 פרץ CPU ראשון: 6ms נותר). זמן ריצה עד כה: 0ms.\n*   **t=26**: P3 השלים 4ms (קוואנטום LPQ). נשאר ל-P3 (CPU:2ms). P3 עובר לסוף LPQ. LPQ = [P3].\n*   **t=26-27**: CPU מבצע החלפת קשר (CS).\n*   **t=27-28**: CPU מבצע החלפת קשר (CS) ל-P3.\n*   **t=28**: P3 מתחיל לרוץ (P3 פרץ CPU ראשון: 2ms נותר). זמן ריצה עד כה: 0ms.\n*   **t=30**: P3 השלים 2ms. נשאר ל-P3 (CPU:0ms). P3 מסיים פרץ CPU ראשון ומתחיל I/O (4ms). P3 יסיים I/O ב-t=30+4=34ms.\n*   **t=30-31**: CPU מבצע החלפת קשר (CS).\n*   **t=31-33**: CPU לא פעיל (Idle) - אין תהליכים בתורים.\n*   **t=33**: P1 מסיים I/O. P1 עובר ל-HPQ. HPQ = [P1].\n*   **t=33-34**: CPU מבצע החלפת קשר (CS) ל-P1.\n*   **t=34**: P1 מתחיל לרוץ (P1 פרץ CPU שני: 3ms). זמן ריצה עד כה: 0ms.\n*   **t=34**: P3 מסיים I/O. P3 עובר ל-HPQ. HPQ = [P1, P3].\n*   **t=36**: P1 השלים 2ms (קוואנטום HPQ). נשאר ל-P1 (CPU:1ms). P1 עובר לסוף HPQ. HPQ = [P3, P1].\n*   **t=36-37**: CPU מבצע החלפת קשר (CS).\n*   **t=37-38**: CPU מבצע החלפת קשר (CS) ל-P3.\n*   **t=38**: P3 מתחיל לרוץ (P3 פרץ CPU שני: 1ms). זמן ריצה עד כה: 0ms.\n*   **t=39**: P3 השלים 1ms. נשאר ל-P3 (CPU:0ms). P3 מסיים את כל פרצי ה-CPU שלו. P3 מסתיים. זמן סיום P3 = 39ms.\n*   **t=39-40**: CPU מבצע החלפת קשר (CS).\n*   **t=40-41**: CPU מבצע החלפת קשר (CS) ל-P1.\n*   **t=41**: P1 מתחיל לרוץ (P1 פרץ CPU שני: 1ms נותר). זמן ריצה עד כה: 0ms.\n*   **t=42**: P1 השלים 1ms. נשאר ל-P1 (CPU:0ms). P1 מסיים את כל פרצי ה-CPU שלו. P1 מסתיים. זמן סיום P1 = 42ms.\n*   **t=42-43**: CPU מבצע החלפת קשר (CS).\n*   **t=43**: כל התהליכים הסתיימו.\n\n**גאנט צ'ארט (Gantt Chart):**\n| 0-1 (CS) | 1-5 (P1) | 5-6 (CS) | 6-7 (CS) | 7-11 (P2) | 11-12 (CS) | 12-13 (CS) | 13-14 (CS) | 14-15 (CS) | 15-17 (P2) | 17-18 (CS) | 18-19 (CS) | 19-20 (P1) | 20-21 (CS) | 21-22 (CS) | 22-26 (P3) | 26-27 (CS) | 27-28 (CS) | 28-30 (P3) | 30-31 (CS) | 31-33 (Idle) | 33-34 (CS) | 34-36 (P1) | 36-37 (CS) | 37-38 (CS) | 38-39 (P3) | 39-40 (CS) | 40-41 (CS) | 41-42 (P1) | 42-43 (CS) |\n\n**חישובים:**\n*   **P1**:\n    *   זמן הגעה: 0ms\n    *   זמן סיום: 42ms\n    *   זמן CPU כולל: 5ms + 3ms = 8ms\n    *   זמן מחזור (Turnaround Time) = זמן סיום - זמן הגעה = 42 - 0 = **42ms**\n    *   זמן המתנה (Waiting Time) = סך הזמן שבילה P1 בתור ה-Ready:\n        *   [0,1] (מהגעה ועד ריצה ראשונה) = 1ms\n        *   [5,19] (לאחר קוואנטום ראשון ועד ריצה שנייה) = 14ms\n        *   [23,34] (לאחר סיום I/O ועד ריצה שלישית) = 11ms\n        *   [36,41] (לאחר קוואנטום שלישי ועד ריצה רביעית) = 5ms\n        *   סה\"כ זמן המתנה = 1 + 14 + 11 + 5 = **31ms**\n\n*   **P2**:\n    *   זמן הגעה: 1ms\n    *   זמן סיום: 17ms\n    *   זמן CPU כולל: 4ms + 2ms = 6ms\n    *   זמן מחזור (Turnaround Time) = זמן סיום - זמן הגעה = 17 - 1 = **16ms**\n    *   זמן המתנה (Waiting Time) = סך הזמן שבילה P2 בתור ה-Ready:\n        *   [1,7] (מהגעה ועד ריצה ראשונה) = 6ms\n        *   [13,15] (לאחר סיום I/O ועד ריצה שנייה) = 2ms\n        *   סה\"כ זמן המתנה = 6 + 2 = **8ms**\n\n*   **P3**:\n    *   זמן הגעה: 2ms\n    *   זמן סיום: 39ms\n    *   זמן CPU כולל: 6ms + 1ms = 7ms\n    *   זמן מחזור (Turnaround Time) = זמן סיום - זמן הגעה = 39 - 2 = **37ms**\n    *   זמן המתנה (Waiting Time) = סך הזמן שבילה P3 בתור ה-Ready:\n        *   [2,13] (מהגעה ועד ריצה ראשונה) = 11ms\n        *   [13,22] (לאחר דחיקה ועד ריצה שנייה) = 9ms\n        *   [26,28] (לאחר קוואנטום שני ועד ריצה שלישית) = 2ms\n        *   [34,38] (לאחר סיום I/O ועד ריצה רביעית) = 4ms\n        *   סה\"כ זמן המתנה = 11 + 9 + 2 + 4 = **26ms**\n"
    },
    "difficulty_estimation": "Hard"
  }
}