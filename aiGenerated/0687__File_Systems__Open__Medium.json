{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 23:34:06",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2275,
      "output_tokens": 1762,
      "total_tokens": 7919
    }
  },
  "question": {
    "id": 1,
    "type": "Open",
    "topic": [
      "File Systems"
    ],
    "content": {
      "text": "נתונה מערכת קבצים המשתמשת במבנה inode הכולל 12 מצביעים ישירים (direct pointers), מצביע עקיף יחיד (single indirect pointer) אחד, ומצביע עקיף כפול (double indirect pointer) אחד. כל מצביע יכול להתייחס לבלוק דיסק. הניחו שגודל הבלוק הוא 4KB (4096 בתים) וגודל של מצביע לבלוק הוא 4 בתים.\n\nא. מהו גודל הקובץ המקסימלי הנתמך על ידי מערכת קבצים זו?\nב. תארו כיצד תתבצע פעולת קריאה לבלוק נתונים הממוקם בקיזוז (offset) גבוה מאוד, לדוגמה, הבלוק ה-100,000 של קובץ. פרטו את מספר גישות הדיסק הנדרשות כדי לאתר את בלוק הנתונים (בהנחה שה-inode כבר בזיכרון).\nג. דון ביתרונות ובחסרונות של מבנה inode זה עבור קבצים בגדלים שונים (קטנים מאוד, בינוניים, גדולים מאוד).",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "פתרון:\n\nא. גודל הקובץ המקסימלי:\n*   גודל בלוק: 4KB = 4096 בתים.\n*   מספר מצביעים לבלוק בתוך בלוק אחד: 4096 בתים / 4 בתים למצביע = 1024 מצביעים.\n\nחישוב:\n*   מצביעים ישירים (Direct pointers): 12 מצביעים * 4KB לבלוק = 48KB.\n*   מצביע עקיף יחיד (Single indirect pointer): מצביע אחד לבלוק שמכיל 1024 מצביעים לבלוקי נתונים.\n    *   מספר בלוקי נתונים: 1024 בלוקים.\n    *   סה\"כ נתונים: 1024 בלוקים * 4KB לבלוק = 4MB.\n*   מצביע עקיף כפול (Double indirect pointer): מצביע אחד לבלוק שמכיל 1024 מצביעים לבלוקים עקיפים יחידים. כל אחד מהבלוקים העקיפים היחידים מכיל 1024 מצביעים לבלוקי נתונים.\n    *   מספר בלוקי נתונים: 1024 * 1024 בלוקים = 1,048,576 בלוקים.\n    *   סה\"כ נתונים: 1,048,576 בלוקים * 4KB לבלוק = 4GB.\n\nגודל הקובץ המקסימלי הכולל: 48KB + 4MB + 4GB = 4,299,210,752 בתים.\n\nב. פעולת קריאה לבלוק נתונים בקיזוז גבוה (בלוק 100,000):\nהבלוק ה-100,000 נמצא מעבר לטווח המצביעים הישירים (12 בלוקים) ומעבר לטווח המצביע העקיף היחיד (1024 בלוקים). לכן, הוא ימופה באמצעות המצביע העקיף הכפול.\n\nשלבי איתור וקריאת הבלוק (בהנחה שה-inode כבר בזיכרון):\n1.  **גישה לבלוק העקיף הכפול:** קריאת הבלוק שאליו מצביע ה-double indirect pointer ב-inode (גישת דיסק אחת).\n2.  **גישה לבלוק העקיף היחיד:** הבלוק שנקרא בשלב 1 מכיל 1024 מצביעים לבלוקים עקיפים יחידים. נחשב את האינדקס המתאים בתוך בלוק זה כדי למצוא את המצביע לבלוק העקיף היחיד הרצוי, ונבצע קריאה לבלוק זה (גישת דיסק אחת נוספת).\n3.  **גישה לבלוק הנתונים:** הבלוק שנקרא בשלב 2 מכיל 1024 מצביעים לבלוקי נתונים. נחשב את האינדקס המתאים בתוך בלוק זה כדי למצוא את המצביע לבלוק הנתונים הרצוי, ונבצע קריאה לבלוק נתונים זה (גישת דיסק אחת נוספת).\nסה\"כ נדרשות 3 גישות דיסק על מנת לאתר ולקרוא את בלוק הנתונים (בלוק עקיף כפול -> בלוק עקיף יחיד -> בלוק נתונים).\n\nג. יתרונות וחסרונות של מבנה ה-inode עבור קבצים בגדלים שונים:\n\nיתרונות:\n*   **יעילות לקבצים קטנים:** 12 המצביעים הישירים מאפשרים גישה מהירה וישירה לנתונים עבור קבצים קטנים (עד 48KB) עם מינימום גישות דיסק (לרוב רק קריאת ה-inode עצמו). אין צורך בבלוקים נוספים לאחסון מצביעים.\n*   **מדרגיות לקבצים גדולים:** המצביעים העקיפים (יחיד וכפול) מאפשרים לקבצים לגדול לגדלים עצומים (עד 4GB במקרה זה) מבלי לדרוש הקצאה רציפה גדולה מראש על הדיסק, ובכך תומכים בשימוש יעיל בשטח דיסק ובמניעת פיצול פנימי במבנה הקובץ.\n*   **איזון:** המבנה ההיברידי הזה מציע איזון טוב בין ביצועים (לקבצים קטנים) לבין גמישות ומדרגיות (לקבצים גדולים).\n\nחסרונות:\n*   **ביצועים לקבצים גדולים מאוד:** גישה לבלוקי נתונים באמצעות מצביעים עקיפים כפולים (או יותר) דורשת מספר גישות דיסק רק כדי לאתר את בלוק הנתונים עצמו. זה מוביל לביצועי קריאה/כתיבה איטיים יותר עבור קבצים גדולים מאוד בהשוואה למערכת המשתמשת בהקצאה רציפה לחלוטין (אם כי הקצאה רציפה פחות גמישה וסובלת מבעיות פיצול). \n*   **תקורה לקבצים בינוניים:** קובץ שצריך רק בלוק אחד מהמצביע העקיף היחיד, לדוגמה, עדיין דורש בלוק נוסף אחד לאחסון המצביעים, מה שמוסיף תקורה מסוימת.\n*   **מורכבות:** המבנה מורכב יותר ליישום ולניהול בהשוואה לשיטות הקצאה פשוטות יותר."
    },
    "difficulty_estimation": "Medium"
  }
}