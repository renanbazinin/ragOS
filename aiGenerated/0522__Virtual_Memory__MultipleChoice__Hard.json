{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Virtual Memory",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Hard",
    "generated_at": "2026-02-07 22:18:27",
    "examples_used": 2,
    "token_usage": {
      "prompt_tokens": 969,
      "output_tokens": 1096,
      "total_tokens": 8761
    }
  },
  "question": {
    "id": 101,
    "type": "MultipleChoice",
    "topic": [
      "Virtual Memory",
      "Paging",
      "Page Faults",
      "Multi-level Page Tables",
      "TLB"
    ],
    "content": {
      "text": "מערכת הפעלה משתמשת בטבלת דפים היררכית בעלת 3 רמות (3-level page table) וכן ב-TLB. תהליך מנסה לגשת לכתובת וירטואלית מסוימת (VA) בכדי לבצע פעולת קריאה. נניח את המצבים הבאים בתחילת הגישה: 1. ה-TLB ריק לגמרי. 2. דף טבלת הדפים ברמה הראשונה (L1 Page Table Page) *נמצא* בזיכרון הפיזי. 3. דף טבלת הדפים ברמה השנייה (L2 Page Table Page) *אינו נמצא* בזיכרון הפיזי. 4. דף טבלת הדפים ברמה השלישית (L3 Page Table Page) *נמצא* בזיכרון הפיזי. 5. דף הנתונים (Data Page) אליו מתייחסת הכתובת VA *אינו נמצא* בזיכרון הפיזי. בהתבסס על תנאים אלו, כמה *פסיקות דף (page faults)* לכל היותר יתרחשו במהלך ניסיון הגישה ל-VA, עד שהנתונים ייטענו לזיכרון הפיזי ויהיו נגישים? (יש להתעלם מפסיקות דף אפשריות שאינן קשורות ישירות לתרגום הכתובת או לטעינת דף הנתונים, למשל עבור מבני נתונים פנימיים של מערכת ההפעלה שאינם חלק מטבלאות הדפים).",
      "code_snippet": null,
      "options": [
        "א. 1",
        "ב. 2",
        "ג. 3",
        "ד. 4",
        "ה. אף אחת מהתשובות אינה נכונה."
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "ננתח את שלבי הגישה לכתובת הוירטואלית:\n1.  **בדיקת TLB**: ה-TLB ריק, ולכן מתרחש TLB Miss. זו אינה פסיקת דף, אלא רק אי-הצלחה בחיפוש במטמון.\n2.  **גישה ל-PTE ברמה 1**: המעבד מנסה לאתר את דף טבלת הדפים ברמה 1 (L1 Page Table Page). נתון שדף זה *נמצא* בזיכרון הפיזי. לכן, אין פסיקת דף בשלב זה. המעבד קורא את ה-PTE המתאים ברמה 1.\n3.  **גישה ל-PTE ברמה 2**: ה-PTE ברמה 1 מפנה לדף טבלת הדפים ברמה 2 (L2 Page Table Page). נתון שדף זה *אינו נמצא* בזיכרון הפיזי. לכן, מתרחשת **פסיקת דף ראשונה**. מערכת ההפעלה מטפלת בפסיקה, טוענת את דף טבלת הדפים ברמה 2 מהדיסק לזיכרון הפיזי, והמעבד יכול כעת לקרוא את ה-PTE המתאים ברמה 2.\n4.  **גישה ל-PTE ברמה 3**: ה-PTE ברמה 2 מפנה לדף טבלת הדפים ברמה 3 (L3 Page Table Page). נתון שדף זה *נמצא* בזיכרון הפיזי. לכן, אין פסיקת דף בשלב זה. המעבד קורא את ה-PTE המתאים ברמה 3.\n5.  **גישה לדף הנתונים**: ה-PTE ברמה 3 מפנה לדף הנתונים (Data Page) עצמו. נתון שדף הנתונים *אינו נמצא* בזיכרון הפיזי. לכן, מתרחשת **פסיקת דף שנייה**. מערכת ההפעלה מטפלת בפסיקה, טוענת את דף הנתונים מהדיסק לזיכרון הפיזי, והמעבד יכול כעת לגשת לנתונים.\n\nבסך הכל, התרחשו 2 פסיקות דף."
    },
    "difficulty_estimation": "Hard"
  }
}