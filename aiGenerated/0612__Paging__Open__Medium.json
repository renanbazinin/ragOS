{
  "metadata": {
    "source": "ai_generated",
    "subject": "Virtualization",
    "topic_hint": "Paging",
    "requested_type": "Open",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-07 23:01:00",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 2072,
      "output_tokens": 1351,
      "total_tokens": 5911
    }
  },
  "question": {
    "id": 10,
    "type": "Open",
    "topic": [
      "Memory Management",
      "Paging",
      "Virtual Memory",
      "Two-level Paging"
    ],
    "content": {
      "text": "נתונה מערכת הפעלה המשתמשת בזיכרון וירטואלי עם כתובות באורך 32 ביטים. גודל הזיכרון הפיזי הוא 16MB. גודל הדף במערכת הוא 4KB. המערכת משתמשת במנגנון Paging דו-שלבי, כאשר כל כניסה בטבלת הדפים (PTE) היא בגודל 4 בתים.\n\nענה על השאלות הבאות:\n1. מהו מספר הביטים הנדרש עבור ה-VPN (Virtual Page Number)?\n2. מהו מספר הביטים הנדרש עבור ה-PFN (Physical Frame Number)?\n3. כמה ביטים מוקצים לכל רמה ב-VPN (VPN1 ו-VPN2)?\n4. מהו נפח הזיכרון הפיזי המקסימלי שיידרש עבור טבלאות הדפים של תהליך יחיד, הממפה את כל מרחב הכתובות הוירטואלי שלו?",
      "code_snippet": null,
      "options": null
    },
    "sub_questions": null,
    "points": null,
    "solution": {
      "is_present_in_file": true,
      "correct_option": null,
      "explanation": "להלן הפתרון המלא:\n\n1.  **חישוב VPN (Virtual Page Number):**\n    *   אורך כתובת וירטואלית: 32 ביטים (נתון).\n    *   גודל דף: 4KB = 2^12 בתים. לכן, ההיסט (offset) בתוך הדף הוא 12 ביטים.\n    *   VPN = אורך כתובת וירטואלית - היסט = 32 ביטים - 12 ביטים = 20 ביטים.\n\n2.  **חישוב PFN (Physical Frame Number):**\n    *   גודל זיכרון פיזי: 16MB = 2^24 בתים. לכן, אורך כתובת פיזית הוא 24 ביטים.\n    *   היסט: 12 ביטים (זהה לגודל הדף).\n    *   PFN = אורך כתובת פיזית - היסט = 24 ביטים - 12 ביטים = 12 ביטים.\n\n3.  **חלוקת ביטים עבור VPN1 ו-VPN2:**\n    *   כל כניסה בטבלת הדפים (PTE) היא בגודל 4 בתים (נתון).\n    *   גודל דף הוא 4KB. מספר הכניסות שיכולות להיכנס לדף אחד הוא: 4KB / 4 בתים/כניסה = 1024 כניסות.\n    *   לכן, כל אינדקס בטבלה (בין אם זה אינדקס למדריך הדפים ברמה 1 או אינדקס לטבלת הדפים ברמה 2) צריך לייצג 1024 ערכים, מה שדורש 10 ביטים (כי 2^10 = 1024).\n    *   VPN1 (אינדקס למדריך הדפים ברמה הראשונה) = 10 ביטים.\n    *   VPN2 (אינדקס לטבלת הדפים ברמה השנייה) = 10 ביטים.\n    *   סך הכל VPN = 10 ביטים (VPN1) + 10 ביטים (VPN2) = 20 ביטים, כפי שחושב בסעיף 1.\n\n4.  **נפח זיכרון פיזי מקסימלי עבור טבלאות הדפים של תהליך יחיד:**\n    *   **מדריך הדפים (Page Directory - רמה 1):**\n        *   מדריך הדפים מכיל 2^VPN1 כניסות = 2^10 = 1024 כניסות.\n        *   גודל מדריך הדפים: 1024 כניסות * 4 בתים/כניסה = 4096 בתים = 4KB. (זה תופס בדיוק דף פיזי אחד).\n    *   **טבלאות הדפים ברמה 2:**\n        *   במקרה הגרוע ביותר, אם התהליך ממפה את כל מרחב הכתובות הוירטואלי שלו, הוא יזדקק לכל טבלאות הדפים ברמה 2 האפשריות. יש 2^VPN1 אפשרויות לטבלאות רמה 2, כלומר 1024 טבלאות כאלה.\n        *   כל טבלת דפים ברמה 2 היא בגודל 4KB (כפי שחושב לעיל, מכילה 1024 כניסות של 4 בתים).\n        *   גודל כולל של טבלאות רמה 2: 1024 טבלאות * 4KB/טבלה = 4MB.\n    *   **סה\"כ זיכרון פיזי מקסימלי עבור טבלאות הדפים:**\n        *   גודל מדריך הדפים + גודל טבלאות רמה 2 = 4KB + 4MB.\n        *   סה\"כ = 4,198,400 בתים (או 4MB + 4KB)."
    },
    "difficulty_estimation": "Medium"
  }
}