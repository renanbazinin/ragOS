{
  "metadata": {
    "source": "ai_generated",
    "subject": "File Systems",
    "topic_hint": "File Systems and I/O",
    "requested_type": "MultipleChoice",
    "requested_difficulty": "Medium",
    "generated_at": "2026-02-08 10:59:59",
    "examples_used": 3,
    "token_usage": {
      "prompt_tokens": 1233,
      "output_tokens": 781,
      "total_tokens": 3228
    }
  },
  "question": {
    "id": 6,
    "type": "MultipleChoice",
    "topic": [
      "File Systems",
      "I/O",
      "Buffering",
      "System Calls"
    ],
    "content": {
      "text": "מהו היתרון העיקרי בשימוש בפונקציה `fread()` מהספרייה הסטנדרטית (stdio), לעומת קריאה ישירה עם קריאת המערכת `read()`, בעת ביצוע קריאות קטנות ותכופות מקובץ, בהקשר של פעולות I/O בפועל על הדיסק?",
      "code_snippet": null,
      "options": [
        "א. `fread()` עוקף תמיד את מטמון המערכת (OS buffer cache).",
        "ב. `fread()` מבצע פחות קריאות מערכת על ידי אגירת נתונים במרחב המשתמש.",
        "ג. `fread()` מטפל אוטומטית בנעילת קבצים עבור מספר תהליכים.",
        "ד. `fread()` מאפשר גישה ישירה לבלוקים בדיסק מהזיכרון ללא מעורבות מערכת ההפעלה.",
        "ה. `fread()` תמיד מהיר יותר ללא קשר לגודל הקריאה או תדירותה."
      ]
    },
    "sub_questions": null,
    "points": 5,
    "solution": {
      "is_present_in_file": true,
      "correct_option": "ב",
      "explanation": "התשובה הנכונה היא ב'. `fread()` היא פונקציה מהספרייה הסטנדרטית (stdio) המיישמת שכבת אגירה (buffering) במרחב המשתמש. כאשר מבצעים קריאות קטנות ותכופות, `fread()` יכולה לקרוא בלוק גדול יותר מהקובץ באמצעות קריאת מערכת אחת של `read()`, ולאחר מכן לספק למשתמש את הנתונים בחלקים קטנים מתוך המטמון שבמרחב המשתמש. זה מקטין באופן משמעותי את מספר קריאות המערכת (system calls) ואת המעברים בין מצב משתמש למצב ליבה, ובכך משפר את הביצועים עבור קריאות קטנות רבות. `read()` לעומת זאת, היא קריאת מערכת ישירה, וכל קריאה קטנה תגרום למעבר למצב ליבה. אפשרות א' שגויה מכיוון ש-`fread()` עדיין משתמשת ב-`read()` שכן ניגשת למטמון המערכת. אפשרות ג' שגויה מכיוון שנעילת קבצים היא מנגנון נפרד ואינה מטופלת אוטומטית על ידי `fread()`. אפשרות ד' שגויה מכיוון שגישה ישירה לבלוקים בדיסק היא פעולה ברמה נמוכה יותר ולא מנגנון סטנדרטי של `fread()`. אפשרות ה' שגויה מכיוון ש-`fread()` לא תמיד מהיר יותר; עבור קריאות גדולות מאוד, ההבדל עשוי להיות זניח או ש-`read()` אף תהיה מהירה יותר במקרים מסוימים."
    },
    "difficulty_estimation": "Medium"
  }
}